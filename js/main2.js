var correctionObjectClass = (function () {
    function correctionObjectClass() {
        this.id = "";
        this.syntaxEditor = function (tag, element) { };
    }
    correctionObjectClass.prototype.getTags = function () {
        return this.downloadTags;
    };
    correctionObjectClass.prototype.done = function () {
        correctionTool.registerObject(this);
    };
    correctionObjectClass.prototype.correctionObjectClass = function () { };
    correctionObjectClass.prototype.editorForm = function (label, value, type) {
        if (type === void 0) { type = "error"; }
        var div = $('<div />').addClass("syntaxElement").addClass("form-group").addClass("panel").addClass("panel-" + type).append($("<label />").attr("for", "input").addClass("control-label").addClass("panel-heading").html(label)).append($("<input />").attr("id", "input").addClass("form-control").addClass("panel-body").attr("type", "text").attr("pattern", "\\+(?:[0-9][ -]?){6,14}[0-9]").val(value));
        var form = $('<form />').attr("role", "form").append(div).append($("<button />").addClass("btn").addClass("btn-success").html("weiter").click(correctionTool.syntaxCorrection));
        return form;
    };
    return correctionObjectClass;
}());
var correctionToolClass = (function () {
    function correctionToolClass() {
        this.syntaxFlag = true;
    }
    correctionToolClass.prototype.registerObject = function (obj) {
        this.callbacks.push(obj);
        for (var tag in obj.downloadTags) {
            this.overpassQuery(obj.downloadTags[tag]);
        }
    };
    ;
    correctionToolClass.prototype.overpassQuery = function (option) {
        var bounds = map.getBounds().getSouth() + ',' + map.getBounds().getWest() + ',' + map.getBounds().getNorth() + ',' + map.getBounds().getEast();
        $.getJSON("https://overpass-api.de/api/interpreter", { "data": '[out:json][timeout:25];(node["' + option + '"](' + bounds + ');way["' + option + '"](' + bounds + ');relation["' + option + '"](' + bounds + '););out body;>;out skel qt;' }, this.correctData);
    };
    ;
    correctionToolClass.prototype.correctData = function (data) {
        for (var i_1 = 0; i_1 < data.elements.length; i_1++) {
            if (data.elements[i_1].type === "node") {
                if (typeof this.nodes[data.elements[i_1].id] !== "undefined") {
                    continue;
                }
                this.nodes[data.elements[i_1].id] = data.elements[i_1];
            }
            else if (data.elements[i_1].type === "way") {
                if (typeof this.ways[data.elements[i_1].id] !== "undefined") {
                    continue;
                }
                this.ways[data.elements[i_1].id] = data.elements[i_1];
            }
            else if (data.elements[i_1].type === "relation") {
                if (typeof this.relations[data.elements[i_1].id] !== "undefined") {
                    continue;
                }
                this.relations[data.elements[i_1].id] = data.elements[i_1];
            }
            if (typeof data.elements[i_1].tags !== "undefined") {
                var correct = [];
                for (var key in this.callbacks) {
                    correct = this.callbacks[key].correctingSyntax(data.elements[i_1]);
                    if (correct.length > 0) {
                        for (var cKey in correct) {
                            this.syntaxErrors.push({
                                element: data.elements[i_1],
                                tag: correct[cKey],
                                plugin: this.callbacks[key]
                            });
                        }
                    }
                }
            }
        }
        if (this.syntaxFlag && (this.syntaxErrors.length > 0)) {
            this.syntaxFlag = false;
            this.syntaxEditor();
        }
    };
    correctionToolClass.prototype.syntaxEditor = function () {
        this.syntaxError = this.syntaxErrors.shift();
        this.showElement(this.syntaxError.element);
        this.syntaxError.plugin.syntaxEditor(this.syntaxError.tag, this.syntaxError.element);
    };
    ;
    correctionToolClass.prototype.showNode = function (element) {
        this.shownElement.addLayer(L.circle(L.latLng(element.lat, element.lon), 3));
        if (this.shownElementBounds === null) {
            this.shownElementBounds = new L.LatLngBounds(L.latLng(element.lat, element.lon), L.latLng(element.lat, element.lon));
        }
        else {
            this.shownElementBounds = this.shownElementBounds.extend(L.latLng(element.lat, element.lon));
        }
    };
    ;
    correctionToolClass.prototype.showWay = function (element) {
        var way = [];
        var shownElement;
        for (var i_2 in element.nodes) {
            way.push(L.latLng(this.nodes[element.nodes[i_2]].lat, this.nodes[element.nodes[i_2]].lon));
        }
        if (element.nodes[0] === element.nodes[element.nodes.length - 1]) {
            shownElement = L.polygon(way);
        }
        else {
            shownElement = L.polyline(way);
        }
        this.shownElement.addLayer(shownElement);
        if (this.shownElementBounds === null) {
            this.shownElementBounds = shownElement.getBounds();
        }
        else {
            this.shownElementBounds.extend(shownElement.getBounds());
        }
    };
    correctionToolClass.prototype.showRelation = function (element) {
        console.log("bah");
    };
    correctionToolClass.prototype.showElement = function (element) {
        this.shownElementBounds = null;
        map.removeLayer(this.shownElement);
        this.shownElement.clearLayers();
        if (element.type === "node") {
            this.showNode(element);
        }
        else if (element.type === "way") {
            this.showWay(element);
        }
        else if (element.type === "relation") {
            this.showRelation(element);
        }
        map.addLayer(this.shownElement);
        map.fitBounds(this.shownElementBounds);
    };
    ;
    correctionToolClass.prototype.syntaxCorrection = function () {
        var input = $('input#input').val();
        if (input !== this.syntaxError.element.tags[this.syntaxError.tag]) {
            this.syntaxError.element.tags[this.syntaxError.tag] = input;
            if (this.modifiedElements.indexOf(this.syntaxError.element) != -1) {
                this.modifiedElements.splice(this.modifiedElements.indexOf(this.syntaxError.element), 1);
            }
            this.modifiedElements.push(this.syntaxError.element);
        }
        if (this.syntaxErrors.length > 0) {
            this.syntaxEditor();
        }
        else {
            $('#syntax').html("");
            document.getElementById("stateTwo").classList.add("hidden");
            document.getElementById("stateThree").classList.remove("hidden");
        }
    };
    correctionToolClass.prototype.saveNode = function (element, changesetID) {
        var node = document.createElement('node');
        var id = document.createAttribute('id');
        id.value = element.id;
        node.setAttributeNode(id);
        var changeset = document.createAttribute('changeset');
        changeset.value = changesetID;
        node.setAttributeNode(changeset);
        var version = document.createAttribute('version');
        version.value = element.version + 1;
        node.setAttributeNode(version);
        var lat = document.createAttribute('lat');
        lat.value = element.lat;
        node.setAttributeNode(lat);
        var lon = document.createAttribute('lon');
        lon.value = element.lon;
        node.setAttributeNode(lon);
        return node;
    };
    correctionToolClass.prototype.saveWay = function (element, changesetID) {
        var node = document.createElement('node');
        var id = document.createAttribute('id');
        id.value = element.id;
        node.setAttributeNode(id);
        var changeset = document.createAttribute('changeset');
        changeset.value = changesetID;
        node.setAttributeNode(changeset);
        var version = document.createAttribute('version');
        version.value = element.version + 1;
        node.setAttributeNode(version);
        var lat = document.createAttribute('lat');
        lat.value = element.lat;
        node.setAttributeNode(lat);
        var lon = document.createAttribute('lon');
        lon.value = element.lon;
        node.setAttributeNode(lon);
        return node;
    };
    correctionToolClass.prototype.saveRelation = function (element, changesetID) {
        var node = document.createElement('node');
        var id = document.createAttribute('id');
        id.value = element.id;
        node.setAttributeNode(id);
        var changeset = document.createAttribute('changeset');
        changeset.value = changesetID;
        node.setAttributeNode(changeset);
        var version = document.createAttribute('version');
        version.value = element.version + 1;
        node.setAttributeNode(version);
        var lat = document.createAttribute('lat');
        lat.value = element.lat;
        node.setAttributeNode(lat);
        var lon = document.createAttribute('lon');
        lon.value = element.lon;
        node.setAttributeNode(lon);
        return node;
    };
    ;
    correctionToolClass.prototype.openChangeset = function () {
        auth.xhr({
            method: 'PUT',
            path: '/api/0.6/changeset/create',
            content: '<?xml version="1.0" encoding="UTF-8"?>' +
                '<osm version="0.6" generator="JOSM">' +
                '<changeset>' +
                '<tag k="created_by" v="osmCorrection"/>' +
                '<tag k="comment" v="Syntax correction and validation"/>' +
                '</changeset>' +
                '</osm>'
        }, this.modifyChangeset);
    };
    ;
    correctionToolClass.prototype.modifyChangeset = function (err, data) {
        console.log(err);
        console.log(data);
    };
    correctionToolClass.prototype.closeChangeset = function () {
        var xml = '<osm><changeset><tag k="created_by" v="osmCorrection"/><tag k="comment" v="Syntax correction and validation"/></changeset></osm>';
    };
    correctionToolClass.prototype.save = function () {
        if (this.modifiedElements.length > 0) {
            this.openChangeset();
        }
        else {
            console.log(this.modifiedElements);
        }
        return false;
    };
    ;
    return correctionToolClass;
}());
/*!
 * Validator v0.11.9 for Bootstrap 3, by @1000hz
 * Copyright 2017 Cina Saffary
 * Licensed under http://opensource.org/licenses/MIT
 *
 * https://github.com/1000hz/bootstrap-validator
 */
+function ($) {
    'use strict';
    function getValue($el) {
        return $el.is('[type="checkbox"]') ? $el.prop('checked') :
            $el.is('[type="radio"]') ? !!$('[name="' + $el.attr('name') + '"]:checked').length :
                $el.is('select[multiple]') ? ($el.val() || []).length :
                    $el.val();
    }
    var Validator = function (element, options) {
        this.options = options;
        this.validators = $.extend({}, Validator.VALIDATORS, options.custom);
        this.$element = $(element);
        this.$btn = $('button[type="submit"], input[type="submit"]')
            .filter('[form="' + this.$element.attr('id') + '"]')
            .add(this.$element.find('input[type="submit"], button[type="submit"]'));
        this.update();
        this.$element.on('input.bs.validator change.bs.validator focusout.bs.validator', $.proxy(this.onInput, this));
        this.$element.on('submit.bs.validator', $.proxy(this.onSubmit, this));
        this.$element.on('reset.bs.validator', $.proxy(this.reset, this));
        this.$element.find('[data-match]').each(function () {
            var $this = $(this);
            var target = $this.attr('data-match');
            $(target).on('input.bs.validator', function (e) {
                getValue($this) && $this.trigger('input.bs.validator');
            });
        });
        this.$inputs.filter(function () {
            return getValue($(this)) && !$(this).closest('.has-error').length;
        }).trigger('focusout');
        this.$element.attr('novalidate', true);
    };
    Validator.VERSION = '0.11.9';
    Validator.INPUT_SELECTOR = ':input:not([type="hidden"], [type="submit"], [type="reset"], button)';
    Validator.FOCUS_OFFSET = 20;
    Validator.DEFAULTS = {
        delay: 500,
        html: false,
        disable: true,
        focus: true,
        custom: {},
        errors: {
            match: 'Does not match',
            minlength: 'Not long enough'
        },
        feedback: {
            success: 'glyphicon-ok',
            error: 'glyphicon-remove'
        }
    };
    Validator.VALIDATORS = {
        'native': function ($el) {
            var el = $el[0];
            if (el.checkValidity) {
                return !el.checkValidity() && !el.validity.valid && (el.validationMessage || "error!");
            }
        },
        'match': function ($el) {
            var target = $el.attr('data-match');
            return $el.val() !== $(target).val() && Validator.DEFAULTS.errors.match;
        },
        'minlength': function ($el) {
            var minlength = $el.attr('data-minlength');
            return $el.val().length < minlength && Validator.DEFAULTS.errors.minlength;
        }
    };
    Validator.prototype.update = function () {
        var self = this;
        this.$inputs = this.$element.find(Validator.INPUT_SELECTOR)
            .add(this.$element.find('[data-validate="true"]'))
            .not(this.$element.find('[data-validate="false"]')
            .each(function () { self.clearErrors($(this)); }));
        this.toggleSubmit();
        return this;
    };
    Validator.prototype.onInput = function (e) {
        var self = this;
        var $el = $(e.target);
        var deferErrors = e.type !== 'focusout';
        if (!this.$inputs.is($el))
            return;
        this.validateInput($el, deferErrors).done(function () {
            self.toggleSubmit();
        });
    };
    Validator.prototype.validateInput = function ($el, deferErrors) {
        var value = getValue($el);
        var prevErrors = $el.data('bs.validator.errors');
        if ($el.is('[type="radio"]'))
            $el = this.$element.find('input[name="' + $el.attr('name') + '"]');
        var e = $.Event('validate.bs.validator', { relatedTarget: $el[0] });
        this.$element.trigger(e);
        if (e.isDefaultPrevented())
            return;
        var self = this;
        return this.runValidators($el).done(function (errors) {
            $el.data('bs.validator.errors', errors);
            errors.length
                ? deferErrors ? self.defer($el, self.showErrors) : self.showErrors($el)
                : self.clearErrors($el);
            if (!prevErrors || errors.toString() !== prevErrors.toString()) {
                e = errors.length
                    ? $.Event('invalid.bs.validator', { relatedTarget: $el[0], detail: errors })
                    : $.Event('valid.bs.validator', { relatedTarget: $el[0], detail: prevErrors });
                self.$element.trigger(e);
            }
            self.toggleSubmit();
            self.$element.trigger($.Event('validated.bs.validator', { relatedTarget: $el[0] }));
        });
    };
    Validator.prototype.runValidators = function ($el) {
        var errors = [];
        var deferred = $.Deferred();
        $el.data('bs.validator.deferred') && $el.data('bs.validator.deferred').reject();
        $el.data('bs.validator.deferred', deferred);
        function getValidatorSpecificError(key) {
            return $el.attr('data-' + key + '-error');
        }
        function getValidityStateError() {
            var validity = $el[0].validity;
            return validity.typeMismatch ? $el.attr('data-type-error')
                : validity.patternMismatch ? $el.attr('data-pattern-error')
                    : validity.stepMismatch ? $el.attr('data-step-error')
                        : validity.rangeOverflow ? $el.attr('data-max-error')
                            : validity.rangeUnderflow ? $el.attr('data-min-error')
                                : validity.valueMissing ? $el.attr('data-required-error')
                                    : null;
        }
        function getGenericError() {
            return $el.attr('data-error');
        }
        function getErrorMessage(key) {
            return getValidatorSpecificError(key)
                || getValidityStateError()
                || getGenericError();
        }
        $.each(this.validators, $.proxy(function (key, validator) {
            var error = null;
            if ((getValue($el) || $el.attr('required')) &&
                ($el.attr('data-' + key) !== undefined || key == 'native') &&
                (error = validator.call(this, $el))) {
                error = getErrorMessage(key) || error;
                !~errors.indexOf(error) && errors.push(error);
            }
        }, this));
        if (!errors.length && getValue($el) && $el.attr('data-remote')) {
            this.defer($el, function () {
                var data = {};
                data[$el.attr('name')] = getValue($el);
                $.get($el.attr('data-remote'), data)
                    .fail(function (jqXHR, textStatus, error) { errors.push(getErrorMessage('remote') || error); })
                    .always(function () { deferred.resolve(errors); });
            });
        }
        else
            deferred.resolve(errors);
        return deferred.promise();
    };
    Validator.prototype.validate = function () {
        var self = this;
        $.when(this.$inputs.map(function (el) {
            return self.validateInput($(this), false);
        })).then(function () {
            self.toggleSubmit();
            self.focusError();
        });
        return this;
    };
    Validator.prototype.focusError = function () {
        if (!this.options.focus)
            return;
        var $input = this.$element.find(".has-error:first :input");
        if ($input.length === 0)
            return;
        $('html, body').animate({ scrollTop: $input.offset().top - Validator.FOCUS_OFFSET }, 250);
        $input.focus();
    };
    Validator.prototype.showErrors = function ($el) {
        var method = this.options.html ? 'html' : 'text';
        var errors = $el.data('bs.validator.errors');
        var $group = $el.closest('.form-group');
        var $block = $group.find('.help-block.with-errors');
        var $feedback = $group.find('.form-control-feedback');
        if (!errors.length)
            return;
        errors = $('<ul/>')
            .addClass('list-unstyled')
            .append($.map(errors, function (error) { return $('<li/>')[method](error); }));
        $block.data('bs.validator.originalContent') === undefined && $block.data('bs.validator.originalContent', $block.html());
        $block.empty().append(errors);
        $group.addClass('has-error has-danger');
        $group.hasClass('has-feedback')
            && $feedback.removeClass(this.options.feedback.success)
            && $feedback.addClass(this.options.feedback.error)
            && $group.removeClass('has-success');
    };
    Validator.prototype.clearErrors = function ($el) {
        var $group = $el.closest('.form-group');
        var $block = $group.find('.help-block.with-errors');
        var $feedback = $group.find('.form-control-feedback');
        $block.html($block.data('bs.validator.originalContent'));
        $group.removeClass('has-error has-danger has-success');
        $group.hasClass('has-feedback')
            && $feedback.removeClass(this.options.feedback.error)
            && $feedback.removeClass(this.options.feedback.success)
            && getValue($el)
            && $feedback.addClass(this.options.feedback.success)
            && $group.addClass('has-success');
    };
    Validator.prototype.hasErrors = function () {
        function fieldErrors() {
            return !!($(this).data('bs.validator.errors') || []).length;
        }
        return !!this.$inputs.filter(fieldErrors).length;
    };
    Validator.prototype.isIncomplete = function () {
        function fieldIncomplete() {
            var value = getValue($(this));
            return !(typeof value == "string" ? $.trim(value) : value);
        }
        return !!this.$inputs.filter('[required]').filter(fieldIncomplete).length;
    };
    Validator.prototype.onSubmit = function (e) {
        this.validate();
        if (this.isIncomplete() || this.hasErrors())
            e.preventDefault();
    };
    Validator.prototype.toggleSubmit = function () {
        if (!this.options.disable)
            return;
        this.$btn.toggleClass('disabled', this.isIncomplete() || this.hasErrors());
    };
    Validator.prototype.defer = function ($el, callback) {
        callback = $.proxy(callback, this, $el);
        if (!this.options.delay)
            return callback();
        window.clearTimeout($el.data('bs.validator.timeout'));
        $el.data('bs.validator.timeout', window.setTimeout(callback, this.options.delay));
    };
    Validator.prototype.reset = function () {
        this.$element.find('.form-control-feedback')
            .removeClass(this.options.feedback.error)
            .removeClass(this.options.feedback.success);
        this.$inputs
            .removeData(['bs.validator.errors', 'bs.validator.deferred'])
            .each(function () {
            var $this = $(this);
            var timeout = $this.data('bs.validator.timeout');
            window.clearTimeout(timeout) && $this.removeData('bs.validator.timeout');
        });
        this.$element.find('.help-block.with-errors')
            .each(function () {
            var $this = $(this);
            var originalContent = $this.data('bs.validator.originalContent');
            $this
                .removeData('bs.validator.originalContent')
                .html(originalContent);
        });
        this.$btn.removeClass('disabled');
        this.$element.find('.has-error, .has-danger, .has-success').removeClass('has-error has-danger has-success');
        return this;
    };
    Validator.prototype.destroy = function () {
        this.reset();
        this.$element
            .removeAttr('novalidate')
            .removeData('bs.validator')
            .off('.bs.validator');
        this.$inputs
            .off('.bs.validator');
        this.options = null;
        this.validators = null;
        this.$element = null;
        this.$btn = null;
        this.$inputs = null;
        return this;
    };
    function Plugin(option) {
        return this.each(function () {
            var $this = $(this);
            var options = $.extend({}, Validator.DEFAULTS, $this.data(), typeof option == 'object' && option);
            var data = $this.data('bs.validator');
            if (!data && option == 'destroy')
                return;
            if (!data)
                $this.data('bs.validator', (data = new Validator(this, options)));
            if (typeof option == 'string')
                data[option]();
        });
    }
    var old = $.fn.validator;
    $.fn.validator = Plugin;
    $.fn.validator.Constructor = Validator;
    $.fn.validator.noConflict = function () {
        $.fn.validator = old;
        return this;
    };
    $(window).on('load', function () {
        $('form[data-toggle="validator"]').each(function () {
            var $form = $(this);
            Plugin.call($form, $form.data());
        });
    });
}(jQuery);
define([
    "./var/arr",
    "./var/document",
    "./var/getProto",
    "./var/slice",
    "./var/concat",
    "./var/push",
    "./var/indexOf",
    "./var/class2type",
    "./var/toString",
    "./var/hasOwn",
    "./var/fnToString",
    "./var/ObjectFunctionString",
    "./var/support",
    "./core/DOMEval"
], function (arr, document, getProto, slice, concat, push, indexOf, class2type, toString, hasOwn, fnToString, ObjectFunctionString, support, DOMEval) {
    "use strict";
    var version = "3.1.1", jQuery = function (selector, context) {
        return new jQuery.fn.init(selector, context);
    }, rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, rmsPrefix = /^-ms-/, rdashAlpha = /-([a-z])/g, fcamelCase = function (all, letter) {
        return letter.toUpperCase();
    };
    jQuery.fn = jQuery.prototype = {
        jquery: version,
        constructor: jQuery,
        length: 0,
        toArray: function () {
            return slice.call(this);
        },
        get: function (num) {
            if (num == null) {
                return slice.call(this);
            }
            return num < 0 ? this[num + this.length] : this[num];
        },
        pushStack: function (elems) {
            var ret = jQuery.merge(this.constructor(), elems);
            ret.prevObject = this;
            return ret;
        },
        each: function (callback) {
            return jQuery.each(this, callback);
        },
        map: function (callback) {
            return this.pushStack(jQuery.map(this, function (elem, i) {
                return callback.call(elem, i, elem);
            }));
        },
        slice: function () {
            return this.pushStack(slice.apply(this, arguments));
        },
        first: function () {
            return this.eq(0);
        },
        last: function () {
            return this.eq(-1);
        },
        eq: function (i) {
            var len = this.length, j = +i + (i < 0 ? len : 0);
            return this.pushStack(j >= 0 && j < len ? [this[j]] : []);
        },
        end: function () {
            return this.prevObject || this.constructor();
        },
        push: push,
        sort: arr.sort,
        splice: arr.splice
    };
    jQuery.extend = jQuery.fn.extend = function () {
        var options, name, src, copy, copyIsArray, clone, target = arguments[0] || {}, i = 1, length = arguments.length, deep = false;
        if (typeof target === "boolean") {
            deep = target;
            target = arguments[i] || {};
            i++;
        }
        if (typeof target !== "object" && !jQuery.isFunction(target)) {
            target = {};
        }
        if (i === length) {
            target = this;
            i--;
        }
        for (; i < length; i++) {
            if ((options = arguments[i]) != null) {
                for (name in options) {
                    src = target[name];
                    copy = options[name];
                    if (target === copy) {
                        continue;
                    }
                    if (deep && copy && (jQuery.isPlainObject(copy) ||
                        (copyIsArray = jQuery.isArray(copy)))) {
                        if (copyIsArray) {
                            copyIsArray = false;
                            clone = src && jQuery.isArray(src) ? src : [];
                        }
                        else {
                            clone = src && jQuery.isPlainObject(src) ? src : {};
                        }
                        target[name] = jQuery.extend(deep, clone, copy);
                    }
                    else if (copy !== undefined) {
                        target[name] = copy;
                    }
                }
            }
        }
        return target;
    };
    jQuery.extend({
        expando: "jQuery" + (version + Math.random()).replace(/\D/g, ""),
        isReady: true,
        error: function (msg) {
            throw new Error(msg);
        },
        noop: function () { },
        isFunction: function (obj) {
            return jQuery.type(obj) === "function";
        },
        isArray: Array.isArray,
        isWindow: function (obj) {
            return obj != null && obj === obj.window;
        },
        isNumeric: function (obj) {
            var type = jQuery.type(obj);
            return (type === "number" || type === "string") &&
                !isNaN(obj - parseFloat(obj));
        },
        isPlainObject: function (obj) {
            var proto, Ctor;
            if (!obj || toString.call(obj) !== "[object Object]") {
                return false;
            }
            proto = getProto(obj);
            if (!proto) {
                return true;
            }
            Ctor = hasOwn.call(proto, "constructor") && proto.constructor;
            return typeof Ctor === "function" && fnToString.call(Ctor) === ObjectFunctionString;
        },
        isEmptyObject: function (obj) {
            var name;
            for (name in obj) {
                return false;
            }
            return true;
        },
        type: function (obj) {
            if (obj == null) {
                return obj + "";
            }
            return typeof obj === "object" || typeof obj === "function" ?
                class2type[toString.call(obj)] || "object" :
                typeof obj;
        },
        globalEval: function (code) {
            DOMEval(code);
        },
        camelCase: function (string) {
            return string.replace(rmsPrefix, "ms-").replace(rdashAlpha, fcamelCase);
        },
        nodeName: function (elem, name) {
            return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
        },
        each: function (obj, callback) {
            var length, i = 0;
            if (isArrayLike(obj)) {
                length = obj.length;
                for (; i < length; i++) {
                    if (callback.call(obj[i], i, obj[i]) === false) {
                        break;
                    }
                }
            }
            else {
                for (i in obj) {
                    if (callback.call(obj[i], i, obj[i]) === false) {
                        break;
                    }
                }
            }
            return obj;
        },
        trim: function (text) {
            return text == null ?
                "" :
                (text + "").replace(rtrim, "");
        },
        makeArray: function (arr, results) {
            var ret = results || [];
            if (arr != null) {
                if (isArrayLike(Object(arr))) {
                    jQuery.merge(ret, typeof arr === "string" ?
                        [arr] : arr);
                }
                else {
                    push.call(ret, arr);
                }
            }
            return ret;
        },
        inArray: function (elem, arr, i) {
            return arr == null ? -1 : indexOf.call(arr, elem, i);
        },
        merge: function (first, second) {
            var len = +second.length, j = 0, i = first.length;
            for (; j < len; j++) {
                first[i++] = second[j];
            }
            first.length = i;
            return first;
        },
        grep: function (elems, callback, invert) {
            var callbackInverse, matches = [], i = 0, length = elems.length, callbackExpect = !invert;
            for (; i < length; i++) {
                callbackInverse = !callback(elems[i], i);
                if (callbackInverse !== callbackExpect) {
                    matches.push(elems[i]);
                }
            }
            return matches;
        },
        map: function (elems, callback, arg) {
            var length, value, i = 0, ret = [];
            if (isArrayLike(elems)) {
                length = elems.length;
                for (; i < length; i++) {
                    value = callback(elems[i], i, arg);
                    if (value != null) {
                        ret.push(value);
                    }
                }
            }
            else {
                for (i in elems) {
                    value = callback(elems[i], i, arg);
                    if (value != null) {
                        ret.push(value);
                    }
                }
            }
            return concat.apply([], ret);
        },
        guid: 1,
        proxy: function (fn, context) {
            var tmp, args, proxy;
            if (typeof context === "string") {
                tmp = fn[context];
                context = fn;
                fn = tmp;
            }
            if (!jQuery.isFunction(fn)) {
                return undefined;
            }
            args = slice.call(arguments, 2);
            proxy = function () {
                return fn.apply(context || this, args.concat(slice.call(arguments)));
            };
            proxy.guid = fn.guid = fn.guid || jQuery.guid++;
            return proxy;
        },
        now: Date.now,
        support: support
    });
    if (typeof Symbol === "function") {
        jQuery.fn[Symbol.iterator] = arr[Symbol.iterator];
    }
    jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (i, name) {
        class2type["[object " + name + "]"] = name.toLowerCase();
    });
    function isArrayLike(obj) {
        var length = !!obj && "length" in obj && obj.length, type = jQuery.type(obj);
        if (type === "function" || jQuery.isWindow(obj)) {
            return false;
        }
        return type === "array" || length === 0 ||
            typeof length === "number" && length > 0 && (length - 1) in obj;
    }
    return jQuery;
});
(function (global, factory) {
    "use strict";
    if (typeof module === "object" && typeof module.exports === "object") {
        module.exports = global.document ?
            factory(global, true) :
            function (w) {
                if (!w.document) {
                    throw new Error("jQuery requires a window with a document");
                }
                return factory(w);
            };
    }
    else {
        factory(global);
    }
})(typeof window !== "undefined" ? window : this, function (window, noGlobal) {
    "use strict";
    var arr = [];
    var document = window.document;
    var getProto = Object.getPrototypeOf;
    var slice = arr.slice;
    var concat = arr.concat;
    var push = arr.push;
    var indexOf = arr.indexOf;
    var class2type = {};
    var toString = class2type.toString;
    var hasOwn = class2type.hasOwnProperty;
    var fnToString = hasOwn.toString;
    var ObjectFunctionString = fnToString.call(Object);
    var support = {};
    function DOMEval(code, doc) {
        doc = doc || document;
        var script = doc.createElement("script");
        script.text = code;
        doc.head.appendChild(script).parentNode.removeChild(script);
    }
    var version = "3.1.1", jQuery = function (selector, context) {
        return new jQuery.fn.init(selector, context);
    }, rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, rmsPrefix = /^-ms-/, rdashAlpha = /-([a-z])/g, fcamelCase = function (all, letter) {
        return letter.toUpperCase();
    };
    jQuery.fn = jQuery.prototype = {
        jquery: version,
        constructor: jQuery,
        length: 0,
        toArray: function () {
            return slice.call(this);
        },
        get: function (num) {
            if (num == null) {
                return slice.call(this);
            }
            return num < 0 ? this[num + this.length] : this[num];
        },
        pushStack: function (elems) {
            var ret = jQuery.merge(this.constructor(), elems);
            ret.prevObject = this;
            return ret;
        },
        each: function (callback) {
            return jQuery.each(this, callback);
        },
        map: function (callback) {
            return this.pushStack(jQuery.map(this, function (elem, i) {
                return callback.call(elem, i, elem);
            }));
        },
        slice: function () {
            return this.pushStack(slice.apply(this, arguments));
        },
        first: function () {
            return this.eq(0);
        },
        last: function () {
            return this.eq(-1);
        },
        eq: function (i) {
            var len = this.length, j = +i + (i < 0 ? len : 0);
            return this.pushStack(j >= 0 && j < len ? [this[j]] : []);
        },
        end: function () {
            return this.prevObject || this.constructor();
        },
        push: push,
        sort: arr.sort,
        splice: arr.splice
    };
    jQuery.extend = jQuery.fn.extend = function () {
        var options, name, src, copy, copyIsArray, clone, target = arguments[0] || {}, i = 1, length = arguments.length, deep = false;
        if (typeof target === "boolean") {
            deep = target;
            target = arguments[i] || {};
            i++;
        }
        if (typeof target !== "object" && !jQuery.isFunction(target)) {
            target = {};
        }
        if (i === length) {
            target = this;
            i--;
        }
        for (; i < length; i++) {
            if ((options = arguments[i]) != null) {
                for (name in options) {
                    src = target[name];
                    copy = options[name];
                    if (target === copy) {
                        continue;
                    }
                    if (deep && copy && (jQuery.isPlainObject(copy) ||
                        (copyIsArray = jQuery.isArray(copy)))) {
                        if (copyIsArray) {
                            copyIsArray = false;
                            clone = src && jQuery.isArray(src) ? src : [];
                        }
                        else {
                            clone = src && jQuery.isPlainObject(src) ? src : {};
                        }
                        target[name] = jQuery.extend(deep, clone, copy);
                    }
                    else if (copy !== undefined) {
                        target[name] = copy;
                    }
                }
            }
        }
        return target;
    };
    jQuery.extend({
        expando: "jQuery" + (version + Math.random()).replace(/\D/g, ""),
        isReady: true,
        error: function (msg) {
            throw new Error(msg);
        },
        noop: function () { },
        isFunction: function (obj) {
            return jQuery.type(obj) === "function";
        },
        isArray: Array.isArray,
        isWindow: function (obj) {
            return obj != null && obj === obj.window;
        },
        isNumeric: function (obj) {
            var type = jQuery.type(obj);
            return (type === "number" || type === "string") &&
                !isNaN(obj - parseFloat(obj));
        },
        isPlainObject: function (obj) {
            var proto, Ctor;
            if (!obj || toString.call(obj) !== "[object Object]") {
                return false;
            }
            proto = getProto(obj);
            if (!proto) {
                return true;
            }
            Ctor = hasOwn.call(proto, "constructor") && proto.constructor;
            return typeof Ctor === "function" && fnToString.call(Ctor) === ObjectFunctionString;
        },
        isEmptyObject: function (obj) {
            var name;
            for (name in obj) {
                return false;
            }
            return true;
        },
        type: function (obj) {
            if (obj == null) {
                return obj + "";
            }
            return typeof obj === "object" || typeof obj === "function" ?
                class2type[toString.call(obj)] || "object" :
                typeof obj;
        },
        globalEval: function (code) {
            DOMEval(code);
        },
        camelCase: function (string) {
            return string.replace(rmsPrefix, "ms-").replace(rdashAlpha, fcamelCase);
        },
        nodeName: function (elem, name) {
            return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
        },
        each: function (obj, callback) {
            var length, i = 0;
            if (isArrayLike(obj)) {
                length = obj.length;
                for (; i < length; i++) {
                    if (callback.call(obj[i], i, obj[i]) === false) {
                        break;
                    }
                }
            }
            else {
                for (i in obj) {
                    if (callback.call(obj[i], i, obj[i]) === false) {
                        break;
                    }
                }
            }
            return obj;
        },
        trim: function (text) {
            return text == null ?
                "" :
                (text + "").replace(rtrim, "");
        },
        makeArray: function (arr, results) {
            var ret = results || [];
            if (arr != null) {
                if (isArrayLike(Object(arr))) {
                    jQuery.merge(ret, typeof arr === "string" ?
                        [arr] : arr);
                }
                else {
                    push.call(ret, arr);
                }
            }
            return ret;
        },
        inArray: function (elem, arr, i) {
            return arr == null ? -1 : indexOf.call(arr, elem, i);
        },
        merge: function (first, second) {
            var len = +second.length, j = 0, i = first.length;
            for (; j < len; j++) {
                first[i++] = second[j];
            }
            first.length = i;
            return first;
        },
        grep: function (elems, callback, invert) {
            var callbackInverse, matches = [], i = 0, length = elems.length, callbackExpect = !invert;
            for (; i < length; i++) {
                callbackInverse = !callback(elems[i], i);
                if (callbackInverse !== callbackExpect) {
                    matches.push(elems[i]);
                }
            }
            return matches;
        },
        map: function (elems, callback, arg) {
            var length, value, i = 0, ret = [];
            if (isArrayLike(elems)) {
                length = elems.length;
                for (; i < length; i++) {
                    value = callback(elems[i], i, arg);
                    if (value != null) {
                        ret.push(value);
                    }
                }
            }
            else {
                for (i in elems) {
                    value = callback(elems[i], i, arg);
                    if (value != null) {
                        ret.push(value);
                    }
                }
            }
            return concat.apply([], ret);
        },
        guid: 1,
        proxy: function (fn, context) {
            var tmp, args, proxy;
            if (typeof context === "string") {
                tmp = fn[context];
                context = fn;
                fn = tmp;
            }
            if (!jQuery.isFunction(fn)) {
                return undefined;
            }
            args = slice.call(arguments, 2);
            proxy = function () {
                return fn.apply(context || this, args.concat(slice.call(arguments)));
            };
            proxy.guid = fn.guid = fn.guid || jQuery.guid++;
            return proxy;
        },
        now: Date.now,
        support: support
    });
    if (typeof Symbol === "function") {
        jQuery.fn[Symbol.iterator] = arr[Symbol.iterator];
    }
    jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (i, name) {
        class2type["[object " + name + "]"] = name.toLowerCase();
    });
    function isArrayLike(obj) {
        var length = !!obj && "length" in obj && obj.length, type = jQuery.type(obj);
        if (type === "function" || jQuery.isWindow(obj)) {
            return false;
        }
        return type === "array" || length === 0 ||
            typeof length === "number" && length > 0 && (length - 1) in obj;
    }
    var Sizzle = (function (window) {
        var i, support, Expr, getText, isXML, tokenize, compile, select, outermostContext, sortInput, hasDuplicate, setDocument, document, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains, expando = "sizzle" + 1 * new Date(), preferredDoc = window.document, dirruns = 0, done = 0, classCache = createCache(), tokenCache = createCache(), compilerCache = createCache(), sortOrder = function (a, b) {
            if (a === b) {
                hasDuplicate = true;
            }
            return 0;
        }, hasOwn = ({}).hasOwnProperty, arr = [], pop = arr.pop, push_native = arr.push, push = arr.push, slice = arr.slice, indexOf = function (list, elem) {
            var i = 0, len = list.length;
            for (; i < len; i++) {
                if (list[i] === elem) {
                    return i;
                }
            }
            return -1;
        }, booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", whitespace = "[\\x20\\t\\r\\n\\f]", identifier = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+", attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +
            "*([*^$|!~]?=)" + whitespace +
            "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace +
            "*\\]", pseudos = ":(" + identifier + ")(?:\\((" +
            "('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +
            "((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +
            ".*" +
            ")\\)|)", rwhitespace = new RegExp(whitespace + "+", "g"), rtrim = new RegExp("^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g"), rcomma = new RegExp("^" + whitespace + "*," + whitespace + "*"), rcombinators = new RegExp("^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*"), rattributeQuotes = new RegExp("=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g"), rpseudo = new RegExp(pseudos), ridentifier = new RegExp("^" + identifier + "$"), matchExpr = {
            "ID": new RegExp("^#(" + identifier + ")"),
            "CLASS": new RegExp("^\\.(" + identifier + ")"),
            "TAG": new RegExp("^(" + identifier + "|[*])"),
            "ATTR": new RegExp("^" + attributes),
            "PSEUDO": new RegExp("^" + pseudos),
            "CHILD": new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace +
                "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace +
                "*(\\d+)|))" + whitespace + "*\\)|)", "i"),
            "bool": new RegExp("^(?:" + booleans + ")$", "i"),
            "needsContext": new RegExp("^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
                whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i")
        }, rinputs = /^(?:input|select|textarea|button)$/i, rheader = /^h\d$/i, rnative = /^[^{]+\{\s*\[native \w/, rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, rsibling = /[+~]/, runescape = new RegExp("\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig"), funescape = function (_, escaped, escapedWhitespace) {
            var high = "0x" + escaped - 0x10000;
            return high !== high || escapedWhitespace ?
                escaped :
                high < 0 ?
                    String.fromCharCode(high + 0x10000) :
                    String.fromCharCode(high >> 10 | 0xD800, high & 0x3FF | 0xDC00);
        }, rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, fcssescape = function (ch, asCodePoint) {
            if (asCodePoint) {
                if (ch === "\0") {
                    return "\uFFFD";
                }
                return ch.slice(0, -1) + "\\" + ch.charCodeAt(ch.length - 1).toString(16) + " ";
            }
            return "\\" + ch;
        }, unloadHandler = function () {
            setDocument();
        }, disabledAncestor = addCombinator(function (elem) {
            return elem.disabled === true && ("form" in elem || "label" in elem);
        }, { dir: "parentNode", next: "legend" });
        try {
            push.apply((arr = slice.call(preferredDoc.childNodes)), preferredDoc.childNodes);
            arr[preferredDoc.childNodes.length].nodeType;
        }
        catch (e) {
            push = { apply: arr.length ?
                    function (target, els) {
                        push_native.apply(target, slice.call(els));
                    } :
                    function (target, els) {
                        var j = target.length, i = 0;
                        while ((target[j++] = els[i++])) { }
                        target.length = j - 1;
                    }
            };
        }
        function Sizzle(selector, context, results, seed) {
            var m, i, elem, nid, match, groups, newSelector, newContext = context && context.ownerDocument, nodeType = context ? context.nodeType : 9;
            results = results || [];
            if (typeof selector !== "string" || !selector ||
                nodeType !== 1 && nodeType !== 9 && nodeType !== 11) {
                return results;
            }
            if (!seed) {
                if ((context ? context.ownerDocument || context : preferredDoc) !== document) {
                    setDocument(context);
                }
                context = context || document;
                if (documentIsHTML) {
                    if (nodeType !== 11 && (match = rquickExpr.exec(selector))) {
                        if ((m = match[1])) {
                            if (nodeType === 9) {
                                if ((elem = context.getElementById(m))) {
                                    if (elem.id === m) {
                                        results.push(elem);
                                        return results;
                                    }
                                }
                                else {
                                    return results;
                                }
                            }
                            else {
                                if (newContext && (elem = newContext.getElementById(m)) &&
                                    contains(context, elem) &&
                                    elem.id === m) {
                                    results.push(elem);
                                    return results;
                                }
                            }
                        }
                        else if (match[2]) {
                            push.apply(results, context.getElementsByTagName(selector));
                            return results;
                        }
                        else if ((m = match[3]) && support.getElementsByClassName &&
                            context.getElementsByClassName) {
                            push.apply(results, context.getElementsByClassName(m));
                            return results;
                        }
                    }
                    if (support.qsa &&
                        !compilerCache[selector + " "] &&
                        (!rbuggyQSA || !rbuggyQSA.test(selector))) {
                        if (nodeType !== 1) {
                            newContext = context;
                            newSelector = selector;
                        }
                        else if (context.nodeName.toLowerCase() !== "object") {
                            if ((nid = context.getAttribute("id"))) {
                                nid = nid.replace(rcssescape, fcssescape);
                            }
                            else {
                                context.setAttribute("id", (nid = expando));
                            }
                            groups = tokenize(selector);
                            i = groups.length;
                            while (i--) {
                                groups[i] = "#" + nid + " " + toSelector(groups[i]);
                            }
                            newSelector = groups.join(",");
                            newContext = rsibling.test(selector) && testContext(context.parentNode) ||
                                context;
                        }
                        if (newSelector) {
                            try {
                                push.apply(results, newContext.querySelectorAll(newSelector));
                                return results;
                            }
                            catch (qsaError) {
                            }
                            finally {
                                if (nid === expando) {
                                    context.removeAttribute("id");
                                }
                            }
                        }
                    }
                }
            }
            return select(selector.replace(rtrim, "$1"), context, results, seed);
        }
        function createCache() {
            var keys = [];
            function cache(key, value) {
                if (keys.push(key + " ") > Expr.cacheLength) {
                    delete cache[keys.shift()];
                }
                return (cache[key + " "] = value);
            }
            return cache;
        }
        function markFunction(fn) {
            fn[expando] = true;
            return fn;
        }
        function assert(fn) {
            var el = document.createElement("fieldset");
            try {
                return !!fn(el);
            }
            catch (e) {
                return false;
            }
            finally {
                if (el.parentNode) {
                    el.parentNode.removeChild(el);
                }
                el = null;
            }
        }
        function addHandle(attrs, handler) {
            var arr = attrs.split("|"), i = arr.length;
            while (i--) {
                Expr.attrHandle[arr[i]] = handler;
            }
        }
        function siblingCheck(a, b) {
            var cur = b && a, diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
                a.sourceIndex - b.sourceIndex;
            if (diff) {
                return diff;
            }
            if (cur) {
                while ((cur = cur.nextSibling)) {
                    if (cur === b) {
                        return -1;
                    }
                }
            }
            return a ? 1 : -1;
        }
        function createInputPseudo(type) {
            return function (elem) {
                var name = elem.nodeName.toLowerCase();
                return name === "input" && elem.type === type;
            };
        }
        function createButtonPseudo(type) {
            return function (elem) {
                var name = elem.nodeName.toLowerCase();
                return (name === "input" || name === "button") && elem.type === type;
            };
        }
        function createDisabledPseudo(disabled) {
            return function (elem) {
                if ("form" in elem) {
                    if (elem.parentNode && elem.disabled === false) {
                        if ("label" in elem) {
                            if ("label" in elem.parentNode) {
                                return elem.parentNode.disabled === disabled;
                            }
                            else {
                                return elem.disabled === disabled;
                            }
                        }
                        return elem.isDisabled === disabled ||
                            elem.isDisabled !== !disabled &&
                                disabledAncestor(elem) === disabled;
                    }
                    return elem.disabled === disabled;
                }
                else if ("label" in elem) {
                    return elem.disabled === disabled;
                }
                return false;
            };
        }
        function createPositionalPseudo(fn) {
            return markFunction(function (argument) {
                argument = +argument;
                return markFunction(function (seed, matches) {
                    var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length;
                    while (i--) {
                        if (seed[(j = matchIndexes[i])]) {
                            seed[j] = !(matches[j] = seed[j]);
                        }
                    }
                });
            });
        }
        function testContext(context) {
            return context && typeof context.getElementsByTagName !== "undefined" && context;
        }
        support = Sizzle.support = {};
        isXML = Sizzle.isXML = function (elem) {
            var documentElement = elem && (elem.ownerDocument || elem).documentElement;
            return documentElement ? documentElement.nodeName !== "HTML" : false;
        };
        setDocument = Sizzle.setDocument = function (node) {
            var hasCompare, subWindow, doc = node ? node.ownerDocument || node : preferredDoc;
            if (doc === document || doc.nodeType !== 9 || !doc.documentElement) {
                return document;
            }
            document = doc;
            docElem = document.documentElement;
            documentIsHTML = !isXML(document);
            if (preferredDoc !== document &&
                (subWindow = document.defaultView) && subWindow.top !== subWindow) {
                if (subWindow.addEventListener) {
                    subWindow.addEventListener("unload", unloadHandler, false);
                }
                else if (subWindow.attachEvent) {
                    subWindow.attachEvent("onunload", unloadHandler);
                }
            }
            support.attributes = assert(function (el) {
                el.className = "i";
                return !el.getAttribute("className");
            });
            support.getElementsByTagName = assert(function (el) {
                el.appendChild(document.createComment(""));
                return !el.getElementsByTagName("*").length;
            });
            support.getElementsByClassName = rnative.test(document.getElementsByClassName);
            support.getById = assert(function (el) {
                docElem.appendChild(el).id = expando;
                return !document.getElementsByName || !document.getElementsByName(expando).length;
            });
            if (support.getById) {
                Expr.filter["ID"] = function (id) {
                    var attrId = id.replace(runescape, funescape);
                    return function (elem) {
                        return elem.getAttribute("id") === attrId;
                    };
                };
                Expr.find["ID"] = function (id, context) {
                    if (typeof context.getElementById !== "undefined" && documentIsHTML) {
                        var elem = context.getElementById(id);
                        return elem ? [elem] : [];
                    }
                };
            }
            else {
                Expr.filter["ID"] = function (id) {
                    var attrId = id.replace(runescape, funescape);
                    return function (elem) {
                        var node = typeof elem.getAttributeNode !== "undefined" &&
                            elem.getAttributeNode("id");
                        return node && node.value === attrId;
                    };
                };
                Expr.find["ID"] = function (id, context) {
                    if (typeof context.getElementById !== "undefined" && documentIsHTML) {
                        var node, i, elems, elem = context.getElementById(id);
                        if (elem) {
                            node = elem.getAttributeNode("id");
                            if (node && node.value === id) {
                                return [elem];
                            }
                            elems = context.getElementsByName(id);
                            i = 0;
                            while ((elem = elems[i++])) {
                                node = elem.getAttributeNode("id");
                                if (node && node.value === id) {
                                    return [elem];
                                }
                            }
                        }
                        return [];
                    }
                };
            }
            Expr.find["TAG"] = support.getElementsByTagName ?
                function (tag, context) {
                    if (typeof context.getElementsByTagName !== "undefined") {
                        return context.getElementsByTagName(tag);
                    }
                    else if (support.qsa) {
                        return context.querySelectorAll(tag);
                    }
                } :
                function (tag, context) {
                    var elem, tmp = [], i = 0, results = context.getElementsByTagName(tag);
                    if (tag === "*") {
                        while ((elem = results[i++])) {
                            if (elem.nodeType === 1) {
                                tmp.push(elem);
                            }
                        }
                        return tmp;
                    }
                    return results;
                };
            Expr.find["CLASS"] = support.getElementsByClassName && function (className, context) {
                if (typeof context.getElementsByClassName !== "undefined" && documentIsHTML) {
                    return context.getElementsByClassName(className);
                }
            };
            rbuggyMatches = [];
            rbuggyQSA = [];
            if ((support.qsa = rnative.test(document.querySelectorAll))) {
                assert(function (el) {
                    docElem.appendChild(el).innerHTML = "<a id='" + expando + "'></a>" +
                        "<select id='" + expando + "-\r\\' msallowcapture=''>" +
                        "<option selected=''></option></select>";
                    if (el.querySelectorAll("[msallowcapture^='']").length) {
                        rbuggyQSA.push("[*^$]=" + whitespace + "*(?:''|\"\")");
                    }
                    if (!el.querySelectorAll("[selected]").length) {
                        rbuggyQSA.push("\\[" + whitespace + "*(?:value|" + booleans + ")");
                    }
                    if (!el.querySelectorAll("[id~=" + expando + "-]").length) {
                        rbuggyQSA.push("~=");
                    }
                    if (!el.querySelectorAll(":checked").length) {
                        rbuggyQSA.push(":checked");
                    }
                    if (!el.querySelectorAll("a#" + expando + "+*").length) {
                        rbuggyQSA.push(".#.+[+~]");
                    }
                });
                assert(function (el) {
                    el.innerHTML = "<a href='' disabled='disabled'></a>" +
                        "<select disabled='disabled'><option/></select>";
                    var input = document.createElement("input");
                    input.setAttribute("type", "hidden");
                    el.appendChild(input).setAttribute("name", "D");
                    if (el.querySelectorAll("[name=d]").length) {
                        rbuggyQSA.push("name" + whitespace + "*[*^$|!~]?=");
                    }
                    if (el.querySelectorAll(":enabled").length !== 2) {
                        rbuggyQSA.push(":enabled", ":disabled");
                    }
                    docElem.appendChild(el).disabled = true;
                    if (el.querySelectorAll(":disabled").length !== 2) {
                        rbuggyQSA.push(":enabled", ":disabled");
                    }
                    el.querySelectorAll("*,:x");
                    rbuggyQSA.push(",.*:");
                });
            }
            if ((support.matchesSelector = rnative.test((matches = docElem.matches ||
                docElem.webkitMatchesSelector ||
                docElem.mozMatchesSelector ||
                docElem.oMatchesSelector ||
                docElem.msMatchesSelector)))) {
                assert(function (el) {
                    support.disconnectedMatch = matches.call(el, "*");
                    matches.call(el, "[s!='']:x");
                    rbuggyMatches.push("!=", pseudos);
                });
            }
            rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join("|"));
            rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join("|"));
            hasCompare = rnative.test(docElem.compareDocumentPosition);
            contains = hasCompare || rnative.test(docElem.contains) ?
                function (a, b) {
                    var adown = a.nodeType === 9 ? a.documentElement : a, bup = b && b.parentNode;
                    return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ?
                        adown.contains(bup) :
                        a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));
                } :
                function (a, b) {
                    if (b) {
                        while ((b = b.parentNode)) {
                            if (b === a) {
                                return true;
                            }
                        }
                    }
                    return false;
                };
            sortOrder = hasCompare ?
                function (a, b) {
                    if (a === b) {
                        hasDuplicate = true;
                        return 0;
                    }
                    var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
                    if (compare) {
                        return compare;
                    }
                    compare = (a.ownerDocument || a) === (b.ownerDocument || b) ?
                        a.compareDocumentPosition(b) :
                        1;
                    if (compare & 1 ||
                        (!support.sortDetached && b.compareDocumentPosition(a) === compare)) {
                        if (a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a)) {
                            return -1;
                        }
                        if (b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b)) {
                            return 1;
                        }
                        return sortInput ?
                            (indexOf(sortInput, a) - indexOf(sortInput, b)) :
                            0;
                    }
                    return compare & 4 ? -1 : 1;
                } :
                function (a, b) {
                    if (a === b) {
                        hasDuplicate = true;
                        return 0;
                    }
                    var cur, i = 0, aup = a.parentNode, bup = b.parentNode, ap = [a], bp = [b];
                    if (!aup || !bup) {
                        return a === document ? -1 :
                            b === document ? 1 :
                                aup ? -1 :
                                    bup ? 1 :
                                        sortInput ?
                                            (indexOf(sortInput, a) - indexOf(sortInput, b)) :
                                            0;
                    }
                    else if (aup === bup) {
                        return siblingCheck(a, b);
                    }
                    cur = a;
                    while ((cur = cur.parentNode)) {
                        ap.unshift(cur);
                    }
                    cur = b;
                    while ((cur = cur.parentNode)) {
                        bp.unshift(cur);
                    }
                    while (ap[i] === bp[i]) {
                        i++;
                    }
                    return i ?
                        siblingCheck(ap[i], bp[i]) :
                        ap[i] === preferredDoc ? -1 :
                            bp[i] === preferredDoc ? 1 :
                                0;
                };
            return document;
        };
        Sizzle.matches = function (expr, elements) {
            return Sizzle(expr, null, null, elements);
        };
        Sizzle.matchesSelector = function (elem, expr) {
            if ((elem.ownerDocument || elem) !== document) {
                setDocument(elem);
            }
            expr = expr.replace(rattributeQuotes, "='$1']");
            if (support.matchesSelector && documentIsHTML &&
                !compilerCache[expr + " "] &&
                (!rbuggyMatches || !rbuggyMatches.test(expr)) &&
                (!rbuggyQSA || !rbuggyQSA.test(expr))) {
                try {
                    var ret = matches.call(elem, expr);
                    if (ret || support.disconnectedMatch ||
                        elem.document && elem.document.nodeType !== 11) {
                        return ret;
                    }
                }
                catch (e) { }
            }
            return Sizzle(expr, document, null, [elem]).length > 0;
        };
        Sizzle.contains = function (context, elem) {
            if ((context.ownerDocument || context) !== document) {
                setDocument(context);
            }
            return contains(context, elem);
        };
        Sizzle.attr = function (elem, name) {
            if ((elem.ownerDocument || elem) !== document) {
                setDocument(elem);
            }
            var fn = Expr.attrHandle[name.toLowerCase()], val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ?
                fn(elem, name, !documentIsHTML) :
                undefined;
            return val !== undefined ?
                val :
                support.attributes || !documentIsHTML ?
                    elem.getAttribute(name) :
                    (val = elem.getAttributeNode(name)) && val.specified ?
                        val.value :
                        null;
        };
        Sizzle.escape = function (sel) {
            return (sel + "").replace(rcssescape, fcssescape);
        };
        Sizzle.error = function (msg) {
            throw new Error("Syntax error, unrecognized expression: " + msg);
        };
        Sizzle.uniqueSort = function (results) {
            var elem, duplicates = [], j = 0, i = 0;
            hasDuplicate = !support.detectDuplicates;
            sortInput = !support.sortStable && results.slice(0);
            results.sort(sortOrder);
            if (hasDuplicate) {
                while ((elem = results[i++])) {
                    if (elem === results[i]) {
                        j = duplicates.push(i);
                    }
                }
                while (j--) {
                    results.splice(duplicates[j], 1);
                }
            }
            sortInput = null;
            return results;
        };
        getText = Sizzle.getText = function (elem) {
            var node, ret = "", i = 0, nodeType = elem.nodeType;
            if (!nodeType) {
                while ((node = elem[i++])) {
                    ret += getText(node);
                }
            }
            else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {
                if (typeof elem.textContent === "string") {
                    return elem.textContent;
                }
                else {
                    for (elem = elem.firstChild; elem; elem = elem.nextSibling) {
                        ret += getText(elem);
                    }
                }
            }
            else if (nodeType === 3 || nodeType === 4) {
                return elem.nodeValue;
            }
            return ret;
        };
        Expr = Sizzle.selectors = {
            cacheLength: 50,
            createPseudo: markFunction,
            match: matchExpr,
            attrHandle: {},
            find: {},
            relative: {
                ">": { dir: "parentNode", first: true },
                " ": { dir: "parentNode" },
                "+": { dir: "previousSibling", first: true },
                "~": { dir: "previousSibling" }
            },
            preFilter: {
                "ATTR": function (match) {
                    match[1] = match[1].replace(runescape, funescape);
                    match[3] = (match[3] || match[4] || match[5] || "").replace(runescape, funescape);
                    if (match[2] === "~=") {
                        match[3] = " " + match[3] + " ";
                    }
                    return match.slice(0, 4);
                },
                "CHILD": function (match) {
                    match[1] = match[1].toLowerCase();
                    if (match[1].slice(0, 3) === "nth") {
                        if (!match[3]) {
                            Sizzle.error(match[0]);
                        }
                        match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === "even" || match[3] === "odd"));
                        match[5] = +((match[7] + match[8]) || match[3] === "odd");
                    }
                    else if (match[3]) {
                        Sizzle.error(match[0]);
                    }
                    return match;
                },
                "PSEUDO": function (match) {
                    var excess, unquoted = !match[6] && match[2];
                    if (matchExpr["CHILD"].test(match[0])) {
                        return null;
                    }
                    if (match[3]) {
                        match[2] = match[4] || match[5] || "";
                    }
                    else if (unquoted && rpseudo.test(unquoted) &&
                        (excess = tokenize(unquoted, true)) &&
                        (excess = unquoted.indexOf(")", unquoted.length - excess) - unquoted.length)) {
                        match[0] = match[0].slice(0, excess);
                        match[2] = unquoted.slice(0, excess);
                    }
                    return match.slice(0, 3);
                }
            },
            filter: {
                "TAG": function (nodeNameSelector) {
                    var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();
                    return nodeNameSelector === "*" ?
                        function () { return true; } :
                        function (elem) {
                            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
                        };
                },
                "CLASS": function (className) {
                    var pattern = classCache[className + " "];
                    return pattern ||
                        (pattern = new RegExp("(^|" + whitespace + ")" + className + "(" + whitespace + "|$)")) &&
                            classCache(className, function (elem) {
                                return pattern.test(typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "");
                            });
                },
                "ATTR": function (name, operator, check) {
                    return function (elem) {
                        var result = Sizzle.attr(elem, name);
                        if (result == null) {
                            return operator === "!=";
                        }
                        if (!operator) {
                            return true;
                        }
                        result += "";
                        return operator === "=" ? result === check :
                            operator === "!=" ? result !== check :
                                operator === "^=" ? check && result.indexOf(check) === 0 :
                                    operator === "*=" ? check && result.indexOf(check) > -1 :
                                        operator === "$=" ? check && result.slice(-check.length) === check :
                                            operator === "~=" ? (" " + result.replace(rwhitespace, " ") + " ").indexOf(check) > -1 :
                                                operator === "|=" ? result === check || result.slice(0, check.length + 1) === check + "-" :
                                                    false;
                    };
                },
                "CHILD": function (type, what, argument, first, last) {
                    var simple = type.slice(0, 3) !== "nth", forward = type.slice(-4) !== "last", ofType = what === "of-type";
                    return first === 1 && last === 0 ?
                        function (elem) {
                            return !!elem.parentNode;
                        } :
                        function (elem, context, xml) {
                            var cache, uniqueCache, outerCache, node, nodeIndex, start, dir = simple !== forward ? "nextSibling" : "previousSibling", parent = elem.parentNode, name = ofType && elem.nodeName.toLowerCase(), useCache = !xml && !ofType, diff = false;
                            if (parent) {
                                if (simple) {
                                    while (dir) {
                                        node = elem;
                                        while ((node = node[dir])) {
                                            if (ofType ?
                                                node.nodeName.toLowerCase() === name :
                                                node.nodeType === 1) {
                                                return false;
                                            }
                                        }
                                        start = dir = type === "only" && !start && "nextSibling";
                                    }
                                    return true;
                                }
                                start = [forward ? parent.firstChild : parent.lastChild];
                                if (forward && useCache) {
                                    node = parent;
                                    outerCache = node[expando] || (node[expando] = {});
                                    uniqueCache = outerCache[node.uniqueID] ||
                                        (outerCache[node.uniqueID] = {});
                                    cache = uniqueCache[type] || [];
                                    nodeIndex = cache[0] === dirruns && cache[1];
                                    diff = nodeIndex && cache[2];
                                    node = nodeIndex && parent.childNodes[nodeIndex];
                                    while ((node = ++nodeIndex && node && node[dir] ||
                                        (diff = nodeIndex = 0) || start.pop())) {
                                        if (node.nodeType === 1 && ++diff && node === elem) {
                                            uniqueCache[type] = [dirruns, nodeIndex, diff];
                                            break;
                                        }
                                    }
                                }
                                else {
                                    if (useCache) {
                                        node = elem;
                                        outerCache = node[expando] || (node[expando] = {});
                                        uniqueCache = outerCache[node.uniqueID] ||
                                            (outerCache[node.uniqueID] = {});
                                        cache = uniqueCache[type] || [];
                                        nodeIndex = cache[0] === dirruns && cache[1];
                                        diff = nodeIndex;
                                    }
                                    if (diff === false) {
                                        while ((node = ++nodeIndex && node && node[dir] ||
                                            (diff = nodeIndex = 0) || start.pop())) {
                                            if ((ofType ?
                                                node.nodeName.toLowerCase() === name :
                                                node.nodeType === 1) &&
                                                ++diff) {
                                                if (useCache) {
                                                    outerCache = node[expando] || (node[expando] = {});
                                                    uniqueCache = outerCache[node.uniqueID] ||
                                                        (outerCache[node.uniqueID] = {});
                                                    uniqueCache[type] = [dirruns, diff];
                                                }
                                                if (node === elem) {
                                                    break;
                                                }
                                            }
                                        }
                                    }
                                }
                                diff -= last;
                                return diff === first || (diff % first === 0 && diff / first >= 0);
                            }
                        };
                },
                "PSEUDO": function (pseudo, argument) {
                    var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] ||
                        Sizzle.error("unsupported pseudo: " + pseudo);
                    if (fn[expando]) {
                        return fn(argument);
                    }
                    if (fn.length > 1) {
                        args = [pseudo, pseudo, "", argument];
                        return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ?
                            markFunction(function (seed, matches) {
                                var idx, matched = fn(seed, argument), i = matched.length;
                                while (i--) {
                                    idx = indexOf(seed, matched[i]);
                                    seed[idx] = !(matches[idx] = matched[i]);
                                }
                            }) :
                            function (elem) {
                                return fn(elem, 0, args);
                            };
                    }
                    return fn;
                }
            },
            pseudos: {
                "not": markFunction(function (selector) {
                    var input = [], results = [], matcher = compile(selector.replace(rtrim, "$1"));
                    return matcher[expando] ?
                        markFunction(function (seed, matches, context, xml) {
                            var elem, unmatched = matcher(seed, null, xml, []), i = seed.length;
                            while (i--) {
                                if ((elem = unmatched[i])) {
                                    seed[i] = !(matches[i] = elem);
                                }
                            }
                        }) :
                        function (elem, context, xml) {
                            input[0] = elem;
                            matcher(input, null, xml, results);
                            input[0] = null;
                            return !results.pop();
                        };
                }),
                "has": markFunction(function (selector) {
                    return function (elem) {
                        return Sizzle(selector, elem).length > 0;
                    };
                }),
                "contains": markFunction(function (text) {
                    text = text.replace(runescape, funescape);
                    return function (elem) {
                        return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;
                    };
                }),
                "lang": markFunction(function (lang) {
                    if (!ridentifier.test(lang || "")) {
                        Sizzle.error("unsupported lang: " + lang);
                    }
                    lang = lang.replace(runescape, funescape).toLowerCase();
                    return function (elem) {
                        var elemLang;
                        do {
                            if ((elemLang = documentIsHTML ?
                                elem.lang :
                                elem.getAttribute("xml:lang") || elem.getAttribute("lang"))) {
                                elemLang = elemLang.toLowerCase();
                                return elemLang === lang || elemLang.indexOf(lang + "-") === 0;
                            }
                        } while ((elem = elem.parentNode) && elem.nodeType === 1);
                        return false;
                    };
                }),
                "target": function (elem) {
                    var hash = window.location && window.location.hash;
                    return hash && hash.slice(1) === elem.id;
                },
                "root": function (elem) {
                    return elem === docElem;
                },
                "focus": function (elem) {
                    return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
                },
                "enabled": createDisabledPseudo(false),
                "disabled": createDisabledPseudo(true),
                "checked": function (elem) {
                    var nodeName = elem.nodeName.toLowerCase();
                    return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
                },
                "selected": function (elem) {
                    if (elem.parentNode) {
                        elem.parentNode.selectedIndex;
                    }
                    return elem.selected === true;
                },
                "empty": function (elem) {
                    for (elem = elem.firstChild; elem; elem = elem.nextSibling) {
                        if (elem.nodeType < 6) {
                            return false;
                        }
                    }
                    return true;
                },
                "parent": function (elem) {
                    return !Expr.pseudos["empty"](elem);
                },
                "header": function (elem) {
                    return rheader.test(elem.nodeName);
                },
                "input": function (elem) {
                    return rinputs.test(elem.nodeName);
                },
                "button": function (elem) {
                    var name = elem.nodeName.toLowerCase();
                    return name === "input" && elem.type === "button" || name === "button";
                },
                "text": function (elem) {
                    var attr;
                    return elem.nodeName.toLowerCase() === "input" &&
                        elem.type === "text" &&
                        ((attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text");
                },
                "first": createPositionalPseudo(function () {
                    return [0];
                }),
                "last": createPositionalPseudo(function (matchIndexes, length) {
                    return [length - 1];
                }),
                "eq": createPositionalPseudo(function (matchIndexes, length, argument) {
                    return [argument < 0 ? argument + length : argument];
                }),
                "even": createPositionalPseudo(function (matchIndexes, length) {
                    var i = 0;
                    for (; i < length; i += 2) {
                        matchIndexes.push(i);
                    }
                    return matchIndexes;
                }),
                "odd": createPositionalPseudo(function (matchIndexes, length) {
                    var i = 1;
                    for (; i < length; i += 2) {
                        matchIndexes.push(i);
                    }
                    return matchIndexes;
                }),
                "lt": createPositionalPseudo(function (matchIndexes, length, argument) {
                    var i = argument < 0 ? argument + length : argument;
                    for (; --i >= 0;) {
                        matchIndexes.push(i);
                    }
                    return matchIndexes;
                }),
                "gt": createPositionalPseudo(function (matchIndexes, length, argument) {
                    var i = argument < 0 ? argument + length : argument;
                    for (; ++i < length;) {
                        matchIndexes.push(i);
                    }
                    return matchIndexes;
                })
            }
        };
        Expr.pseudos["nth"] = Expr.pseudos["eq"];
        for (i in { radio: true, checkbox: true, file: true, password: true, image: true }) {
            Expr.pseudos[i] = createInputPseudo(i);
        }
        for (i in { submit: true, reset: true }) {
            Expr.pseudos[i] = createButtonPseudo(i);
        }
        function setFilters() { }
        setFilters.prototype = Expr.filters = Expr.pseudos;
        Expr.setFilters = new setFilters();
        tokenize = Sizzle.tokenize = function (selector, parseOnly) {
            var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + " "];
            if (cached) {
                return parseOnly ? 0 : cached.slice(0);
            }
            soFar = selector;
            groups = [];
            preFilters = Expr.preFilter;
            while (soFar) {
                if (!matched || (match = rcomma.exec(soFar))) {
                    if (match) {
                        soFar = soFar.slice(match[0].length) || soFar;
                    }
                    groups.push((tokens = []));
                }
                matched = false;
                if ((match = rcombinators.exec(soFar))) {
                    matched = match.shift();
                    tokens.push({
                        value: matched,
                        type: match[0].replace(rtrim, " ")
                    });
                    soFar = soFar.slice(matched.length);
                }
                for (type in Expr.filter) {
                    if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] ||
                        (match = preFilters[type](match)))) {
                        matched = match.shift();
                        tokens.push({
                            value: matched,
                            type: type,
                            matches: match
                        });
                        soFar = soFar.slice(matched.length);
                    }
                }
                if (!matched) {
                    break;
                }
            }
            return parseOnly ?
                soFar.length :
                soFar ?
                    Sizzle.error(selector) :
                    tokenCache(selector, groups).slice(0);
        };
        function toSelector(tokens) {
            var i = 0, len = tokens.length, selector = "";
            for (; i < len; i++) {
                selector += tokens[i].value;
            }
            return selector;
        }
        function addCombinator(matcher, combinator, base) {
            var dir = combinator.dir, skip = combinator.next, key = skip || dir, checkNonElements = base && key === "parentNode", doneName = done++;
            return combinator.first ?
                function (elem, context, xml) {
                    while ((elem = elem[dir])) {
                        if (elem.nodeType === 1 || checkNonElements) {
                            return matcher(elem, context, xml);
                        }
                    }
                    return false;
                } :
                function (elem, context, xml) {
                    var oldCache, uniqueCache, outerCache, newCache = [dirruns, doneName];
                    if (xml) {
                        while ((elem = elem[dir])) {
                            if (elem.nodeType === 1 || checkNonElements) {
                                if (matcher(elem, context, xml)) {
                                    return true;
                                }
                            }
                        }
                    }
                    else {
                        while ((elem = elem[dir])) {
                            if (elem.nodeType === 1 || checkNonElements) {
                                outerCache = elem[expando] || (elem[expando] = {});
                                uniqueCache = outerCache[elem.uniqueID] || (outerCache[elem.uniqueID] = {});
                                if (skip && skip === elem.nodeName.toLowerCase()) {
                                    elem = elem[dir] || elem;
                                }
                                else if ((oldCache = uniqueCache[key]) &&
                                    oldCache[0] === dirruns && oldCache[1] === doneName) {
                                    return (newCache[2] = oldCache[2]);
                                }
                                else {
                                    uniqueCache[key] = newCache;
                                    if ((newCache[2] = matcher(elem, context, xml))) {
                                        return true;
                                    }
                                }
                            }
                        }
                    }
                    return false;
                };
        }
        function elementMatcher(matchers) {
            return matchers.length > 1 ?
                function (elem, context, xml) {
                    var i = matchers.length;
                    while (i--) {
                        if (!matchers[i](elem, context, xml)) {
                            return false;
                        }
                    }
                    return true;
                } :
                matchers[0];
        }
        function multipleContexts(selector, contexts, results) {
            var i = 0, len = contexts.length;
            for (; i < len; i++) {
                Sizzle(selector, contexts[i], results);
            }
            return results;
        }
        function condense(unmatched, map, filter, context, xml) {
            var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null;
            for (; i < len; i++) {
                if ((elem = unmatched[i])) {
                    if (!filter || filter(elem, context, xml)) {
                        newUnmatched.push(elem);
                        if (mapped) {
                            map.push(i);
                        }
                    }
                }
            }
            return newUnmatched;
        }
        function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {
            if (postFilter && !postFilter[expando]) {
                postFilter = setMatcher(postFilter);
            }
            if (postFinder && !postFinder[expando]) {
                postFinder = setMatcher(postFinder, postSelector);
            }
            return markFunction(function (seed, results, context, xml) {
                var temp, i, elem, preMap = [], postMap = [], preexisting = results.length, elems = seed || multipleContexts(selector || "*", context.nodeType ? [context] : context, []), matcherIn = preFilter && (seed || !selector) ?
                    condense(elems, preMap, preFilter, context, xml) :
                    elems, matcherOut = matcher ?
                    postFinder || (seed ? preFilter : preexisting || postFilter) ?
                        [] :
                        results :
                    matcherIn;
                if (matcher) {
                    matcher(matcherIn, matcherOut, context, xml);
                }
                if (postFilter) {
                    temp = condense(matcherOut, postMap);
                    postFilter(temp, [], context, xml);
                    i = temp.length;
                    while (i--) {
                        if ((elem = temp[i])) {
                            matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);
                        }
                    }
                }
                if (seed) {
                    if (postFinder || preFilter) {
                        if (postFinder) {
                            temp = [];
                            i = matcherOut.length;
                            while (i--) {
                                if ((elem = matcherOut[i])) {
                                    temp.push((matcherIn[i] = elem));
                                }
                            }
                            postFinder(null, (matcherOut = []), temp, xml);
                        }
                        i = matcherOut.length;
                        while (i--) {
                            if ((elem = matcherOut[i]) &&
                                (temp = postFinder ? indexOf(seed, elem) : preMap[i]) > -1) {
                                seed[temp] = !(results[temp] = elem);
                            }
                        }
                    }
                }
                else {
                    matcherOut = condense(matcherOut === results ?
                        matcherOut.splice(preexisting, matcherOut.length) :
                        matcherOut);
                    if (postFinder) {
                        postFinder(null, results, matcherOut, xml);
                    }
                    else {
                        push.apply(results, matcherOut);
                    }
                }
            });
        }
        function matcherFromTokens(tokens) {
            var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[tokens[0].type], implicitRelative = leadingRelative || Expr.relative[" "], i = leadingRelative ? 1 : 0, matchContext = addCombinator(function (elem) {
                return elem === checkContext;
            }, implicitRelative, true), matchAnyContext = addCombinator(function (elem) {
                return indexOf(checkContext, elem) > -1;
            }, implicitRelative, true), matchers = [function (elem, context, xml) {
                    var ret = (!leadingRelative && (xml || context !== outermostContext)) || ((checkContext = context).nodeType ?
                        matchContext(elem, context, xml) :
                        matchAnyContext(elem, context, xml));
                    checkContext = null;
                    return ret;
                }];
            for (; i < len; i++) {
                if ((matcher = Expr.relative[tokens[i].type])) {
                    matchers = [addCombinator(elementMatcher(matchers), matcher)];
                }
                else {
                    matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);
                    if (matcher[expando]) {
                        j = ++i;
                        for (; j < len; j++) {
                            if (Expr.relative[tokens[j].type]) {
                                break;
                            }
                        }
                        return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({ value: tokens[i - 2].type === " " ? "*" : "" })).replace(rtrim, "$1"), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens((tokens = tokens.slice(j))), j < len && toSelector(tokens));
                    }
                    matchers.push(matcher);
                }
            }
            return elementMatcher(matchers);
        }
        function matcherFromGroupMatchers(elementMatchers, setMatchers) {
            var bySet = setMatchers.length > 0, byElement = elementMatchers.length > 0, superMatcher = function (seed, context, xml, results, outermost) {
                var elem, j, matcher, matchedCount = 0, i = "0", unmatched = seed && [], setMatched = [], contextBackup = outermostContext, elems = seed || byElement && Expr.find["TAG"]("*", outermost), dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1), len = elems.length;
                if (outermost) {
                    outermostContext = context === document || context || outermost;
                }
                for (; i !== len && (elem = elems[i]) != null; i++) {
                    if (byElement && elem) {
                        j = 0;
                        if (!context && elem.ownerDocument !== document) {
                            setDocument(elem);
                            xml = !documentIsHTML;
                        }
                        while ((matcher = elementMatchers[j++])) {
                            if (matcher(elem, context || document, xml)) {
                                results.push(elem);
                                break;
                            }
                        }
                        if (outermost) {
                            dirruns = dirrunsUnique;
                        }
                    }
                    if (bySet) {
                        if ((elem = !matcher && elem)) {
                            matchedCount--;
                        }
                        if (seed) {
                            unmatched.push(elem);
                        }
                    }
                }
                matchedCount += i;
                if (bySet && i !== matchedCount) {
                    j = 0;
                    while ((matcher = setMatchers[j++])) {
                        matcher(unmatched, setMatched, context, xml);
                    }
                    if (seed) {
                        if (matchedCount > 0) {
                            while (i--) {
                                if (!(unmatched[i] || setMatched[i])) {
                                    setMatched[i] = pop.call(results);
                                }
                            }
                        }
                        setMatched = condense(setMatched);
                    }
                    push.apply(results, setMatched);
                    if (outermost && !seed && setMatched.length > 0 &&
                        (matchedCount + setMatchers.length) > 1) {
                        Sizzle.uniqueSort(results);
                    }
                }
                if (outermost) {
                    dirruns = dirrunsUnique;
                    outermostContext = contextBackup;
                }
                return unmatched;
            };
            return bySet ?
                markFunction(superMatcher) :
                superMatcher;
        }
        compile = Sizzle.compile = function (selector, match) {
            var i, setMatchers = [], elementMatchers = [], cached = compilerCache[selector + " "];
            if (!cached) {
                if (!match) {
                    match = tokenize(selector);
                }
                i = match.length;
                while (i--) {
                    cached = matcherFromTokens(match[i]);
                    if (cached[expando]) {
                        setMatchers.push(cached);
                    }
                    else {
                        elementMatchers.push(cached);
                    }
                }
                cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));
                cached.selector = selector;
            }
            return cached;
        };
        select = Sizzle.select = function (selector, context, results, seed) {
            var i, tokens, token, type, find, compiled = typeof selector === "function" && selector, match = !seed && tokenize((selector = compiled.selector || selector));
            results = results || [];
            if (match.length === 1) {
                tokens = match[0] = match[0].slice(0);
                if (tokens.length > 2 && (token = tokens[0]).type === "ID" &&
                    context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {
                    context = (Expr.find["ID"](token.matches[0].replace(runescape, funescape), context) || [])[0];
                    if (!context) {
                        return results;
                    }
                    else if (compiled) {
                        context = context.parentNode;
                    }
                    selector = selector.slice(tokens.shift().value.length);
                }
                i = matchExpr["needsContext"].test(selector) ? 0 : tokens.length;
                while (i--) {
                    token = tokens[i];
                    if (Expr.relative[(type = token.type)]) {
                        break;
                    }
                    if ((find = Expr.find[type])) {
                        if ((seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context))) {
                            tokens.splice(i, 1);
                            selector = seed.length && toSelector(tokens);
                            if (!selector) {
                                push.apply(results, seed);
                                return results;
                            }
                            break;
                        }
                    }
                }
            }
            (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, !context || rsibling.test(selector) && testContext(context.parentNode) || context);
            return results;
        };
        support.sortStable = expando.split("").sort(sortOrder).join("") === expando;
        support.detectDuplicates = !!hasDuplicate;
        setDocument();
        support.sortDetached = assert(function (el) {
            return el.compareDocumentPosition(document.createElement("fieldset")) & 1;
        });
        if (!assert(function (el) {
            el.innerHTML = "<a href='#'></a>";
            return el.firstChild.getAttribute("href") === "#";
        })) {
            addHandle("type|href|height|width", function (elem, name, isXML) {
                if (!isXML) {
                    return elem.getAttribute(name, name.toLowerCase() === "type" ? 1 : 2);
                }
            });
        }
        if (!support.attributes || !assert(function (el) {
            el.innerHTML = "<input/>";
            el.firstChild.setAttribute("value", "");
            return el.firstChild.getAttribute("value") === "";
        })) {
            addHandle("value", function (elem, name, isXML) {
                if (!isXML && elem.nodeName.toLowerCase() === "input") {
                    return elem.defaultValue;
                }
            });
        }
        if (!assert(function (el) {
            return el.getAttribute("disabled") == null;
        })) {
            addHandle(booleans, function (elem, name, isXML) {
                var val;
                if (!isXML) {
                    return elem[name] === true ? name.toLowerCase() :
                        (val = elem.getAttributeNode(name)) && val.specified ?
                            val.value :
                            null;
                }
            });
        }
        return Sizzle;
    })(window);
    jQuery.find = Sizzle;
    jQuery.expr = Sizzle.selectors;
    jQuery.expr[":"] = jQuery.expr.pseudos;
    jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
    jQuery.text = Sizzle.getText;
    jQuery.isXMLDoc = Sizzle.isXML;
    jQuery.contains = Sizzle.contains;
    jQuery.escapeSelector = Sizzle.escape;
    var dir = function (elem, dir, until) {
        var matched = [], truncate = until !== undefined;
        while ((elem = elem[dir]) && elem.nodeType !== 9) {
            if (elem.nodeType === 1) {
                if (truncate && jQuery(elem).is(until)) {
                    break;
                }
                matched.push(elem);
            }
        }
        return matched;
    };
    var siblings = function (n, elem) {
        var matched = [];
        for (; n; n = n.nextSibling) {
            if (n.nodeType === 1 && n !== elem) {
                matched.push(n);
            }
        }
        return matched;
    };
    var rneedsContext = jQuery.expr.match.needsContext;
    var rsingleTag = (/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i);
    var risSimple = /^.[^:#\[\.,]*$/;
    function winnow(elements, qualifier, not) {
        if (jQuery.isFunction(qualifier)) {
            return jQuery.grep(elements, function (elem, i) {
                return !!qualifier.call(elem, i, elem) !== not;
            });
        }
        if (qualifier.nodeType) {
            return jQuery.grep(elements, function (elem) {
                return (elem === qualifier) !== not;
            });
        }
        if (typeof qualifier !== "string") {
            return jQuery.grep(elements, function (elem) {
                return (indexOf.call(qualifier, elem) > -1) !== not;
            });
        }
        if (risSimple.test(qualifier)) {
            return jQuery.filter(qualifier, elements, not);
        }
        qualifier = jQuery.filter(qualifier, elements);
        return jQuery.grep(elements, function (elem) {
            return (indexOf.call(qualifier, elem) > -1) !== not && elem.nodeType === 1;
        });
    }
    jQuery.filter = function (expr, elems, not) {
        var elem = elems[0];
        if (not) {
            expr = ":not(" + expr + ")";
        }
        if (elems.length === 1 && elem.nodeType === 1) {
            return jQuery.find.matchesSelector(elem, expr) ? [elem] : [];
        }
        return jQuery.find.matches(expr, jQuery.grep(elems, function (elem) {
            return elem.nodeType === 1;
        }));
    };
    jQuery.fn.extend({
        find: function (selector) {
            var i, ret, len = this.length, self = this;
            if (typeof selector !== "string") {
                return this.pushStack(jQuery(selector).filter(function () {
                    for (i = 0; i < len; i++) {
                        if (jQuery.contains(self[i], this)) {
                            return true;
                        }
                    }
                }));
            }
            ret = this.pushStack([]);
            for (i = 0; i < len; i++) {
                jQuery.find(selector, self[i], ret);
            }
            return len > 1 ? jQuery.uniqueSort(ret) : ret;
        },
        filter: function (selector) {
            return this.pushStack(winnow(this, selector || [], false));
        },
        not: function (selector) {
            return this.pushStack(winnow(this, selector || [], true));
        },
        is: function (selector) {
            return !!winnow(this, typeof selector === "string" && rneedsContext.test(selector) ?
                jQuery(selector) :
                selector || [], false).length;
        }
    });
    var rootjQuery, rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/, init = jQuery.fn.init = function (selector, context, root) {
        var match, elem;
        if (!selector) {
            return this;
        }
        root = root || rootjQuery;
        if (typeof selector === "string") {
            if (selector[0] === "<" &&
                selector[selector.length - 1] === ">" &&
                selector.length >= 3) {
                match = [null, selector, null];
            }
            else {
                match = rquickExpr.exec(selector);
            }
            if (match && (match[1] || !context)) {
                if (match[1]) {
                    context = context instanceof jQuery ? context[0] : context;
                    jQuery.merge(this, jQuery.parseHTML(match[1], context && context.nodeType ? context.ownerDocument || context : document, true));
                    if (rsingleTag.test(match[1]) && jQuery.isPlainObject(context)) {
                        for (match in context) {
                            if (jQuery.isFunction(this[match])) {
                                this[match](context[match]);
                            }
                            else {
                                this.attr(match, context[match]);
                            }
                        }
                    }
                    return this;
                }
                else {
                    elem = document.getElementById(match[2]);
                    if (elem) {
                        this[0] = elem;
                        this.length = 1;
                    }
                    return this;
                }
            }
            else if (!context || context.jquery) {
                return (context || root).find(selector);
            }
            else {
                return this.constructor(context).find(selector);
            }
        }
        else if (selector.nodeType) {
            this[0] = selector;
            this.length = 1;
            return this;
        }
        else if (jQuery.isFunction(selector)) {
            return root.ready !== undefined ?
                root.ready(selector) :
                selector(jQuery);
        }
        return jQuery.makeArray(selector, this);
    };
    init.prototype = jQuery.fn;
    rootjQuery = jQuery(document);
    var rparentsprev = /^(?:parents|prev(?:Until|All))/, guaranteedUnique = {
        children: true,
        contents: true,
        next: true,
        prev: true
    };
    jQuery.fn.extend({
        has: function (target) {
            var targets = jQuery(target, this), l = targets.length;
            return this.filter(function () {
                var i = 0;
                for (; i < l; i++) {
                    if (jQuery.contains(this, targets[i])) {
                        return true;
                    }
                }
            });
        },
        closest: function (selectors, context) {
            var cur, i = 0, l = this.length, matched = [], targets = typeof selectors !== "string" && jQuery(selectors);
            if (!rneedsContext.test(selectors)) {
                for (; i < l; i++) {
                    for (cur = this[i]; cur && cur !== context; cur = cur.parentNode) {
                        if (cur.nodeType < 11 && (targets ?
                            targets.index(cur) > -1 :
                            cur.nodeType === 1 &&
                                jQuery.find.matchesSelector(cur, selectors))) {
                            matched.push(cur);
                            break;
                        }
                    }
                }
            }
            return this.pushStack(matched.length > 1 ? jQuery.uniqueSort(matched) : matched);
        },
        index: function (elem) {
            if (!elem) {
                return (this[0] && this[0].parentNode) ? this.first().prevAll().length : -1;
            }
            if (typeof elem === "string") {
                return indexOf.call(jQuery(elem), this[0]);
            }
            return indexOf.call(this, elem.jquery ? elem[0] : elem);
        },
        add: function (selector, context) {
            return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(), jQuery(selector, context))));
        },
        addBack: function (selector) {
            return this.add(selector == null ?
                this.prevObject : this.prevObject.filter(selector));
        }
    });
    function sibling(cur, dir) {
        while ((cur = cur[dir]) && cur.nodeType !== 1) { }
        return cur;
    }
    jQuery.each({
        parent: function (elem) {
            var parent = elem.parentNode;
            return parent && parent.nodeType !== 11 ? parent : null;
        },
        parents: function (elem) {
            return dir(elem, "parentNode");
        },
        parentsUntil: function (elem, i, until) {
            return dir(elem, "parentNode", until);
        },
        next: function (elem) {
            return sibling(elem, "nextSibling");
        },
        prev: function (elem) {
            return sibling(elem, "previousSibling");
        },
        nextAll: function (elem) {
            return dir(elem, "nextSibling");
        },
        prevAll: function (elem) {
            return dir(elem, "previousSibling");
        },
        nextUntil: function (elem, i, until) {
            return dir(elem, "nextSibling", until);
        },
        prevUntil: function (elem, i, until) {
            return dir(elem, "previousSibling", until);
        },
        siblings: function (elem) {
            return siblings((elem.parentNode || {}).firstChild, elem);
        },
        children: function (elem) {
            return siblings(elem.firstChild);
        },
        contents: function (elem) {
            return elem.contentDocument || jQuery.merge([], elem.childNodes);
        }
    }, function (name, fn) {
        jQuery.fn[name] = function (until, selector) {
            var matched = jQuery.map(this, fn, until);
            if (name.slice(-5) !== "Until") {
                selector = until;
            }
            if (selector && typeof selector === "string") {
                matched = jQuery.filter(selector, matched);
            }
            if (this.length > 1) {
                if (!guaranteedUnique[name]) {
                    jQuery.uniqueSort(matched);
                }
                if (rparentsprev.test(name)) {
                    matched.reverse();
                }
            }
            return this.pushStack(matched);
        };
    });
    var rnothtmlwhite = (/[^\x20\t\r\n\f]+/g);
    function createOptions(options) {
        var object = {};
        jQuery.each(options.match(rnothtmlwhite) || [], function (_, flag) {
            object[flag] = true;
        });
        return object;
    }
    jQuery.Callbacks = function (options) {
        options = typeof options === "string" ?
            createOptions(options) :
            jQuery.extend({}, options);
        var firing, memory, fired, locked, list = [], queue = [], firingIndex = -1, fire = function () {
            locked = options.once;
            fired = firing = true;
            for (; queue.length; firingIndex = -1) {
                memory = queue.shift();
                while (++firingIndex < list.length) {
                    if (list[firingIndex].apply(memory[0], memory[1]) === false &&
                        options.stopOnFalse) {
                        firingIndex = list.length;
                        memory = false;
                    }
                }
            }
            if (!options.memory) {
                memory = false;
            }
            firing = false;
            if (locked) {
                if (memory) {
                    list = [];
                }
                else {
                    list = "";
                }
            }
        }, self = {
            add: function () {
                if (list) {
                    if (memory && !firing) {
                        firingIndex = list.length - 1;
                        queue.push(memory);
                    }
                    (function add(args) {
                        jQuery.each(args, function (_, arg) {
                            if (jQuery.isFunction(arg)) {
                                if (!options.unique || !self.has(arg)) {
                                    list.push(arg);
                                }
                            }
                            else if (arg && arg.length && jQuery.type(arg) !== "string") {
                                add(arg);
                            }
                        });
                    })(arguments);
                    if (memory && !firing) {
                        fire();
                    }
                }
                return this;
            },
            remove: function () {
                jQuery.each(arguments, function (_, arg) {
                    var index;
                    while ((index = jQuery.inArray(arg, list, index)) > -1) {
                        list.splice(index, 1);
                        if (index <= firingIndex) {
                            firingIndex--;
                        }
                    }
                });
                return this;
            },
            has: function (fn) {
                return fn ?
                    jQuery.inArray(fn, list) > -1 :
                    list.length > 0;
            },
            empty: function () {
                if (list) {
                    list = [];
                }
                return this;
            },
            disable: function () {
                locked = queue = [];
                list = memory = "";
                return this;
            },
            disabled: function () {
                return !list;
            },
            lock: function () {
                locked = queue = [];
                if (!memory && !firing) {
                    list = memory = "";
                }
                return this;
            },
            locked: function () {
                return !!locked;
            },
            fireWith: function (context, args) {
                if (!locked) {
                    args = args || [];
                    args = [context, args.slice ? args.slice() : args];
                    queue.push(args);
                    if (!firing) {
                        fire();
                    }
                }
                return this;
            },
            fire: function () {
                self.fireWith(this, arguments);
                return this;
            },
            fired: function () {
                return !!fired;
            }
        };
        return self;
    };
    function Identity(v) {
        return v;
    }
    function Thrower(ex) {
        throw ex;
    }
    function adoptValue(value, resolve, reject) {
        var method;
        try {
            if (value && jQuery.isFunction((method = value.promise))) {
                method.call(value).done(resolve).fail(reject);
            }
            else if (value && jQuery.isFunction((method = value.then))) {
                method.call(value, resolve, reject);
            }
            else {
                resolve.call(undefined, value);
            }
        }
        catch (value) {
            reject.call(undefined, value);
        }
    }
    jQuery.extend({
        Deferred: function (func) {
            var tuples = [
                ["notify", "progress", jQuery.Callbacks("memory"),
                    jQuery.Callbacks("memory"), 2],
                ["resolve", "done", jQuery.Callbacks("once memory"),
                    jQuery.Callbacks("once memory"), 0, "resolved"],
                ["reject", "fail", jQuery.Callbacks("once memory"),
                    jQuery.Callbacks("once memory"), 1, "rejected"]
            ], state = "pending", promise = {
                state: function () {
                    return state;
                },
                always: function () {
                    deferred.done(arguments).fail(arguments);
                    return this;
                },
                "catch": function (fn) {
                    return promise.then(null, fn);
                },
                pipe: function () {
                    var fns = arguments;
                    return jQuery.Deferred(function (newDefer) {
                        jQuery.each(tuples, function (i, tuple) {
                            var fn = jQuery.isFunction(fns[tuple[4]]) && fns[tuple[4]];
                            deferred[tuple[1]](function () {
                                var returned = fn && fn.apply(this, arguments);
                                if (returned && jQuery.isFunction(returned.promise)) {
                                    returned.promise()
                                        .progress(newDefer.notify)
                                        .done(newDefer.resolve)
                                        .fail(newDefer.reject);
                                }
                                else {
                                    newDefer[tuple[0] + "With"](this, fn ? [returned] : arguments);
                                }
                            });
                        });
                        fns = null;
                    }).promise();
                },
                then: function (onFulfilled, onRejected, onProgress) {
                    var maxDepth = 0;
                    function resolve(depth, deferred, handler, special) {
                        return function () {
                            var that = this, args = arguments, mightThrow = function () {
                                var returned, then;
                                if (depth < maxDepth) {
                                    return;
                                }
                                returned = handler.apply(that, args);
                                if (returned === deferred.promise()) {
                                    throw new TypeError("Thenable self-resolution");
                                }
                                then = returned &&
                                    (typeof returned === "object" ||
                                        typeof returned === "function") &&
                                    returned.then;
                                if (jQuery.isFunction(then)) {
                                    if (special) {
                                        then.call(returned, resolve(maxDepth, deferred, Identity, special), resolve(maxDepth, deferred, Thrower, special));
                                    }
                                    else {
                                        maxDepth++;
                                        then.call(returned, resolve(maxDepth, deferred, Identity, special), resolve(maxDepth, deferred, Thrower, special), resolve(maxDepth, deferred, Identity, deferred.notifyWith));
                                    }
                                }
                                else {
                                    if (handler !== Identity) {
                                        that = undefined;
                                        args = [returned];
                                    }
                                    (special || deferred.resolveWith)(that, args);
                                }
                            }, process = special ?
                                mightThrow :
                                function () {
                                    try {
                                        mightThrow();
                                    }
                                    catch (e) {
                                        if (jQuery.Deferred.exceptionHook) {
                                            jQuery.Deferred.exceptionHook(e, process.stackTrace);
                                        }
                                        if (depth + 1 >= maxDepth) {
                                            if (handler !== Thrower) {
                                                that = undefined;
                                                args = [e];
                                            }
                                            deferred.rejectWith(that, args);
                                        }
                                    }
                                };
                            if (depth) {
                                process();
                            }
                            else {
                                if (jQuery.Deferred.getStackHook) {
                                    process.stackTrace = jQuery.Deferred.getStackHook();
                                }
                                window.setTimeout(process);
                            }
                        };
                    }
                    return jQuery.Deferred(function (newDefer) {
                        tuples[0][3].add(resolve(0, newDefer, jQuery.isFunction(onProgress) ?
                            onProgress :
                            Identity, newDefer.notifyWith));
                        tuples[1][3].add(resolve(0, newDefer, jQuery.isFunction(onFulfilled) ?
                            onFulfilled :
                            Identity));
                        tuples[2][3].add(resolve(0, newDefer, jQuery.isFunction(onRejected) ?
                            onRejected :
                            Thrower));
                    }).promise();
                },
                promise: function (obj) {
                    return obj != null ? jQuery.extend(obj, promise) : promise;
                }
            }, deferred = {};
            jQuery.each(tuples, function (i, tuple) {
                var list = tuple[2], stateString = tuple[5];
                promise[tuple[1]] = list.add;
                if (stateString) {
                    list.add(function () {
                        state = stateString;
                    }, tuples[3 - i][2].disable, tuples[0][2].lock);
                }
                list.add(tuple[3].fire);
                deferred[tuple[0]] = function () {
                    deferred[tuple[0] + "With"](this === deferred ? undefined : this, arguments);
                    return this;
                };
                deferred[tuple[0] + "With"] = list.fireWith;
            });
            promise.promise(deferred);
            if (func) {
                func.call(deferred, deferred);
            }
            return deferred;
        },
        when: function (singleValue) {
            var remaining = arguments.length, i = remaining, resolveContexts = Array(i), resolveValues = slice.call(arguments), master = jQuery.Deferred(), updateFunc = function (i) {
                return function (value) {
                    resolveContexts[i] = this;
                    resolveValues[i] = arguments.length > 1 ? slice.call(arguments) : value;
                    if (!(--remaining)) {
                        master.resolveWith(resolveContexts, resolveValues);
                    }
                };
            };
            if (remaining <= 1) {
                adoptValue(singleValue, master.done(updateFunc(i)).resolve, master.reject);
                if (master.state() === "pending" ||
                    jQuery.isFunction(resolveValues[i] && resolveValues[i].then)) {
                    return master.then();
                }
            }
            while (i--) {
                adoptValue(resolveValues[i], updateFunc(i), master.reject);
            }
            return master.promise();
        }
    });
    var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
    jQuery.Deferred.exceptionHook = function (error, stack) {
        if (window.console && window.console.warn && error && rerrorNames.test(error.name)) {
            window.console.warn("jQuery.Deferred exception: " + error.message, error.stack, stack);
        }
    };
    jQuery.readyException = function (error) {
        window.setTimeout(function () {
            throw error;
        });
    };
    var readyList = jQuery.Deferred();
    jQuery.fn.ready = function (fn) {
        readyList
            .then(fn)["catch"](function (error) {
            jQuery.readyException(error);
        });
        return this;
    };
    jQuery.extend({
        isReady: false,
        readyWait: 1,
        holdReady: function (hold) {
            if (hold) {
                jQuery.readyWait++;
            }
            else {
                jQuery.ready(true);
            }
        },
        ready: function (wait) {
            if (wait === true ? --jQuery.readyWait : jQuery.isReady) {
                return;
            }
            jQuery.isReady = true;
            if (wait !== true && --jQuery.readyWait > 0) {
                return;
            }
            readyList.resolveWith(document, [jQuery]);
        }
    });
    jQuery.ready.then = readyList.then;
    function completed() {
        document.removeEventListener("DOMContentLoaded", completed);
        window.removeEventListener("load", completed);
        jQuery.ready();
    }
    if (document.readyState === "complete" ||
        (document.readyState !== "loading" && !document.documentElement.doScroll)) {
        window.setTimeout(jQuery.ready);
    }
    else {
        document.addEventListener("DOMContentLoaded", completed);
        window.addEventListener("load", completed);
    }
    var access = function (elems, fn, key, value, chainable, emptyGet, raw) {
        var i = 0, len = elems.length, bulk = key == null;
        if (jQuery.type(key) === "object") {
            chainable = true;
            for (i in key) {
                access(elems, fn, i, key[i], true, emptyGet, raw);
            }
        }
        else if (value !== undefined) {
            chainable = true;
            if (!jQuery.isFunction(value)) {
                raw = true;
            }
            if (bulk) {
                if (raw) {
                    fn.call(elems, value);
                    fn = null;
                }
                else {
                    bulk = fn;
                    fn = function (elem, key, value) {
                        return bulk.call(jQuery(elem), value);
                    };
                }
            }
            if (fn) {
                for (; i < len; i++) {
                    fn(elems[i], key, raw ?
                        value :
                        value.call(elems[i], i, fn(elems[i], key)));
                }
            }
        }
        if (chainable) {
            return elems;
        }
        if (bulk) {
            return fn.call(elems);
        }
        return len ? fn(elems[0], key) : emptyGet;
    };
    var acceptData = function (owner) {
        return owner.nodeType === 1 || owner.nodeType === 9 || !(+owner.nodeType);
    };
    function Data() {
        this.expando = jQuery.expando + Data.uid++;
    }
    Data.uid = 1;
    Data.prototype = {
        cache: function (owner) {
            var value = owner[this.expando];
            if (!value) {
                value = {};
                if (acceptData(owner)) {
                    if (owner.nodeType) {
                        owner[this.expando] = value;
                    }
                    else {
                        Object.defineProperty(owner, this.expando, {
                            value: value,
                            configurable: true
                        });
                    }
                }
            }
            return value;
        },
        set: function (owner, data, value) {
            var prop, cache = this.cache(owner);
            if (typeof data === "string") {
                cache[jQuery.camelCase(data)] = value;
            }
            else {
                for (prop in data) {
                    cache[jQuery.camelCase(prop)] = data[prop];
                }
            }
            return cache;
        },
        get: function (owner, key) {
            return key === undefined ?
                this.cache(owner) :
                owner[this.expando] && owner[this.expando][jQuery.camelCase(key)];
        },
        access: function (owner, key, value) {
            if (key === undefined ||
                ((key && typeof key === "string") && value === undefined)) {
                return this.get(owner, key);
            }
            this.set(owner, key, value);
            return value !== undefined ? value : key;
        },
        remove: function (owner, key) {
            var i, cache = owner[this.expando];
            if (cache === undefined) {
                return;
            }
            if (key !== undefined) {
                if (jQuery.isArray(key)) {
                    key = key.map(jQuery.camelCase);
                }
                else {
                    key = jQuery.camelCase(key);
                    key = key in cache ?
                        [key] :
                        (key.match(rnothtmlwhite) || []);
                }
                i = key.length;
                while (i--) {
                    delete cache[key[i]];
                }
            }
            if (key === undefined || jQuery.isEmptyObject(cache)) {
                if (owner.nodeType) {
                    owner[this.expando] = undefined;
                }
                else {
                    delete owner[this.expando];
                }
            }
        },
        hasData: function (owner) {
            var cache = owner[this.expando];
            return cache !== undefined && !jQuery.isEmptyObject(cache);
        }
    };
    var dataPriv = new Data();
    var dataUser = new Data();
    var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, rmultiDash = /[A-Z]/g;
    function getData(data) {
        if (data === "true") {
            return true;
        }
        if (data === "false") {
            return false;
        }
        if (data === "null") {
            return null;
        }
        if (data === +data + "") {
            return +data;
        }
        if (rbrace.test(data)) {
            return JSON.parse(data);
        }
        return data;
    }
    function dataAttr(elem, key, data) {
        var name;
        if (data === undefined && elem.nodeType === 1) {
            name = "data-" + key.replace(rmultiDash, "-$&").toLowerCase();
            data = elem.getAttribute(name);
            if (typeof data === "string") {
                try {
                    data = getData(data);
                }
                catch (e) { }
                dataUser.set(elem, key, data);
            }
            else {
                data = undefined;
            }
        }
        return data;
    }
    jQuery.extend({
        hasData: function (elem) {
            return dataUser.hasData(elem) || dataPriv.hasData(elem);
        },
        data: function (elem, name, data) {
            return dataUser.access(elem, name, data);
        },
        removeData: function (elem, name) {
            dataUser.remove(elem, name);
        },
        _data: function (elem, name, data) {
            return dataPriv.access(elem, name, data);
        },
        _removeData: function (elem, name) {
            dataPriv.remove(elem, name);
        }
    });
    jQuery.fn.extend({
        data: function (key, value) {
            var i, name, data, elem = this[0], attrs = elem && elem.attributes;
            if (key === undefined) {
                if (this.length) {
                    data = dataUser.get(elem);
                    if (elem.nodeType === 1 && !dataPriv.get(elem, "hasDataAttrs")) {
                        i = attrs.length;
                        while (i--) {
                            if (attrs[i]) {
                                name = attrs[i].name;
                                if (name.indexOf("data-") === 0) {
                                    name = jQuery.camelCase(name.slice(5));
                                    dataAttr(elem, name, data[name]);
                                }
                            }
                        }
                        dataPriv.set(elem, "hasDataAttrs", true);
                    }
                }
                return data;
            }
            if (typeof key === "object") {
                return this.each(function () {
                    dataUser.set(this, key);
                });
            }
            return access(this, function (value) {
                var data;
                if (elem && value === undefined) {
                    data = dataUser.get(elem, key);
                    if (data !== undefined) {
                        return data;
                    }
                    data = dataAttr(elem, key);
                    if (data !== undefined) {
                        return data;
                    }
                    return;
                }
                this.each(function () {
                    dataUser.set(this, key, value);
                });
            }, null, value, arguments.length > 1, null, true);
        },
        removeData: function (key) {
            return this.each(function () {
                dataUser.remove(this, key);
            });
        }
    });
    jQuery.extend({
        queue: function (elem, type, data) {
            var queue;
            if (elem) {
                type = (type || "fx") + "queue";
                queue = dataPriv.get(elem, type);
                if (data) {
                    if (!queue || jQuery.isArray(data)) {
                        queue = dataPriv.access(elem, type, jQuery.makeArray(data));
                    }
                    else {
                        queue.push(data);
                    }
                }
                return queue || [];
            }
        },
        dequeue: function (elem, type) {
            type = type || "fx";
            var queue = jQuery.queue(elem, type), startLength = queue.length, fn = queue.shift(), hooks = jQuery._queueHooks(elem, type), next = function () {
                jQuery.dequeue(elem, type);
            };
            if (fn === "inprogress") {
                fn = queue.shift();
                startLength--;
            }
            if (fn) {
                if (type === "fx") {
                    queue.unshift("inprogress");
                }
                delete hooks.stop;
                fn.call(elem, next, hooks);
            }
            if (!startLength && hooks) {
                hooks.empty.fire();
            }
        },
        _queueHooks: function (elem, type) {
            var key = type + "queueHooks";
            return dataPriv.get(elem, key) || dataPriv.access(elem, key, {
                empty: jQuery.Callbacks("once memory").add(function () {
                    dataPriv.remove(elem, [type + "queue", key]);
                })
            });
        }
    });
    jQuery.fn.extend({
        queue: function (type, data) {
            var setter = 2;
            if (typeof type !== "string") {
                data = type;
                type = "fx";
                setter--;
            }
            if (arguments.length < setter) {
                return jQuery.queue(this[0], type);
            }
            return data === undefined ?
                this :
                this.each(function () {
                    var queue = jQuery.queue(this, type, data);
                    jQuery._queueHooks(this, type);
                    if (type === "fx" && queue[0] !== "inprogress") {
                        jQuery.dequeue(this, type);
                    }
                });
        },
        dequeue: function (type) {
            return this.each(function () {
                jQuery.dequeue(this, type);
            });
        },
        clearQueue: function (type) {
            return this.queue(type || "fx", []);
        },
        promise: function (type, obj) {
            var tmp, count = 1, defer = jQuery.Deferred(), elements = this, i = this.length, resolve = function () {
                if (!(--count)) {
                    defer.resolveWith(elements, [elements]);
                }
            };
            if (typeof type !== "string") {
                obj = type;
                type = undefined;
            }
            type = type || "fx";
            while (i--) {
                tmp = dataPriv.get(elements[i], type + "queueHooks");
                if (tmp && tmp.empty) {
                    count++;
                    tmp.empty.add(resolve);
                }
            }
            resolve();
            return defer.promise(obj);
        }
    });
    var pnum = (/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;
    var rcssNum = new RegExp("^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i");
    var cssExpand = ["Top", "Right", "Bottom", "Left"];
    var isHiddenWithinTree = function (elem, el) {
        elem = el || elem;
        return elem.style.display === "none" ||
            elem.style.display === "" &&
                jQuery.contains(elem.ownerDocument, elem) &&
                jQuery.css(elem, "display") === "none";
    };
    var swap = function (elem, options, callback, args) {
        var ret, name, old = {};
        for (name in options) {
            old[name] = elem.style[name];
            elem.style[name] = options[name];
        }
        ret = callback.apply(elem, args || []);
        for (name in options) {
            elem.style[name] = old[name];
        }
        return ret;
    };
    function adjustCSS(elem, prop, valueParts, tween) {
        var adjusted, scale = 1, maxIterations = 20, currentValue = tween ?
            function () {
                return tween.cur();
            } :
            function () {
                return jQuery.css(elem, prop, "");
            }, initial = currentValue(), unit = valueParts && valueParts[3] || (jQuery.cssNumber[prop] ? "" : "px"), initialInUnit = (jQuery.cssNumber[prop] || unit !== "px" && +initial) &&
            rcssNum.exec(jQuery.css(elem, prop));
        if (initialInUnit && initialInUnit[3] !== unit) {
            unit = unit || initialInUnit[3];
            valueParts = valueParts || [];
            initialInUnit = +initial || 1;
            do {
                scale = scale || ".5";
                initialInUnit = initialInUnit / scale;
                jQuery.style(elem, prop, initialInUnit + unit);
            } while (scale !== (scale = currentValue() / initial) && scale !== 1 && --maxIterations);
        }
        if (valueParts) {
            initialInUnit = +initialInUnit || +initial || 0;
            adjusted = valueParts[1] ?
                initialInUnit + (valueParts[1] + 1) * valueParts[2] :
                +valueParts[2];
            if (tween) {
                tween.unit = unit;
                tween.start = initialInUnit;
                tween.end = adjusted;
            }
        }
        return adjusted;
    }
    var defaultDisplayMap = {};
    function getDefaultDisplay(elem) {
        var temp, doc = elem.ownerDocument, nodeName = elem.nodeName, display = defaultDisplayMap[nodeName];
        if (display) {
            return display;
        }
        temp = doc.body.appendChild(doc.createElement(nodeName));
        display = jQuery.css(temp, "display");
        temp.parentNode.removeChild(temp);
        if (display === "none") {
            display = "block";
        }
        defaultDisplayMap[nodeName] = display;
        return display;
    }
    function showHide(elements, show) {
        var display, elem, values = [], index = 0, length = elements.length;
        for (; index < length; index++) {
            elem = elements[index];
            if (!elem.style) {
                continue;
            }
            display = elem.style.display;
            if (show) {
                if (display === "none") {
                    values[index] = dataPriv.get(elem, "display") || null;
                    if (!values[index]) {
                        elem.style.display = "";
                    }
                }
                if (elem.style.display === "" && isHiddenWithinTree(elem)) {
                    values[index] = getDefaultDisplay(elem);
                }
            }
            else {
                if (display !== "none") {
                    values[index] = "none";
                    dataPriv.set(elem, "display", display);
                }
            }
        }
        for (index = 0; index < length; index++) {
            if (values[index] != null) {
                elements[index].style.display = values[index];
            }
        }
        return elements;
    }
    jQuery.fn.extend({
        show: function () {
            return showHide(this, true);
        },
        hide: function () {
            return showHide(this);
        },
        toggle: function (state) {
            if (typeof state === "boolean") {
                return state ? this.show() : this.hide();
            }
            return this.each(function () {
                if (isHiddenWithinTree(this)) {
                    jQuery(this).show();
                }
                else {
                    jQuery(this).hide();
                }
            });
        }
    });
    var rcheckableType = (/^(?:checkbox|radio)$/i);
    var rtagName = (/<([a-z][^\/\0>\x20\t\r\n\f]+)/i);
    var rscriptType = (/^$|\/(?:java|ecma)script/i);
    var wrapMap = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""]
    };
    wrapMap.optgroup = wrapMap.option;
    wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
    wrapMap.th = wrapMap.td;
    function getAll(context, tag) {
        var ret;
        if (typeof context.getElementsByTagName !== "undefined") {
            ret = context.getElementsByTagName(tag || "*");
        }
        else if (typeof context.querySelectorAll !== "undefined") {
            ret = context.querySelectorAll(tag || "*");
        }
        else {
            ret = [];
        }
        if (tag === undefined || tag && jQuery.nodeName(context, tag)) {
            return jQuery.merge([context], ret);
        }
        return ret;
    }
    function setGlobalEval(elems, refElements) {
        var i = 0, l = elems.length;
        for (; i < l; i++) {
            dataPriv.set(elems[i], "globalEval", !refElements || dataPriv.get(refElements[i], "globalEval"));
        }
    }
    var rhtml = /<|&#?\w+;/;
    function buildFragment(elems, context, scripts, selection, ignored) {
        var elem, tmp, tag, wrap, contains, j, fragment = context.createDocumentFragment(), nodes = [], i = 0, l = elems.length;
        for (; i < l; i++) {
            elem = elems[i];
            if (elem || elem === 0) {
                if (jQuery.type(elem) === "object") {
                    jQuery.merge(nodes, elem.nodeType ? [elem] : elem);
                }
                else if (!rhtml.test(elem)) {
                    nodes.push(context.createTextNode(elem));
                }
                else {
                    tmp = tmp || fragment.appendChild(context.createElement("div"));
                    tag = (rtagName.exec(elem) || ["", ""])[1].toLowerCase();
                    wrap = wrapMap[tag] || wrapMap._default;
                    tmp.innerHTML = wrap[1] + jQuery.htmlPrefilter(elem) + wrap[2];
                    j = wrap[0];
                    while (j--) {
                        tmp = tmp.lastChild;
                    }
                    jQuery.merge(nodes, tmp.childNodes);
                    tmp = fragment.firstChild;
                    tmp.textContent = "";
                }
            }
        }
        fragment.textContent = "";
        i = 0;
        while ((elem = nodes[i++])) {
            if (selection && jQuery.inArray(elem, selection) > -1) {
                if (ignored) {
                    ignored.push(elem);
                }
                continue;
            }
            contains = jQuery.contains(elem.ownerDocument, elem);
            tmp = getAll(fragment.appendChild(elem), "script");
            if (contains) {
                setGlobalEval(tmp);
            }
            if (scripts) {
                j = 0;
                while ((elem = tmp[j++])) {
                    if (rscriptType.test(elem.type || "")) {
                        scripts.push(elem);
                    }
                }
            }
        }
        return fragment;
    }
    (function () {
        var fragment = document.createDocumentFragment(), div = fragment.appendChild(document.createElement("div")), input = document.createElement("input");
        input.setAttribute("type", "radio");
        input.setAttribute("checked", "checked");
        input.setAttribute("name", "t");
        div.appendChild(input);
        support.checkClone = div.cloneNode(true).cloneNode(true).lastChild.checked;
        div.innerHTML = "<textarea>x</textarea>";
        support.noCloneChecked = !!div.cloneNode(true).lastChild.defaultValue;
    })();
    var documentElement = document.documentElement;
    var rkeyEvent = /^key/, rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, rtypenamespace = /^([^.]*)(?:\.(.+)|)/;
    function returnTrue() {
        return true;
    }
    function returnFalse() {
        return false;
    }
    function safeActiveElement() {
        try {
            return document.activeElement;
        }
        catch (err) { }
    }
    function on(elem, types, selector, data, fn, one) {
        var origFn, type;
        if (typeof types === "object") {
            if (typeof selector !== "string") {
                data = data || selector;
                selector = undefined;
            }
            for (type in types) {
                on(elem, type, selector, data, types[type], one);
            }
            return elem;
        }
        if (data == null && fn == null) {
            fn = selector;
            data = selector = undefined;
        }
        else if (fn == null) {
            if (typeof selector === "string") {
                fn = data;
                data = undefined;
            }
            else {
                fn = data;
                data = selector;
                selector = undefined;
            }
        }
        if (fn === false) {
            fn = returnFalse;
        }
        else if (!fn) {
            return elem;
        }
        if (one === 1) {
            origFn = fn;
            fn = function (event) {
                jQuery().off(event);
                return origFn.apply(this, arguments);
            };
            fn.guid = origFn.guid || (origFn.guid = jQuery.guid++);
        }
        return elem.each(function () {
            jQuery.event.add(this, types, fn, data, selector);
        });
    }
    jQuery.event = {
        global: {},
        add: function (elem, types, handler, data, selector) {
            var handleObjIn, eventHandle, tmp, events, t, handleObj, special, handlers, type, namespaces, origType, elemData = dataPriv.get(elem);
            if (!elemData) {
                return;
            }
            if (handler.handler) {
                handleObjIn = handler;
                handler = handleObjIn.handler;
                selector = handleObjIn.selector;
            }
            if (selector) {
                jQuery.find.matchesSelector(documentElement, selector);
            }
            if (!handler.guid) {
                handler.guid = jQuery.guid++;
            }
            if (!(events = elemData.events)) {
                events = elemData.events = {};
            }
            if (!(eventHandle = elemData.handle)) {
                eventHandle = elemData.handle = function (e) {
                    return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ?
                        jQuery.event.dispatch.apply(elem, arguments) : undefined;
                };
            }
            types = (types || "").match(rnothtmlwhite) || [""];
            t = types.length;
            while (t--) {
                tmp = rtypenamespace.exec(types[t]) || [];
                type = origType = tmp[1];
                namespaces = (tmp[2] || "").split(".").sort();
                if (!type) {
                    continue;
                }
                special = jQuery.event.special[type] || {};
                type = (selector ? special.delegateType : special.bindType) || type;
                special = jQuery.event.special[type] || {};
                handleObj = jQuery.extend({
                    type: type,
                    origType: origType,
                    data: data,
                    handler: handler,
                    guid: handler.guid,
                    selector: selector,
                    needsContext: selector && jQuery.expr.match.needsContext.test(selector),
                    namespace: namespaces.join(".")
                }, handleObjIn);
                if (!(handlers = events[type])) {
                    handlers = events[type] = [];
                    handlers.delegateCount = 0;
                    if (!special.setup ||
                        special.setup.call(elem, data, namespaces, eventHandle) === false) {
                        if (elem.addEventListener) {
                            elem.addEventListener(type, eventHandle);
                        }
                    }
                }
                if (special.add) {
                    special.add.call(elem, handleObj);
                    if (!handleObj.handler.guid) {
                        handleObj.handler.guid = handler.guid;
                    }
                }
                if (selector) {
                    handlers.splice(handlers.delegateCount++, 0, handleObj);
                }
                else {
                    handlers.push(handleObj);
                }
                jQuery.event.global[type] = true;
            }
        },
        remove: function (elem, types, handler, selector, mappedTypes) {
            var j, origCount, tmp, events, t, handleObj, special, handlers, type, namespaces, origType, elemData = dataPriv.hasData(elem) && dataPriv.get(elem);
            if (!elemData || !(events = elemData.events)) {
                return;
            }
            types = (types || "").match(rnothtmlwhite) || [""];
            t = types.length;
            while (t--) {
                tmp = rtypenamespace.exec(types[t]) || [];
                type = origType = tmp[1];
                namespaces = (tmp[2] || "").split(".").sort();
                if (!type) {
                    for (type in events) {
                        jQuery.event.remove(elem, type + types[t], handler, selector, true);
                    }
                    continue;
                }
                special = jQuery.event.special[type] || {};
                type = (selector ? special.delegateType : special.bindType) || type;
                handlers = events[type] || [];
                tmp = tmp[2] &&
                    new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)");
                origCount = j = handlers.length;
                while (j--) {
                    handleObj = handlers[j];
                    if ((mappedTypes || origType === handleObj.origType) &&
                        (!handler || handler.guid === handleObj.guid) &&
                        (!tmp || tmp.test(handleObj.namespace)) &&
                        (!selector || selector === handleObj.selector ||
                            selector === "**" && handleObj.selector)) {
                        handlers.splice(j, 1);
                        if (handleObj.selector) {
                            handlers.delegateCount--;
                        }
                        if (special.remove) {
                            special.remove.call(elem, handleObj);
                        }
                    }
                }
                if (origCount && !handlers.length) {
                    if (!special.teardown ||
                        special.teardown.call(elem, namespaces, elemData.handle) === false) {
                        jQuery.removeEvent(elem, type, elemData.handle);
                    }
                    delete events[type];
                }
            }
            if (jQuery.isEmptyObject(events)) {
                dataPriv.remove(elem, "handle events");
            }
        },
        dispatch: function (nativeEvent) {
            var event = jQuery.event.fix(nativeEvent);
            var i, j, ret, matched, handleObj, handlerQueue, args = new Array(arguments.length), handlers = (dataPriv.get(this, "events") || {})[event.type] || [], special = jQuery.event.special[event.type] || {};
            args[0] = event;
            for (i = 1; i < arguments.length; i++) {
                args[i] = arguments[i];
            }
            event.delegateTarget = this;
            if (special.preDispatch && special.preDispatch.call(this, event) === false) {
                return;
            }
            handlerQueue = jQuery.event.handlers.call(this, event, handlers);
            i = 0;
            while ((matched = handlerQueue[i++]) && !event.isPropagationStopped()) {
                event.currentTarget = matched.elem;
                j = 0;
                while ((handleObj = matched.handlers[j++]) &&
                    !event.isImmediatePropagationStopped()) {
                    if (!event.rnamespace || event.rnamespace.test(handleObj.namespace)) {
                        event.handleObj = handleObj;
                        event.data = handleObj.data;
                        ret = ((jQuery.event.special[handleObj.origType] || {}).handle ||
                            handleObj.handler).apply(matched.elem, args);
                        if (ret !== undefined) {
                            if ((event.result = ret) === false) {
                                event.preventDefault();
                                event.stopPropagation();
                            }
                        }
                    }
                }
            }
            if (special.postDispatch) {
                special.postDispatch.call(this, event);
            }
            return event.result;
        },
        handlers: function (event, handlers) {
            var i, handleObj, sel, matchedHandlers, matchedSelectors, handlerQueue = [], delegateCount = handlers.delegateCount, cur = event.target;
            if (delegateCount &&
                cur.nodeType &&
                !(event.type === "click" && event.button >= 1)) {
                for (; cur !== this; cur = cur.parentNode || this) {
                    if (cur.nodeType === 1 && !(event.type === "click" && cur.disabled === true)) {
                        matchedHandlers = [];
                        matchedSelectors = {};
                        for (i = 0; i < delegateCount; i++) {
                            handleObj = handlers[i];
                            sel = handleObj.selector + " ";
                            if (matchedSelectors[sel] === undefined) {
                                matchedSelectors[sel] = handleObj.needsContext ?
                                    jQuery(sel, this).index(cur) > -1 :
                                    jQuery.find(sel, this, null, [cur]).length;
                            }
                            if (matchedSelectors[sel]) {
                                matchedHandlers.push(handleObj);
                            }
                        }
                        if (matchedHandlers.length) {
                            handlerQueue.push({ elem: cur, handlers: matchedHandlers });
                        }
                    }
                }
            }
            cur = this;
            if (delegateCount < handlers.length) {
                handlerQueue.push({ elem: cur, handlers: handlers.slice(delegateCount) });
            }
            return handlerQueue;
        },
        addProp: function (name, hook) {
            Object.defineProperty(jQuery.Event.prototype, name, {
                enumerable: true,
                configurable: true,
                get: jQuery.isFunction(hook) ?
                    function () {
                        if (this.originalEvent) {
                            return hook(this.originalEvent);
                        }
                    } :
                    function () {
                        if (this.originalEvent) {
                            return this.originalEvent[name];
                        }
                    },
                set: function (value) {
                    Object.defineProperty(this, name, {
                        enumerable: true,
                        configurable: true,
                        writable: true,
                        value: value
                    });
                }
            });
        },
        fix: function (originalEvent) {
            return originalEvent[jQuery.expando] ?
                originalEvent :
                new jQuery.Event(originalEvent);
        },
        special: {
            load: {
                noBubble: true
            },
            focus: {
                trigger: function () {
                    if (this !== safeActiveElement() && this.focus) {
                        this.focus();
                        return false;
                    }
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function () {
                    if (this === safeActiveElement() && this.blur) {
                        this.blur();
                        return false;
                    }
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function () {
                    if (this.type === "checkbox" && this.click && jQuery.nodeName(this, "input")) {
                        this.click();
                        return false;
                    }
                },
                _default: function (event) {
                    return jQuery.nodeName(event.target, "a");
                }
            },
            beforeunload: {
                postDispatch: function (event) {
                    if (event.result !== undefined && event.originalEvent) {
                        event.originalEvent.returnValue = event.result;
                    }
                }
            }
        }
    };
    jQuery.removeEvent = function (elem, type, handle) {
        if (elem.removeEventListener) {
            elem.removeEventListener(type, handle);
        }
    };
    jQuery.Event = function (src, props) {
        if (!(this instanceof jQuery.Event)) {
            return new jQuery.Event(src, props);
        }
        if (src && src.type) {
            this.originalEvent = src;
            this.type = src.type;
            this.isDefaultPrevented = src.defaultPrevented ||
                src.defaultPrevented === undefined &&
                    src.returnValue === false ?
                returnTrue :
                returnFalse;
            this.target = (src.target && src.target.nodeType === 3) ?
                src.target.parentNode :
                src.target;
            this.currentTarget = src.currentTarget;
            this.relatedTarget = src.relatedTarget;
        }
        else {
            this.type = src;
        }
        if (props) {
            jQuery.extend(this, props);
        }
        this.timeStamp = src && src.timeStamp || jQuery.now();
        this[jQuery.expando] = true;
    };
    jQuery.Event.prototype = {
        constructor: jQuery.Event,
        isDefaultPrevented: returnFalse,
        isPropagationStopped: returnFalse,
        isImmediatePropagationStopped: returnFalse,
        isSimulated: false,
        preventDefault: function () {
            var e = this.originalEvent;
            this.isDefaultPrevented = returnTrue;
            if (e && !this.isSimulated) {
                e.preventDefault();
            }
        },
        stopPropagation: function () {
            var e = this.originalEvent;
            this.isPropagationStopped = returnTrue;
            if (e && !this.isSimulated) {
                e.stopPropagation();
            }
        },
        stopImmediatePropagation: function () {
            var e = this.originalEvent;
            this.isImmediatePropagationStopped = returnTrue;
            if (e && !this.isSimulated) {
                e.stopImmediatePropagation();
            }
            this.stopPropagation();
        }
    };
    jQuery.each({
        altKey: true,
        bubbles: true,
        cancelable: true,
        changedTouches: true,
        ctrlKey: true,
        detail: true,
        eventPhase: true,
        metaKey: true,
        pageX: true,
        pageY: true,
        shiftKey: true,
        view: true,
        "char": true,
        charCode: true,
        key: true,
        keyCode: true,
        button: true,
        buttons: true,
        clientX: true,
        clientY: true,
        offsetX: true,
        offsetY: true,
        pointerId: true,
        pointerType: true,
        screenX: true,
        screenY: true,
        targetTouches: true,
        toElement: true,
        touches: true,
        which: function (event) {
            var button = event.button;
            if (event.which == null && rkeyEvent.test(event.type)) {
                return event.charCode != null ? event.charCode : event.keyCode;
            }
            if (!event.which && button !== undefined && rmouseEvent.test(event.type)) {
                if (button & 1) {
                    return 1;
                }
                if (button & 2) {
                    return 3;
                }
                if (button & 4) {
                    return 2;
                }
                return 0;
            }
            return event.which;
        }
    }, jQuery.event.addProp);
    jQuery.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function (orig, fix) {
        jQuery.event.special[orig] = {
            delegateType: fix,
            bindType: fix,
            handle: function (event) {
                var ret, target = this, related = event.relatedTarget, handleObj = event.handleObj;
                if (!related || (related !== target && !jQuery.contains(target, related))) {
                    event.type = handleObj.origType;
                    ret = handleObj.handler.apply(this, arguments);
                    event.type = fix;
                }
                return ret;
            }
        };
    });
    jQuery.fn.extend({
        on: function (types, selector, data, fn) {
            return on(this, types, selector, data, fn);
        },
        one: function (types, selector, data, fn) {
            return on(this, types, selector, data, fn, 1);
        },
        off: function (types, selector, fn) {
            var handleObj, type;
            if (types && types.preventDefault && types.handleObj) {
                handleObj = types.handleObj;
                jQuery(types.delegateTarget).off(handleObj.namespace ?
                    handleObj.origType + "." + handleObj.namespace :
                    handleObj.origType, handleObj.selector, handleObj.handler);
                return this;
            }
            if (typeof types === "object") {
                for (type in types) {
                    this.off(type, selector, types[type]);
                }
                return this;
            }
            if (selector === false || typeof selector === "function") {
                fn = selector;
                selector = undefined;
            }
            if (fn === false) {
                fn = returnFalse;
            }
            return this.each(function () {
                jQuery.event.remove(this, types, fn, selector);
            });
        }
    });
    var rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi, rnoInnerhtml = /<script|<style|<link/i, rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i, rscriptTypeMasked = /^true\/(.*)/, rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
    function manipulationTarget(elem, content) {
        if (jQuery.nodeName(elem, "table") &&
            jQuery.nodeName(content.nodeType !== 11 ? content : content.firstChild, "tr")) {
            return elem.getElementsByTagName("tbody")[0] || elem;
        }
        return elem;
    }
    function disableScript(elem) {
        elem.type = (elem.getAttribute("type") !== null) + "/" + elem.type;
        return elem;
    }
    function restoreScript(elem) {
        var match = rscriptTypeMasked.exec(elem.type);
        if (match) {
            elem.type = match[1];
        }
        else {
            elem.removeAttribute("type");
        }
        return elem;
    }
    function cloneCopyEvent(src, dest) {
        var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;
        if (dest.nodeType !== 1) {
            return;
        }
        if (dataPriv.hasData(src)) {
            pdataOld = dataPriv.access(src);
            pdataCur = dataPriv.set(dest, pdataOld);
            events = pdataOld.events;
            if (events) {
                delete pdataCur.handle;
                pdataCur.events = {};
                for (type in events) {
                    for (i = 0, l = events[type].length; i < l; i++) {
                        jQuery.event.add(dest, type, events[type][i]);
                    }
                }
            }
        }
        if (dataUser.hasData(src)) {
            udataOld = dataUser.access(src);
            udataCur = jQuery.extend({}, udataOld);
            dataUser.set(dest, udataCur);
        }
    }
    function fixInput(src, dest) {
        var nodeName = dest.nodeName.toLowerCase();
        if (nodeName === "input" && rcheckableType.test(src.type)) {
            dest.checked = src.checked;
        }
        else if (nodeName === "input" || nodeName === "textarea") {
            dest.defaultValue = src.defaultValue;
        }
    }
    function domManip(collection, args, callback, ignored) {
        args = concat.apply([], args);
        var fragment, first, scripts, hasScripts, node, doc, i = 0, l = collection.length, iNoClone = l - 1, value = args[0], isFunction = jQuery.isFunction(value);
        if (isFunction ||
            (l > 1 && typeof value === "string" &&
                !support.checkClone && rchecked.test(value))) {
            return collection.each(function (index) {
                var self = collection.eq(index);
                if (isFunction) {
                    args[0] = value.call(this, index, self.html());
                }
                domManip(self, args, callback, ignored);
            });
        }
        if (l) {
            fragment = buildFragment(args, collection[0].ownerDocument, false, collection, ignored);
            first = fragment.firstChild;
            if (fragment.childNodes.length === 1) {
                fragment = first;
            }
            if (first || ignored) {
                scripts = jQuery.map(getAll(fragment, "script"), disableScript);
                hasScripts = scripts.length;
                for (; i < l; i++) {
                    node = fragment;
                    if (i !== iNoClone) {
                        node = jQuery.clone(node, true, true);
                        if (hasScripts) {
                            jQuery.merge(scripts, getAll(node, "script"));
                        }
                    }
                    callback.call(collection[i], node, i);
                }
                if (hasScripts) {
                    doc = scripts[scripts.length - 1].ownerDocument;
                    jQuery.map(scripts, restoreScript);
                    for (i = 0; i < hasScripts; i++) {
                        node = scripts[i];
                        if (rscriptType.test(node.type || "") &&
                            !dataPriv.access(node, "globalEval") &&
                            jQuery.contains(doc, node)) {
                            if (node.src) {
                                if (jQuery._evalUrl) {
                                    jQuery._evalUrl(node.src);
                                }
                            }
                            else {
                                DOMEval(node.textContent.replace(rcleanScript, ""), doc);
                            }
                        }
                    }
                }
            }
        }
        return collection;
    }
    function remove(elem, selector, keepData) {
        var node, nodes = selector ? jQuery.filter(selector, elem) : elem, i = 0;
        for (; (node = nodes[i]) != null; i++) {
            if (!keepData && node.nodeType === 1) {
                jQuery.cleanData(getAll(node));
            }
            if (node.parentNode) {
                if (keepData && jQuery.contains(node.ownerDocument, node)) {
                    setGlobalEval(getAll(node, "script"));
                }
                node.parentNode.removeChild(node);
            }
        }
        return elem;
    }
    jQuery.extend({
        htmlPrefilter: function (html) {
            return html.replace(rxhtmlTag, "<$1></$2>");
        },
        clone: function (elem, dataAndEvents, deepDataAndEvents) {
            var i, l, srcElements, destElements, clone = elem.cloneNode(true), inPage = jQuery.contains(elem.ownerDocument, elem);
            if (!support.noCloneChecked && (elem.nodeType === 1 || elem.nodeType === 11) &&
                !jQuery.isXMLDoc(elem)) {
                destElements = getAll(clone);
                srcElements = getAll(elem);
                for (i = 0, l = srcElements.length; i < l; i++) {
                    fixInput(srcElements[i], destElements[i]);
                }
            }
            if (dataAndEvents) {
                if (deepDataAndEvents) {
                    srcElements = srcElements || getAll(elem);
                    destElements = destElements || getAll(clone);
                    for (i = 0, l = srcElements.length; i < l; i++) {
                        cloneCopyEvent(srcElements[i], destElements[i]);
                    }
                }
                else {
                    cloneCopyEvent(elem, clone);
                }
            }
            destElements = getAll(clone, "script");
            if (destElements.length > 0) {
                setGlobalEval(destElements, !inPage && getAll(elem, "script"));
            }
            return clone;
        },
        cleanData: function (elems) {
            var data, elem, type, special = jQuery.event.special, i = 0;
            for (; (elem = elems[i]) !== undefined; i++) {
                if (acceptData(elem)) {
                    if ((data = elem[dataPriv.expando])) {
                        if (data.events) {
                            for (type in data.events) {
                                if (special[type]) {
                                    jQuery.event.remove(elem, type);
                                }
                                else {
                                    jQuery.removeEvent(elem, type, data.handle);
                                }
                            }
                        }
                        elem[dataPriv.expando] = undefined;
                    }
                    if (elem[dataUser.expando]) {
                        elem[dataUser.expando] = undefined;
                    }
                }
            }
        }
    });
    jQuery.fn.extend({
        detach: function (selector) {
            return remove(this, selector, true);
        },
        remove: function (selector) {
            return remove(this, selector);
        },
        text: function (value) {
            return access(this, function (value) {
                return value === undefined ?
                    jQuery.text(this) :
                    this.empty().each(function () {
                        if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                            this.textContent = value;
                        }
                    });
            }, null, value, arguments.length);
        },
        append: function () {
            return domManip(this, arguments, function (elem) {
                if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                    var target = manipulationTarget(this, elem);
                    target.appendChild(elem);
                }
            });
        },
        prepend: function () {
            return domManip(this, arguments, function (elem) {
                if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                    var target = manipulationTarget(this, elem);
                    target.insertBefore(elem, target.firstChild);
                }
            });
        },
        before: function () {
            return domManip(this, arguments, function (elem) {
                if (this.parentNode) {
                    this.parentNode.insertBefore(elem, this);
                }
            });
        },
        after: function () {
            return domManip(this, arguments, function (elem) {
                if (this.parentNode) {
                    this.parentNode.insertBefore(elem, this.nextSibling);
                }
            });
        },
        empty: function () {
            var elem, i = 0;
            for (; (elem = this[i]) != null; i++) {
                if (elem.nodeType === 1) {
                    jQuery.cleanData(getAll(elem, false));
                    elem.textContent = "";
                }
            }
            return this;
        },
        clone: function (dataAndEvents, deepDataAndEvents) {
            dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
            deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;
            return this.map(function () {
                return jQuery.clone(this, dataAndEvents, deepDataAndEvents);
            });
        },
        html: function (value) {
            return access(this, function (value) {
                var elem = this[0] || {}, i = 0, l = this.length;
                if (value === undefined && elem.nodeType === 1) {
                    return elem.innerHTML;
                }
                if (typeof value === "string" && !rnoInnerhtml.test(value) &&
                    !wrapMap[(rtagName.exec(value) || ["", ""])[1].toLowerCase()]) {
                    value = jQuery.htmlPrefilter(value);
                    try {
                        for (; i < l; i++) {
                            elem = this[i] || {};
                            if (elem.nodeType === 1) {
                                jQuery.cleanData(getAll(elem, false));
                                elem.innerHTML = value;
                            }
                        }
                        elem = 0;
                    }
                    catch (e) { }
                }
                if (elem) {
                    this.empty().append(value);
                }
            }, null, value, arguments.length);
        },
        replaceWith: function () {
            var ignored = [];
            return domManip(this, arguments, function (elem) {
                var parent = this.parentNode;
                if (jQuery.inArray(this, ignored) < 0) {
                    jQuery.cleanData(getAll(this));
                    if (parent) {
                        parent.replaceChild(elem, this);
                    }
                }
            }, ignored);
        }
    });
    jQuery.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function (name, original) {
        jQuery.fn[name] = function (selector) {
            var elems, ret = [], insert = jQuery(selector), last = insert.length - 1, i = 0;
            for (; i <= last; i++) {
                elems = i === last ? this : this.clone(true);
                jQuery(insert[i])[original](elems);
                push.apply(ret, elems.get());
            }
            return this.pushStack(ret);
        };
    });
    var rmargin = (/^margin/);
    var rnumnonpx = new RegExp("^(" + pnum + ")(?!px)[a-z%]+$", "i");
    var getStyles = function (elem) {
        var view = elem.ownerDocument.defaultView;
        if (!view || !view.opener) {
            view = window;
        }
        return view.getComputedStyle(elem);
    };
    (function () {
        function computeStyleTests() {
            if (!div) {
                return;
            }
            div.style.cssText =
                "box-sizing:border-box;" +
                    "position:relative;display:block;" +
                    "margin:auto;border:1px;padding:1px;" +
                    "top:1%;width:50%";
            div.innerHTML = "";
            documentElement.appendChild(container);
            var divStyle = window.getComputedStyle(div);
            pixelPositionVal = divStyle.top !== "1%";
            reliableMarginLeftVal = divStyle.marginLeft === "2px";
            boxSizingReliableVal = divStyle.width === "4px";
            div.style.marginRight = "50%";
            pixelMarginRightVal = divStyle.marginRight === "4px";
            documentElement.removeChild(container);
            div = null;
        }
        var pixelPositionVal, boxSizingReliableVal, pixelMarginRightVal, reliableMarginLeftVal, container = document.createElement("div"), div = document.createElement("div");
        if (!div.style) {
            return;
        }
        div.style.backgroundClip = "content-box";
        div.cloneNode(true).style.backgroundClip = "";
        support.clearCloneStyle = div.style.backgroundClip === "content-box";
        container.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;" +
            "padding:0;margin-top:1px;position:absolute";
        container.appendChild(div);
        jQuery.extend(support, {
            pixelPosition: function () {
                computeStyleTests();
                return pixelPositionVal;
            },
            boxSizingReliable: function () {
                computeStyleTests();
                return boxSizingReliableVal;
            },
            pixelMarginRight: function () {
                computeStyleTests();
                return pixelMarginRightVal;
            },
            reliableMarginLeft: function () {
                computeStyleTests();
                return reliableMarginLeftVal;
            }
        });
    })();
    function curCSS(elem, name, computed) {
        var width, minWidth, maxWidth, ret, style = elem.style;
        computed = computed || getStyles(elem);
        if (computed) {
            ret = computed.getPropertyValue(name) || computed[name];
            if (ret === "" && !jQuery.contains(elem.ownerDocument, elem)) {
                ret = jQuery.style(elem, name);
            }
            if (!support.pixelMarginRight() && rnumnonpx.test(ret) && rmargin.test(name)) {
                width = style.width;
                minWidth = style.minWidth;
                maxWidth = style.maxWidth;
                style.minWidth = style.maxWidth = style.width = ret;
                ret = computed.width;
                style.width = width;
                style.minWidth = minWidth;
                style.maxWidth = maxWidth;
            }
        }
        return ret !== undefined ?
            ret + "" :
            ret;
    }
    function addGetHookIf(conditionFn, hookFn) {
        return {
            get: function () {
                if (conditionFn()) {
                    delete this.get;
                    return;
                }
                return (this.get = hookFn).apply(this, arguments);
            }
        };
    }
    var rdisplayswap = /^(none|table(?!-c[ea]).+)/, cssShow = { position: "absolute", visibility: "hidden", display: "block" }, cssNormalTransform = {
        letterSpacing: "0",
        fontWeight: "400"
    }, cssPrefixes = ["Webkit", "Moz", "ms"], emptyStyle = document.createElement("div").style;
    function vendorPropName(name) {
        if (name in emptyStyle) {
            return name;
        }
        var capName = name[0].toUpperCase() + name.slice(1), i = cssPrefixes.length;
        while (i--) {
            name = cssPrefixes[i] + capName;
            if (name in emptyStyle) {
                return name;
            }
        }
    }
    function setPositiveNumber(elem, value, subtract) {
        var matches = rcssNum.exec(value);
        return matches ?
            Math.max(0, matches[2] - (subtract || 0)) + (matches[3] || "px") :
            value;
    }
    function augmentWidthOrHeight(elem, name, extra, isBorderBox, styles) {
        var i, val = 0;
        if (extra === (isBorderBox ? "border" : "content")) {
            i = 4;
        }
        else {
            i = name === "width" ? 1 : 0;
        }
        for (; i < 4; i += 2) {
            if (extra === "margin") {
                val += jQuery.css(elem, extra + cssExpand[i], true, styles);
            }
            if (isBorderBox) {
                if (extra === "content") {
                    val -= jQuery.css(elem, "padding" + cssExpand[i], true, styles);
                }
                if (extra !== "margin") {
                    val -= jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles);
                }
            }
            else {
                val += jQuery.css(elem, "padding" + cssExpand[i], true, styles);
                if (extra !== "padding") {
                    val += jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles);
                }
            }
        }
        return val;
    }
    function getWidthOrHeight(elem, name, extra) {
        var val, valueIsBorderBox = true, styles = getStyles(elem), isBorderBox = jQuery.css(elem, "boxSizing", false, styles) === "border-box";
        if (elem.getClientRects().length) {
            val = elem.getBoundingClientRect()[name];
        }
        if (val <= 0 || val == null) {
            val = curCSS(elem, name, styles);
            if (val < 0 || val == null) {
                val = elem.style[name];
            }
            if (rnumnonpx.test(val)) {
                return val;
            }
            valueIsBorderBox = isBorderBox &&
                (support.boxSizingReliable() || val === elem.style[name]);
            val = parseFloat(val) || 0;
        }
        return (val +
            augmentWidthOrHeight(elem, name, extra || (isBorderBox ? "border" : "content"), valueIsBorderBox, styles)) + "px";
    }
    jQuery.extend({
        cssHooks: {
            opacity: {
                get: function (elem, computed) {
                    if (computed) {
                        var ret = curCSS(elem, "opacity");
                        return ret === "" ? "1" : ret;
                    }
                }
            }
        },
        cssNumber: {
            "animationIterationCount": true,
            "columnCount": true,
            "fillOpacity": true,
            "flexGrow": true,
            "flexShrink": true,
            "fontWeight": true,
            "lineHeight": true,
            "opacity": true,
            "order": true,
            "orphans": true,
            "widows": true,
            "zIndex": true,
            "zoom": true
        },
        cssProps: {
            "float": "cssFloat"
        },
        style: function (elem, name, value, extra) {
            if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style) {
                return;
            }
            var ret, type, hooks, origName = jQuery.camelCase(name), style = elem.style;
            name = jQuery.cssProps[origName] ||
                (jQuery.cssProps[origName] = vendorPropName(origName) || origName);
            hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];
            if (value !== undefined) {
                type = typeof value;
                if (type === "string" && (ret = rcssNum.exec(value)) && ret[1]) {
                    value = adjustCSS(elem, name, ret);
                    type = "number";
                }
                if (value == null || value !== value) {
                    return;
                }
                if (type === "number") {
                    value += ret && ret[3] || (jQuery.cssNumber[origName] ? "" : "px");
                }
                if (!support.clearCloneStyle && value === "" && name.indexOf("background") === 0) {
                    style[name] = "inherit";
                }
                if (!hooks || !("set" in hooks) ||
                    (value = hooks.set(elem, value, extra)) !== undefined) {
                    style[name] = value;
                }
            }
            else {
                if (hooks && "get" in hooks &&
                    (ret = hooks.get(elem, false, extra)) !== undefined) {
                    return ret;
                }
                return style[name];
            }
        },
        css: function (elem, name, extra, styles) {
            var val, num, hooks, origName = jQuery.camelCase(name);
            name = jQuery.cssProps[origName] ||
                (jQuery.cssProps[origName] = vendorPropName(origName) || origName);
            hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];
            if (hooks && "get" in hooks) {
                val = hooks.get(elem, true, extra);
            }
            if (val === undefined) {
                val = curCSS(elem, name, styles);
            }
            if (val === "normal" && name in cssNormalTransform) {
                val = cssNormalTransform[name];
            }
            if (extra === "" || extra) {
                num = parseFloat(val);
                return extra === true || isFinite(num) ? num || 0 : val;
            }
            return val;
        }
    });
    jQuery.each(["height", "width"], function (i, name) {
        jQuery.cssHooks[name] = {
            get: function (elem, computed, extra) {
                if (computed) {
                    return rdisplayswap.test(jQuery.css(elem, "display")) &&
                        (!elem.getClientRects().length || !elem.getBoundingClientRect().width) ?
                        swap(elem, cssShow, function () {
                            return getWidthOrHeight(elem, name, extra);
                        }) :
                        getWidthOrHeight(elem, name, extra);
                }
            },
            set: function (elem, value, extra) {
                var matches, styles = extra && getStyles(elem), subtract = extra && augmentWidthOrHeight(elem, name, extra, jQuery.css(elem, "boxSizing", false, styles) === "border-box", styles);
                if (subtract && (matches = rcssNum.exec(value)) &&
                    (matches[3] || "px") !== "px") {
                    elem.style[name] = value;
                    value = jQuery.css(elem, name);
                }
                return setPositiveNumber(elem, value, subtract);
            }
        };
    });
    jQuery.cssHooks.marginLeft = addGetHookIf(support.reliableMarginLeft, function (elem, computed) {
        if (computed) {
            return (parseFloat(curCSS(elem, "marginLeft")) ||
                elem.getBoundingClientRect().left -
                    swap(elem, { marginLeft: 0 }, function () {
                        return elem.getBoundingClientRect().left;
                    })) + "px";
        }
    });
    jQuery.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function (prefix, suffix) {
        jQuery.cssHooks[prefix + suffix] = {
            expand: function (value) {
                var i = 0, expanded = {}, parts = typeof value === "string" ? value.split(" ") : [value];
                for (; i < 4; i++) {
                    expanded[prefix + cssExpand[i] + suffix] =
                        parts[i] || parts[i - 2] || parts[0];
                }
                return expanded;
            }
        };
        if (!rmargin.test(prefix)) {
            jQuery.cssHooks[prefix + suffix].set = setPositiveNumber;
        }
    });
    jQuery.fn.extend({
        css: function (name, value) {
            return access(this, function (elem, name, value) {
                var styles, len, map = {}, i = 0;
                if (jQuery.isArray(name)) {
                    styles = getStyles(elem);
                    len = name.length;
                    for (; i < len; i++) {
                        map[name[i]] = jQuery.css(elem, name[i], false, styles);
                    }
                    return map;
                }
                return value !== undefined ?
                    jQuery.style(elem, name, value) :
                    jQuery.css(elem, name);
            }, name, value, arguments.length > 1);
        }
    });
    function Tween(elem, options, prop, end, easing) {
        return new Tween.prototype.init(elem, options, prop, end, easing);
    }
    jQuery.Tween = Tween;
    Tween.prototype = {
        constructor: Tween,
        init: function (elem, options, prop, end, easing, unit) {
            this.elem = elem;
            this.prop = prop;
            this.easing = easing || jQuery.easing._default;
            this.options = options;
            this.start = this.now = this.cur();
            this.end = end;
            this.unit = unit || (jQuery.cssNumber[prop] ? "" : "px");
        },
        cur: function () {
            var hooks = Tween.propHooks[this.prop];
            return hooks && hooks.get ?
                hooks.get(this) :
                Tween.propHooks._default.get(this);
        },
        run: function (percent) {
            var eased, hooks = Tween.propHooks[this.prop];
            if (this.options.duration) {
                this.pos = eased = jQuery.easing[this.easing](percent, this.options.duration * percent, 0, 1, this.options.duration);
            }
            else {
                this.pos = eased = percent;
            }
            this.now = (this.end - this.start) * eased + this.start;
            if (this.options.step) {
                this.options.step.call(this.elem, this.now, this);
            }
            if (hooks && hooks.set) {
                hooks.set(this);
            }
            else {
                Tween.propHooks._default.set(this);
            }
            return this;
        }
    };
    Tween.prototype.init.prototype = Tween.prototype;
    Tween.propHooks = {
        _default: {
            get: function (tween) {
                var result;
                if (tween.elem.nodeType !== 1 ||
                    tween.elem[tween.prop] != null && tween.elem.style[tween.prop] == null) {
                    return tween.elem[tween.prop];
                }
                result = jQuery.css(tween.elem, tween.prop, "");
                return !result || result === "auto" ? 0 : result;
            },
            set: function (tween) {
                if (jQuery.fx.step[tween.prop]) {
                    jQuery.fx.step[tween.prop](tween);
                }
                else if (tween.elem.nodeType === 1 &&
                    (tween.elem.style[jQuery.cssProps[tween.prop]] != null ||
                        jQuery.cssHooks[tween.prop])) {
                    jQuery.style(tween.elem, tween.prop, tween.now + tween.unit);
                }
                else {
                    tween.elem[tween.prop] = tween.now;
                }
            }
        }
    };
    Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
        set: function (tween) {
            if (tween.elem.nodeType && tween.elem.parentNode) {
                tween.elem[tween.prop] = tween.now;
            }
        }
    };
    jQuery.easing = {
        linear: function (p) {
            return p;
        },
        swing: function (p) {
            return 0.5 - Math.cos(p * Math.PI) / 2;
        },
        _default: "swing"
    };
    jQuery.fx = Tween.prototype.init;
    jQuery.fx.step = {};
    var fxNow, timerId, rfxtypes = /^(?:toggle|show|hide)$/, rrun = /queueHooks$/;
    function raf() {
        if (timerId) {
            window.requestAnimationFrame(raf);
            jQuery.fx.tick();
        }
    }
    function createFxNow() {
        window.setTimeout(function () {
            fxNow = undefined;
        });
        return (fxNow = jQuery.now());
    }
    function genFx(type, includeWidth) {
        var which, i = 0, attrs = { height: type };
        includeWidth = includeWidth ? 1 : 0;
        for (; i < 4; i += 2 - includeWidth) {
            which = cssExpand[i];
            attrs["margin" + which] = attrs["padding" + which] = type;
        }
        if (includeWidth) {
            attrs.opacity = attrs.width = type;
        }
        return attrs;
    }
    function createTween(value, prop, animation) {
        var tween, collection = (Animation.tweeners[prop] || []).concat(Animation.tweeners["*"]), index = 0, length = collection.length;
        for (; index < length; index++) {
            if ((tween = collection[index].call(animation, prop, value))) {
                return tween;
            }
        }
    }
    function defaultPrefilter(elem, props, opts) {
        var prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display, isBox = "width" in props || "height" in props, anim = this, orig = {}, style = elem.style, hidden = elem.nodeType && isHiddenWithinTree(elem), dataShow = dataPriv.get(elem, "fxshow");
        if (!opts.queue) {
            hooks = jQuery._queueHooks(elem, "fx");
            if (hooks.unqueued == null) {
                hooks.unqueued = 0;
                oldfire = hooks.empty.fire;
                hooks.empty.fire = function () {
                    if (!hooks.unqueued) {
                        oldfire();
                    }
                };
            }
            hooks.unqueued++;
            anim.always(function () {
                anim.always(function () {
                    hooks.unqueued--;
                    if (!jQuery.queue(elem, "fx").length) {
                        hooks.empty.fire();
                    }
                });
            });
        }
        for (prop in props) {
            value = props[prop];
            if (rfxtypes.test(value)) {
                delete props[prop];
                toggle = toggle || value === "toggle";
                if (value === (hidden ? "hide" : "show")) {
                    if (value === "show" && dataShow && dataShow[prop] !== undefined) {
                        hidden = true;
                    }
                    else {
                        continue;
                    }
                }
                orig[prop] = dataShow && dataShow[prop] || jQuery.style(elem, prop);
            }
        }
        propTween = !jQuery.isEmptyObject(props);
        if (!propTween && jQuery.isEmptyObject(orig)) {
            return;
        }
        if (isBox && elem.nodeType === 1) {
            opts.overflow = [style.overflow, style.overflowX, style.overflowY];
            restoreDisplay = dataShow && dataShow.display;
            if (restoreDisplay == null) {
                restoreDisplay = dataPriv.get(elem, "display");
            }
            display = jQuery.css(elem, "display");
            if (display === "none") {
                if (restoreDisplay) {
                    display = restoreDisplay;
                }
                else {
                    showHide([elem], true);
                    restoreDisplay = elem.style.display || restoreDisplay;
                    display = jQuery.css(elem, "display");
                    showHide([elem]);
                }
            }
            if (display === "inline" || display === "inline-block" && restoreDisplay != null) {
                if (jQuery.css(elem, "float") === "none") {
                    if (!propTween) {
                        anim.done(function () {
                            style.display = restoreDisplay;
                        });
                        if (restoreDisplay == null) {
                            display = style.display;
                            restoreDisplay = display === "none" ? "" : display;
                        }
                    }
                    style.display = "inline-block";
                }
            }
        }
        if (opts.overflow) {
            style.overflow = "hidden";
            anim.always(function () {
                style.overflow = opts.overflow[0];
                style.overflowX = opts.overflow[1];
                style.overflowY = opts.overflow[2];
            });
        }
        propTween = false;
        for (prop in orig) {
            if (!propTween) {
                if (dataShow) {
                    if ("hidden" in dataShow) {
                        hidden = dataShow.hidden;
                    }
                }
                else {
                    dataShow = dataPriv.access(elem, "fxshow", { display: restoreDisplay });
                }
                if (toggle) {
                    dataShow.hidden = !hidden;
                }
                if (hidden) {
                    showHide([elem], true);
                }
                anim.done(function () {
                    if (!hidden) {
                        showHide([elem]);
                    }
                    dataPriv.remove(elem, "fxshow");
                    for (prop in orig) {
                        jQuery.style(elem, prop, orig[prop]);
                    }
                });
            }
            propTween = createTween(hidden ? dataShow[prop] : 0, prop, anim);
            if (!(prop in dataShow)) {
                dataShow[prop] = propTween.start;
                if (hidden) {
                    propTween.end = propTween.start;
                    propTween.start = 0;
                }
            }
        }
    }
    function propFilter(props, specialEasing) {
        var index, name, easing, value, hooks;
        for (index in props) {
            name = jQuery.camelCase(index);
            easing = specialEasing[name];
            value = props[index];
            if (jQuery.isArray(value)) {
                easing = value[1];
                value = props[index] = value[0];
            }
            if (index !== name) {
                props[name] = value;
                delete props[index];
            }
            hooks = jQuery.cssHooks[name];
            if (hooks && "expand" in hooks) {
                value = hooks.expand(value);
                delete props[name];
                for (index in value) {
                    if (!(index in props)) {
                        props[index] = value[index];
                        specialEasing[index] = easing;
                    }
                }
            }
            else {
                specialEasing[name] = easing;
            }
        }
    }
    function Animation(elem, properties, options) {
        var result, stopped, index = 0, length = Animation.prefilters.length, deferred = jQuery.Deferred().always(function () {
            delete tick.elem;
        }), tick = function () {
            if (stopped) {
                return false;
            }
            var currentTime = fxNow || createFxNow(), remaining = Math.max(0, animation.startTime + animation.duration - currentTime), temp = remaining / animation.duration || 0, percent = 1 - temp, index = 0, length = animation.tweens.length;
            for (; index < length; index++) {
                animation.tweens[index].run(percent);
            }
            deferred.notifyWith(elem, [animation, percent, remaining]);
            if (percent < 1 && length) {
                return remaining;
            }
            else {
                deferred.resolveWith(elem, [animation]);
                return false;
            }
        }, animation = deferred.promise({
            elem: elem,
            props: jQuery.extend({}, properties),
            opts: jQuery.extend(true, {
                specialEasing: {},
                easing: jQuery.easing._default
            }, options),
            originalProperties: properties,
            originalOptions: options,
            startTime: fxNow || createFxNow(),
            duration: options.duration,
            tweens: [],
            createTween: function (prop, end) {
                var tween = jQuery.Tween(elem, animation.opts, prop, end, animation.opts.specialEasing[prop] || animation.opts.easing);
                animation.tweens.push(tween);
                return tween;
            },
            stop: function (gotoEnd) {
                var index = 0, length = gotoEnd ? animation.tweens.length : 0;
                if (stopped) {
                    return this;
                }
                stopped = true;
                for (; index < length; index++) {
                    animation.tweens[index].run(1);
                }
                if (gotoEnd) {
                    deferred.notifyWith(elem, [animation, 1, 0]);
                    deferred.resolveWith(elem, [animation, gotoEnd]);
                }
                else {
                    deferred.rejectWith(elem, [animation, gotoEnd]);
                }
                return this;
            }
        }), props = animation.props;
        propFilter(props, animation.opts.specialEasing);
        for (; index < length; index++) {
            result = Animation.prefilters[index].call(animation, elem, props, animation.opts);
            if (result) {
                if (jQuery.isFunction(result.stop)) {
                    jQuery._queueHooks(animation.elem, animation.opts.queue).stop =
                        jQuery.proxy(result.stop, result);
                }
                return result;
            }
        }
        jQuery.map(props, createTween, animation);
        if (jQuery.isFunction(animation.opts.start)) {
            animation.opts.start.call(elem, animation);
        }
        jQuery.fx.timer(jQuery.extend(tick, {
            elem: elem,
            anim: animation,
            queue: animation.opts.queue
        }));
        return animation.progress(animation.opts.progress)
            .done(animation.opts.done, animation.opts.complete)
            .fail(animation.opts.fail)
            .always(animation.opts.always);
    }
    jQuery.Animation = jQuery.extend(Animation, {
        tweeners: {
            "*": [function (prop, value) {
                    var tween = this.createTween(prop, value);
                    adjustCSS(tween.elem, prop, rcssNum.exec(value), tween);
                    return tween;
                }]
        },
        tweener: function (props, callback) {
            if (jQuery.isFunction(props)) {
                callback = props;
                props = ["*"];
            }
            else {
                props = props.match(rnothtmlwhite);
            }
            var prop, index = 0, length = props.length;
            for (; index < length; index++) {
                prop = props[index];
                Animation.tweeners[prop] = Animation.tweeners[prop] || [];
                Animation.tweeners[prop].unshift(callback);
            }
        },
        prefilters: [defaultPrefilter],
        prefilter: function (callback, prepend) {
            if (prepend) {
                Animation.prefilters.unshift(callback);
            }
            else {
                Animation.prefilters.push(callback);
            }
        }
    });
    jQuery.speed = function (speed, easing, fn) {
        var opt = speed && typeof speed === "object" ? jQuery.extend({}, speed) : {
            complete: fn || !fn && easing ||
                jQuery.isFunction(speed) && speed,
            duration: speed,
            easing: fn && easing || easing && !jQuery.isFunction(easing) && easing
        };
        if (jQuery.fx.off || document.hidden) {
            opt.duration = 0;
        }
        else {
            if (typeof opt.duration !== "number") {
                if (opt.duration in jQuery.fx.speeds) {
                    opt.duration = jQuery.fx.speeds[opt.duration];
                }
                else {
                    opt.duration = jQuery.fx.speeds._default;
                }
            }
        }
        if (opt.queue == null || opt.queue === true) {
            opt.queue = "fx";
        }
        opt.old = opt.complete;
        opt.complete = function () {
            if (jQuery.isFunction(opt.old)) {
                opt.old.call(this);
            }
            if (opt.queue) {
                jQuery.dequeue(this, opt.queue);
            }
        };
        return opt;
    };
    jQuery.fn.extend({
        fadeTo: function (speed, to, easing, callback) {
            return this.filter(isHiddenWithinTree).css("opacity", 0).show()
                .end().animate({ opacity: to }, speed, easing, callback);
        },
        animate: function (prop, speed, easing, callback) {
            var empty = jQuery.isEmptyObject(prop), optall = jQuery.speed(speed, easing, callback), doAnimation = function () {
                var anim = Animation(this, jQuery.extend({}, prop), optall);
                if (empty || dataPriv.get(this, "finish")) {
                    anim.stop(true);
                }
            };
            doAnimation.finish = doAnimation;
            return empty || optall.queue === false ?
                this.each(doAnimation) :
                this.queue(optall.queue, doAnimation);
        },
        stop: function (type, clearQueue, gotoEnd) {
            var stopQueue = function (hooks) {
                var stop = hooks.stop;
                delete hooks.stop;
                stop(gotoEnd);
            };
            if (typeof type !== "string") {
                gotoEnd = clearQueue;
                clearQueue = type;
                type = undefined;
            }
            if (clearQueue && type !== false) {
                this.queue(type || "fx", []);
            }
            return this.each(function () {
                var dequeue = true, index = type != null && type + "queueHooks", timers = jQuery.timers, data = dataPriv.get(this);
                if (index) {
                    if (data[index] && data[index].stop) {
                        stopQueue(data[index]);
                    }
                }
                else {
                    for (index in data) {
                        if (data[index] && data[index].stop && rrun.test(index)) {
                            stopQueue(data[index]);
                        }
                    }
                }
                for (index = timers.length; index--;) {
                    if (timers[index].elem === this &&
                        (type == null || timers[index].queue === type)) {
                        timers[index].anim.stop(gotoEnd);
                        dequeue = false;
                        timers.splice(index, 1);
                    }
                }
                if (dequeue || !gotoEnd) {
                    jQuery.dequeue(this, type);
                }
            });
        },
        finish: function (type) {
            if (type !== false) {
                type = type || "fx";
            }
            return this.each(function () {
                var index, data = dataPriv.get(this), queue = data[type + "queue"], hooks = data[type + "queueHooks"], timers = jQuery.timers, length = queue ? queue.length : 0;
                data.finish = true;
                jQuery.queue(this, type, []);
                if (hooks && hooks.stop) {
                    hooks.stop.call(this, true);
                }
                for (index = timers.length; index--;) {
                    if (timers[index].elem === this && timers[index].queue === type) {
                        timers[index].anim.stop(true);
                        timers.splice(index, 1);
                    }
                }
                for (index = 0; index < length; index++) {
                    if (queue[index] && queue[index].finish) {
                        queue[index].finish.call(this);
                    }
                }
                delete data.finish;
            });
        }
    });
    jQuery.each(["toggle", "show", "hide"], function (i, name) {
        var cssFn = jQuery.fn[name];
        jQuery.fn[name] = function (speed, easing, callback) {
            return speed == null || typeof speed === "boolean" ?
                cssFn.apply(this, arguments) :
                this.animate(genFx(name, true), speed, easing, callback);
        };
    });
    jQuery.each({
        slideDown: genFx("show"),
        slideUp: genFx("hide"),
        slideToggle: genFx("toggle"),
        fadeIn: { opacity: "show" },
        fadeOut: { opacity: "hide" },
        fadeToggle: { opacity: "toggle" }
    }, function (name, props) {
        jQuery.fn[name] = function (speed, easing, callback) {
            return this.animate(props, speed, easing, callback);
        };
    });
    jQuery.timers = [];
    jQuery.fx.tick = function () {
        var timer, i = 0, timers = jQuery.timers;
        fxNow = jQuery.now();
        for (; i < timers.length; i++) {
            timer = timers[i];
            if (!timer() && timers[i] === timer) {
                timers.splice(i--, 1);
            }
        }
        if (!timers.length) {
            jQuery.fx.stop();
        }
        fxNow = undefined;
    };
    jQuery.fx.timer = function (timer) {
        jQuery.timers.push(timer);
        if (timer()) {
            jQuery.fx.start();
        }
        else {
            jQuery.timers.pop();
        }
    };
    jQuery.fx.interval = 13;
    jQuery.fx.start = function () {
        if (!timerId) {
            timerId = window.requestAnimationFrame ?
                window.requestAnimationFrame(raf) :
                window.setInterval(jQuery.fx.tick, jQuery.fx.interval);
        }
    };
    jQuery.fx.stop = function () {
        if (window.cancelAnimationFrame) {
            window.cancelAnimationFrame(timerId);
        }
        else {
            window.clearInterval(timerId);
        }
        timerId = null;
    };
    jQuery.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    };
    jQuery.fn.delay = function (time, type) {
        time = jQuery.fx ? jQuery.fx.speeds[time] || time : time;
        type = type || "fx";
        return this.queue(type, function (next, hooks) {
            var timeout = window.setTimeout(next, time);
            hooks.stop = function () {
                window.clearTimeout(timeout);
            };
        });
    };
    (function () {
        var input = document.createElement("input"), select = document.createElement("select"), opt = select.appendChild(document.createElement("option"));
        input.type = "checkbox";
        support.checkOn = input.value !== "";
        support.optSelected = opt.selected;
        input = document.createElement("input");
        input.value = "t";
        input.type = "radio";
        support.radioValue = input.value === "t";
    })();
    var boolHook, attrHandle = jQuery.expr.attrHandle;
    jQuery.fn.extend({
        attr: function (name, value) {
            return access(this, jQuery.attr, name, value, arguments.length > 1);
        },
        removeAttr: function (name) {
            return this.each(function () {
                jQuery.removeAttr(this, name);
            });
        }
    });
    jQuery.extend({
        attr: function (elem, name, value) {
            var ret, hooks, nType = elem.nodeType;
            if (nType === 3 || nType === 8 || nType === 2) {
                return;
            }
            if (typeof elem.getAttribute === "undefined") {
                return jQuery.prop(elem, name, value);
            }
            if (nType !== 1 || !jQuery.isXMLDoc(elem)) {
                hooks = jQuery.attrHooks[name.toLowerCase()] ||
                    (jQuery.expr.match.bool.test(name) ? boolHook : undefined);
            }
            if (value !== undefined) {
                if (value === null) {
                    jQuery.removeAttr(elem, name);
                    return;
                }
                if (hooks && "set" in hooks &&
                    (ret = hooks.set(elem, value, name)) !== undefined) {
                    return ret;
                }
                elem.setAttribute(name, value + "");
                return value;
            }
            if (hooks && "get" in hooks && (ret = hooks.get(elem, name)) !== null) {
                return ret;
            }
            ret = jQuery.find.attr(elem, name);
            return ret == null ? undefined : ret;
        },
        attrHooks: {
            type: {
                set: function (elem, value) {
                    if (!support.radioValue && value === "radio" &&
                        jQuery.nodeName(elem, "input")) {
                        var val = elem.value;
                        elem.setAttribute("type", value);
                        if (val) {
                            elem.value = val;
                        }
                        return value;
                    }
                }
            }
        },
        removeAttr: function (elem, value) {
            var name, i = 0, attrNames = value && value.match(rnothtmlwhite);
            if (attrNames && elem.nodeType === 1) {
                while ((name = attrNames[i++])) {
                    elem.removeAttribute(name);
                }
            }
        }
    });
    boolHook = {
        set: function (elem, value, name) {
            if (value === false) {
                jQuery.removeAttr(elem, name);
            }
            else {
                elem.setAttribute(name, name);
            }
            return name;
        }
    };
    jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g), function (i, name) {
        var getter = attrHandle[name] || jQuery.find.attr;
        attrHandle[name] = function (elem, name, isXML) {
            var ret, handle, lowercaseName = name.toLowerCase();
            if (!isXML) {
                handle = attrHandle[lowercaseName];
                attrHandle[lowercaseName] = ret;
                ret = getter(elem, name, isXML) != null ?
                    lowercaseName :
                    null;
                attrHandle[lowercaseName] = handle;
            }
            return ret;
        };
    });
    var rfocusable = /^(?:input|select|textarea|button)$/i, rclickable = /^(?:a|area)$/i;
    jQuery.fn.extend({
        prop: function (name, value) {
            return access(this, jQuery.prop, name, value, arguments.length > 1);
        },
        removeProp: function (name) {
            return this.each(function () {
                delete this[jQuery.propFix[name] || name];
            });
        }
    });
    jQuery.extend({
        prop: function (elem, name, value) {
            var ret, hooks, nType = elem.nodeType;
            if (nType === 3 || nType === 8 || nType === 2) {
                return;
            }
            if (nType !== 1 || !jQuery.isXMLDoc(elem)) {
                name = jQuery.propFix[name] || name;
                hooks = jQuery.propHooks[name];
            }
            if (value !== undefined) {
                if (hooks && "set" in hooks &&
                    (ret = hooks.set(elem, value, name)) !== undefined) {
                    return ret;
                }
                return (elem[name] = value);
            }
            if (hooks && "get" in hooks && (ret = hooks.get(elem, name)) !== null) {
                return ret;
            }
            return elem[name];
        },
        propHooks: {
            tabIndex: {
                get: function (elem) {
                    var tabindex = jQuery.find.attr(elem, "tabindex");
                    if (tabindex) {
                        return parseInt(tabindex, 10);
                    }
                    if (rfocusable.test(elem.nodeName) ||
                        rclickable.test(elem.nodeName) &&
                            elem.href) {
                        return 0;
                    }
                    return -1;
                }
            }
        },
        propFix: {
            "for": "htmlFor",
            "class": "className"
        }
    });
    if (!support.optSelected) {
        jQuery.propHooks.selected = {
            get: function (elem) {
                var parent = elem.parentNode;
                if (parent && parent.parentNode) {
                    parent.parentNode.selectedIndex;
                }
                return null;
            },
            set: function (elem) {
                var parent = elem.parentNode;
                if (parent) {
                    parent.selectedIndex;
                    if (parent.parentNode) {
                        parent.parentNode.selectedIndex;
                    }
                }
            }
        };
    }
    jQuery.each([
        "tabIndex",
        "readOnly",
        "maxLength",
        "cellSpacing",
        "cellPadding",
        "rowSpan",
        "colSpan",
        "useMap",
        "frameBorder",
        "contentEditable"
    ], function () {
        jQuery.propFix[this.toLowerCase()] = this;
    });
    function stripAndCollapse(value) {
        var tokens = value.match(rnothtmlwhite) || [];
        return tokens.join(" ");
    }
    function getClass(elem) {
        return elem.getAttribute && elem.getAttribute("class") || "";
    }
    jQuery.fn.extend({
        addClass: function (value) {
            var classes, elem, cur, curValue, clazz, j, finalValue, i = 0;
            if (jQuery.isFunction(value)) {
                return this.each(function (j) {
                    jQuery(this).addClass(value.call(this, j, getClass(this)));
                });
            }
            if (typeof value === "string" && value) {
                classes = value.match(rnothtmlwhite) || [];
                while ((elem = this[i++])) {
                    curValue = getClass(elem);
                    cur = elem.nodeType === 1 && (" " + stripAndCollapse(curValue) + " ");
                    if (cur) {
                        j = 0;
                        while ((clazz = classes[j++])) {
                            if (cur.indexOf(" " + clazz + " ") < 0) {
                                cur += clazz + " ";
                            }
                        }
                        finalValue = stripAndCollapse(cur);
                        if (curValue !== finalValue) {
                            elem.setAttribute("class", finalValue);
                        }
                    }
                }
            }
            return this;
        },
        removeClass: function (value) {
            var classes, elem, cur, curValue, clazz, j, finalValue, i = 0;
            if (jQuery.isFunction(value)) {
                return this.each(function (j) {
                    jQuery(this).removeClass(value.call(this, j, getClass(this)));
                });
            }
            if (!arguments.length) {
                return this.attr("class", "");
            }
            if (typeof value === "string" && value) {
                classes = value.match(rnothtmlwhite) || [];
                while ((elem = this[i++])) {
                    curValue = getClass(elem);
                    cur = elem.nodeType === 1 && (" " + stripAndCollapse(curValue) + " ");
                    if (cur) {
                        j = 0;
                        while ((clazz = classes[j++])) {
                            while (cur.indexOf(" " + clazz + " ") > -1) {
                                cur = cur.replace(" " + clazz + " ", " ");
                            }
                        }
                        finalValue = stripAndCollapse(cur);
                        if (curValue !== finalValue) {
                            elem.setAttribute("class", finalValue);
                        }
                    }
                }
            }
            return this;
        },
        toggleClass: function (value, stateVal) {
            var type = typeof value;
            if (typeof stateVal === "boolean" && type === "string") {
                return stateVal ? this.addClass(value) : this.removeClass(value);
            }
            if (jQuery.isFunction(value)) {
                return this.each(function (i) {
                    jQuery(this).toggleClass(value.call(this, i, getClass(this), stateVal), stateVal);
                });
            }
            return this.each(function () {
                var className, i, self, classNames;
                if (type === "string") {
                    i = 0;
                    self = jQuery(this);
                    classNames = value.match(rnothtmlwhite) || [];
                    while ((className = classNames[i++])) {
                        if (self.hasClass(className)) {
                            self.removeClass(className);
                        }
                        else {
                            self.addClass(className);
                        }
                    }
                }
                else if (value === undefined || type === "boolean") {
                    className = getClass(this);
                    if (className) {
                        dataPriv.set(this, "__className__", className);
                    }
                    if (this.setAttribute) {
                        this.setAttribute("class", className || value === false ?
                            "" :
                            dataPriv.get(this, "__className__") || "");
                    }
                }
            });
        },
        hasClass: function (selector) {
            var className, elem, i = 0;
            className = " " + selector + " ";
            while ((elem = this[i++])) {
                if (elem.nodeType === 1 &&
                    (" " + stripAndCollapse(getClass(elem)) + " ").indexOf(className) > -1) {
                    return true;
                }
            }
            return false;
        }
    });
    var rreturn = /\r/g;
    jQuery.fn.extend({
        val: function (value) {
            var hooks, ret, isFunction, elem = this[0];
            if (!arguments.length) {
                if (elem) {
                    hooks = jQuery.valHooks[elem.type] ||
                        jQuery.valHooks[elem.nodeName.toLowerCase()];
                    if (hooks &&
                        "get" in hooks &&
                        (ret = hooks.get(elem, "value")) !== undefined) {
                        return ret;
                    }
                    ret = elem.value;
                    if (typeof ret === "string") {
                        return ret.replace(rreturn, "");
                    }
                    return ret == null ? "" : ret;
                }
                return;
            }
            isFunction = jQuery.isFunction(value);
            return this.each(function (i) {
                var val;
                if (this.nodeType !== 1) {
                    return;
                }
                if (isFunction) {
                    val = value.call(this, i, jQuery(this).val());
                }
                else {
                    val = value;
                }
                if (val == null) {
                    val = "";
                }
                else if (typeof val === "number") {
                    val += "";
                }
                else if (jQuery.isArray(val)) {
                    val = jQuery.map(val, function (value) {
                        return value == null ? "" : value + "";
                    });
                }
                hooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()];
                if (!hooks || !("set" in hooks) || hooks.set(this, val, "value") === undefined) {
                    this.value = val;
                }
            });
        }
    });
    jQuery.extend({
        valHooks: {
            option: {
                get: function (elem) {
                    var val = jQuery.find.attr(elem, "value");
                    return val != null ?
                        val :
                        stripAndCollapse(jQuery.text(elem));
                }
            },
            select: {
                get: function (elem) {
                    var value, option, i, options = elem.options, index = elem.selectedIndex, one = elem.type === "select-one", values = one ? null : [], max = one ? index + 1 : options.length;
                    if (index < 0) {
                        i = max;
                    }
                    else {
                        i = one ? index : 0;
                    }
                    for (; i < max; i++) {
                        option = options[i];
                        if ((option.selected || i === index) &&
                            !option.disabled &&
                            (!option.parentNode.disabled ||
                                !jQuery.nodeName(option.parentNode, "optgroup"))) {
                            value = jQuery(option).val();
                            if (one) {
                                return value;
                            }
                            values.push(value);
                        }
                    }
                    return values;
                },
                set: function (elem, value) {
                    var optionSet, option, options = elem.options, values = jQuery.makeArray(value), i = options.length;
                    while (i--) {
                        option = options[i];
                        if (option.selected =
                            jQuery.inArray(jQuery.valHooks.option.get(option), values) > -1) {
                            optionSet = true;
                        }
                    }
                    if (!optionSet) {
                        elem.selectedIndex = -1;
                    }
                    return values;
                }
            }
        }
    });
    jQuery.each(["radio", "checkbox"], function () {
        jQuery.valHooks[this] = {
            set: function (elem, value) {
                if (jQuery.isArray(value)) {
                    return (elem.checked = jQuery.inArray(jQuery(elem).val(), value) > -1);
                }
            }
        };
        if (!support.checkOn) {
            jQuery.valHooks[this].get = function (elem) {
                return elem.getAttribute("value") === null ? "on" : elem.value;
            };
        }
    });
    var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/;
    jQuery.extend(jQuery.event, {
        trigger: function (event, data, elem, onlyHandlers) {
            var i, cur, tmp, bubbleType, ontype, handle, special, eventPath = [elem || document], type = hasOwn.call(event, "type") ? event.type : event, namespaces = hasOwn.call(event, "namespace") ? event.namespace.split(".") : [];
            cur = tmp = elem = elem || document;
            if (elem.nodeType === 3 || elem.nodeType === 8) {
                return;
            }
            if (rfocusMorph.test(type + jQuery.event.triggered)) {
                return;
            }
            if (type.indexOf(".") > -1) {
                namespaces = type.split(".");
                type = namespaces.shift();
                namespaces.sort();
            }
            ontype = type.indexOf(":") < 0 && "on" + type;
            event = event[jQuery.expando] ?
                event :
                new jQuery.Event(type, typeof event === "object" && event);
            event.isTrigger = onlyHandlers ? 2 : 3;
            event.namespace = namespaces.join(".");
            event.rnamespace = event.namespace ?
                new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)") :
                null;
            event.result = undefined;
            if (!event.target) {
                event.target = elem;
            }
            data = data == null ?
                [event] :
                jQuery.makeArray(data, [event]);
            special = jQuery.event.special[type] || {};
            if (!onlyHandlers && special.trigger && special.trigger.apply(elem, data) === false) {
                return;
            }
            if (!onlyHandlers && !special.noBubble && !jQuery.isWindow(elem)) {
                bubbleType = special.delegateType || type;
                if (!rfocusMorph.test(bubbleType + type)) {
                    cur = cur.parentNode;
                }
                for (; cur; cur = cur.parentNode) {
                    eventPath.push(cur);
                    tmp = cur;
                }
                if (tmp === (elem.ownerDocument || document)) {
                    eventPath.push(tmp.defaultView || tmp.parentWindow || window);
                }
            }
            i = 0;
            while ((cur = eventPath[i++]) && !event.isPropagationStopped()) {
                event.type = i > 1 ?
                    bubbleType :
                    special.bindType || type;
                handle = (dataPriv.get(cur, "events") || {})[event.type] &&
                    dataPriv.get(cur, "handle");
                if (handle) {
                    handle.apply(cur, data);
                }
                handle = ontype && cur[ontype];
                if (handle && handle.apply && acceptData(cur)) {
                    event.result = handle.apply(cur, data);
                    if (event.result === false) {
                        event.preventDefault();
                    }
                }
            }
            event.type = type;
            if (!onlyHandlers && !event.isDefaultPrevented()) {
                if ((!special._default ||
                    special._default.apply(eventPath.pop(), data) === false) &&
                    acceptData(elem)) {
                    if (ontype && jQuery.isFunction(elem[type]) && !jQuery.isWindow(elem)) {
                        tmp = elem[ontype];
                        if (tmp) {
                            elem[ontype] = null;
                        }
                        jQuery.event.triggered = type;
                        elem[type]();
                        jQuery.event.triggered = undefined;
                        if (tmp) {
                            elem[ontype] = tmp;
                        }
                    }
                }
            }
            return event.result;
        },
        simulate: function (type, elem, event) {
            var e = jQuery.extend(new jQuery.Event(), event, {
                type: type,
                isSimulated: true
            });
            jQuery.event.trigger(e, null, elem);
        }
    });
    jQuery.fn.extend({
        trigger: function (type, data) {
            return this.each(function () {
                jQuery.event.trigger(type, data, this);
            });
        },
        triggerHandler: function (type, data) {
            var elem = this[0];
            if (elem) {
                return jQuery.event.trigger(type, data, elem, true);
            }
        }
    });
    jQuery.each(("blur focus focusin focusout resize scroll click dblclick " +
        "mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
        "change select submit keydown keypress keyup contextmenu").split(" "), function (i, name) {
        jQuery.fn[name] = function (data, fn) {
            return arguments.length > 0 ?
                this.on(name, null, data, fn) :
                this.trigger(name);
        };
    });
    jQuery.fn.extend({
        hover: function (fnOver, fnOut) {
            return this.mouseenter(fnOver).mouseleave(fnOut || fnOver);
        }
    });
    support.focusin = "onfocusin" in window;
    if (!support.focusin) {
        jQuery.each({ focus: "focusin", blur: "focusout" }, function (orig, fix) {
            var handler = function (event) {
                jQuery.event.simulate(fix, event.target, jQuery.event.fix(event));
            };
            jQuery.event.special[fix] = {
                setup: function () {
                    var doc = this.ownerDocument || this, attaches = dataPriv.access(doc, fix);
                    if (!attaches) {
                        doc.addEventListener(orig, handler, true);
                    }
                    dataPriv.access(doc, fix, (attaches || 0) + 1);
                },
                teardown: function () {
                    var doc = this.ownerDocument || this, attaches = dataPriv.access(doc, fix) - 1;
                    if (!attaches) {
                        doc.removeEventListener(orig, handler, true);
                        dataPriv.remove(doc, fix);
                    }
                    else {
                        dataPriv.access(doc, fix, attaches);
                    }
                }
            };
        });
    }
    var location = window.location;
    var nonce = jQuery.now();
    var rquery = (/\?/);
    jQuery.parseXML = function (data) {
        var xml;
        if (!data || typeof data !== "string") {
            return null;
        }
        try {
            xml = (new window.DOMParser()).parseFromString(data, "text/xml");
        }
        catch (e) {
            xml = undefined;
        }
        if (!xml || xml.getElementsByTagName("parsererror").length) {
            jQuery.error("Invalid XML: " + data);
        }
        return xml;
    };
    var rbracket = /\[\]$/, rCRLF = /\r?\n/g, rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i, rsubmittable = /^(?:input|select|textarea|keygen)/i;
    function buildParams(prefix, obj, traditional, add) {
        var name;
        if (jQuery.isArray(obj)) {
            jQuery.each(obj, function (i, v) {
                if (traditional || rbracket.test(prefix)) {
                    add(prefix, v);
                }
                else {
                    buildParams(prefix + "[" + (typeof v === "object" && v != null ? i : "") + "]", v, traditional, add);
                }
            });
        }
        else if (!traditional && jQuery.type(obj) === "object") {
            for (name in obj) {
                buildParams(prefix + "[" + name + "]", obj[name], traditional, add);
            }
        }
        else {
            add(prefix, obj);
        }
    }
    jQuery.param = function (a, traditional) {
        var prefix, s = [], add = function (key, valueOrFunction) {
            var value = jQuery.isFunction(valueOrFunction) ?
                valueOrFunction() :
                valueOrFunction;
            s[s.length] = encodeURIComponent(key) + "=" +
                encodeURIComponent(value == null ? "" : value);
        };
        if (jQuery.isArray(a) || (a.jquery && !jQuery.isPlainObject(a))) {
            jQuery.each(a, function () {
                add(this.name, this.value);
            });
        }
        else {
            for (prefix in a) {
                buildParams(prefix, a[prefix], traditional, add);
            }
        }
        return s.join("&");
    };
    jQuery.fn.extend({
        serialize: function () {
            return jQuery.param(this.serializeArray());
        },
        serializeArray: function () {
            return this.map(function () {
                var elements = jQuery.prop(this, "elements");
                return elements ? jQuery.makeArray(elements) : this;
            })
                .filter(function () {
                var type = this.type;
                return this.name && !jQuery(this).is(":disabled") &&
                    rsubmittable.test(this.nodeName) && !rsubmitterTypes.test(type) &&
                    (this.checked || !rcheckableType.test(type));
            })
                .map(function (i, elem) {
                var val = jQuery(this).val();
                if (val == null) {
                    return null;
                }
                if (jQuery.isArray(val)) {
                    return jQuery.map(val, function (val) {
                        return { name: elem.name, value: val.replace(rCRLF, "\r\n") };
                    });
                }
                return { name: elem.name, value: val.replace(rCRLF, "\r\n") };
            }).get();
        }
    });
    var r20 = /%20/g, rhash = /#.*$/, rantiCache = /([?&])_=[^&]*/, rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg, rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, rnoContent = /^(?:GET|HEAD)$/, rprotocol = /^\/\//, prefilters = {}, transports = {}, allTypes = "*/".concat("*"), originAnchor = document.createElement("a");
    originAnchor.href = location.href;
    function addToPrefiltersOrTransports(structure) {
        return function (dataTypeExpression, func) {
            if (typeof dataTypeExpression !== "string") {
                func = dataTypeExpression;
                dataTypeExpression = "*";
            }
            var dataType, i = 0, dataTypes = dataTypeExpression.toLowerCase().match(rnothtmlwhite) || [];
            if (jQuery.isFunction(func)) {
                while ((dataType = dataTypes[i++])) {
                    if (dataType[0] === "+") {
                        dataType = dataType.slice(1) || "*";
                        (structure[dataType] = structure[dataType] || []).unshift(func);
                    }
                    else {
                        (structure[dataType] = structure[dataType] || []).push(func);
                    }
                }
            }
        };
    }
    function inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR) {
        var inspected = {}, seekingTransport = (structure === transports);
        function inspect(dataType) {
            var selected;
            inspected[dataType] = true;
            jQuery.each(structure[dataType] || [], function (_, prefilterOrFactory) {
                var dataTypeOrTransport = prefilterOrFactory(options, originalOptions, jqXHR);
                if (typeof dataTypeOrTransport === "string" &&
                    !seekingTransport && !inspected[dataTypeOrTransport]) {
                    options.dataTypes.unshift(dataTypeOrTransport);
                    inspect(dataTypeOrTransport);
                    return false;
                }
                else if (seekingTransport) {
                    return !(selected = dataTypeOrTransport);
                }
            });
            return selected;
        }
        return inspect(options.dataTypes[0]) || !inspected["*"] && inspect("*");
    }
    function ajaxExtend(target, src) {
        var key, deep, flatOptions = jQuery.ajaxSettings.flatOptions || {};
        for (key in src) {
            if (src[key] !== undefined) {
                (flatOptions[key] ? target : (deep || (deep = {})))[key] = src[key];
            }
        }
        if (deep) {
            jQuery.extend(true, target, deep);
        }
        return target;
    }
    function ajaxHandleResponses(s, jqXHR, responses) {
        var ct, type, finalDataType, firstDataType, contents = s.contents, dataTypes = s.dataTypes;
        while (dataTypes[0] === "*") {
            dataTypes.shift();
            if (ct === undefined) {
                ct = s.mimeType || jqXHR.getResponseHeader("Content-Type");
            }
        }
        if (ct) {
            for (type in contents) {
                if (contents[type] && contents[type].test(ct)) {
                    dataTypes.unshift(type);
                    break;
                }
            }
        }
        if (dataTypes[0] in responses) {
            finalDataType = dataTypes[0];
        }
        else {
            for (type in responses) {
                if (!dataTypes[0] || s.converters[type + " " + dataTypes[0]]) {
                    finalDataType = type;
                    break;
                }
                if (!firstDataType) {
                    firstDataType = type;
                }
            }
            finalDataType = finalDataType || firstDataType;
        }
        if (finalDataType) {
            if (finalDataType !== dataTypes[0]) {
                dataTypes.unshift(finalDataType);
            }
            return responses[finalDataType];
        }
    }
    function ajaxConvert(s, response, jqXHR, isSuccess) {
        var conv2, current, conv, tmp, prev, converters = {}, dataTypes = s.dataTypes.slice();
        if (dataTypes[1]) {
            for (conv in s.converters) {
                converters[conv.toLowerCase()] = s.converters[conv];
            }
        }
        current = dataTypes.shift();
        while (current) {
            if (s.responseFields[current]) {
                jqXHR[s.responseFields[current]] = response;
            }
            if (!prev && isSuccess && s.dataFilter) {
                response = s.dataFilter(response, s.dataType);
            }
            prev = current;
            current = dataTypes.shift();
            if (current) {
                if (current === "*") {
                    current = prev;
                }
                else if (prev !== "*" && prev !== current) {
                    conv = converters[prev + " " + current] || converters["* " + current];
                    if (!conv) {
                        for (conv2 in converters) {
                            tmp = conv2.split(" ");
                            if (tmp[1] === current) {
                                conv = converters[prev + " " + tmp[0]] ||
                                    converters["* " + tmp[0]];
                                if (conv) {
                                    if (conv === true) {
                                        conv = converters[conv2];
                                    }
                                    else if (converters[conv2] !== true) {
                                        current = tmp[0];
                                        dataTypes.unshift(tmp[1]);
                                    }
                                    break;
                                }
                            }
                        }
                    }
                    if (conv !== true) {
                        if (conv && s.throws) {
                            response = conv(response);
                        }
                        else {
                            try {
                                response = conv(response);
                            }
                            catch (e) {
                                return {
                                    state: "parsererror",
                                    error: conv ? e : "No conversion from " + prev + " to " + current
                                };
                            }
                        }
                    }
                }
            }
        }
        return { state: "success", data: response };
    }
    jQuery.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: location.href,
            type: "GET",
            isLocal: rlocalProtocol.test(location.protocol),
            global: true,
            processData: true,
            async: true,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": allTypes,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /\bxml\b/,
                html: /\bhtml/,
                json: /\bjson\b/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": true,
                "text json": JSON.parse,
                "text xml": jQuery.parseXML
            },
            flatOptions: {
                url: true,
                context: true
            }
        },
        ajaxSetup: function (target, settings) {
            return settings ?
                ajaxExtend(ajaxExtend(target, jQuery.ajaxSettings), settings) :
                ajaxExtend(jQuery.ajaxSettings, target);
        },
        ajaxPrefilter: addToPrefiltersOrTransports(prefilters),
        ajaxTransport: addToPrefiltersOrTransports(transports),
        ajax: function (url, options) {
            if (typeof url === "object") {
                options = url;
                url = undefined;
            }
            options = options || {};
            var transport, cacheURL, responseHeadersString, responseHeaders, timeoutTimer, urlAnchor, completed, fireGlobals, i, uncached, s = jQuery.ajaxSetup({}, options), callbackContext = s.context || s, globalEventContext = s.context &&
                (callbackContext.nodeType || callbackContext.jquery) ?
                jQuery(callbackContext) :
                jQuery.event, deferred = jQuery.Deferred(), completeDeferred = jQuery.Callbacks("once memory"), statusCode = s.statusCode || {}, requestHeaders = {}, requestHeadersNames = {}, strAbort = "canceled", jqXHR = {
                readyState: 0,
                getResponseHeader: function (key) {
                    var match;
                    if (completed) {
                        if (!responseHeaders) {
                            responseHeaders = {};
                            while ((match = rheaders.exec(responseHeadersString))) {
                                responseHeaders[match[1].toLowerCase()] = match[2];
                            }
                        }
                        match = responseHeaders[key.toLowerCase()];
                    }
                    return match == null ? null : match;
                },
                getAllResponseHeaders: function () {
                    return completed ? responseHeadersString : null;
                },
                setRequestHeader: function (name, value) {
                    if (completed == null) {
                        name = requestHeadersNames[name.toLowerCase()] =
                            requestHeadersNames[name.toLowerCase()] || name;
                        requestHeaders[name] = value;
                    }
                    return this;
                },
                overrideMimeType: function (type) {
                    if (completed == null) {
                        s.mimeType = type;
                    }
                    return this;
                },
                statusCode: function (map) {
                    var code;
                    if (map) {
                        if (completed) {
                            jqXHR.always(map[jqXHR.status]);
                        }
                        else {
                            for (code in map) {
                                statusCode[code] = [statusCode[code], map[code]];
                            }
                        }
                    }
                    return this;
                },
                abort: function (statusText) {
                    var finalText = statusText || strAbort;
                    if (transport) {
                        transport.abort(finalText);
                    }
                    done(0, finalText);
                    return this;
                }
            };
            deferred.promise(jqXHR);
            s.url = ((url || s.url || location.href) + "")
                .replace(rprotocol, location.protocol + "//");
            s.type = options.method || options.type || s.method || s.type;
            s.dataTypes = (s.dataType || "*").toLowerCase().match(rnothtmlwhite) || [""];
            if (s.crossDomain == null) {
                urlAnchor = document.createElement("a");
                try {
                    urlAnchor.href = s.url;
                    urlAnchor.href = urlAnchor.href;
                    s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !==
                        urlAnchor.protocol + "//" + urlAnchor.host;
                }
                catch (e) {
                    s.crossDomain = true;
                }
            }
            if (s.data && s.processData && typeof s.data !== "string") {
                s.data = jQuery.param(s.data, s.traditional);
            }
            inspectPrefiltersOrTransports(prefilters, s, options, jqXHR);
            if (completed) {
                return jqXHR;
            }
            fireGlobals = jQuery.event && s.global;
            if (fireGlobals && jQuery.active++ === 0) {
                jQuery.event.trigger("ajaxStart");
            }
            s.type = s.type.toUpperCase();
            s.hasContent = !rnoContent.test(s.type);
            cacheURL = s.url.replace(rhash, "");
            if (!s.hasContent) {
                uncached = s.url.slice(cacheURL.length);
                if (s.data) {
                    cacheURL += (rquery.test(cacheURL) ? "&" : "?") + s.data;
                    delete s.data;
                }
                if (s.cache === false) {
                    cacheURL = cacheURL.replace(rantiCache, "$1");
                    uncached = (rquery.test(cacheURL) ? "&" : "?") + "_=" + (nonce++) + uncached;
                }
                s.url = cacheURL + uncached;
            }
            else if (s.data && s.processData &&
                (s.contentType || "").indexOf("application/x-www-form-urlencoded") === 0) {
                s.data = s.data.replace(r20, "+");
            }
            if (s.ifModified) {
                if (jQuery.lastModified[cacheURL]) {
                    jqXHR.setRequestHeader("If-Modified-Since", jQuery.lastModified[cacheURL]);
                }
                if (jQuery.etag[cacheURL]) {
                    jqXHR.setRequestHeader("If-None-Match", jQuery.etag[cacheURL]);
                }
            }
            if (s.data && s.hasContent && s.contentType !== false || options.contentType) {
                jqXHR.setRequestHeader("Content-Type", s.contentType);
            }
            jqXHR.setRequestHeader("Accept", s.dataTypes[0] && s.accepts[s.dataTypes[0]] ?
                s.accepts[s.dataTypes[0]] +
                    (s.dataTypes[0] !== "*" ? ", " + allTypes + "; q=0.01" : "") :
                s.accepts["*"]);
            for (i in s.headers) {
                jqXHR.setRequestHeader(i, s.headers[i]);
            }
            if (s.beforeSend &&
                (s.beforeSend.call(callbackContext, jqXHR, s) === false || completed)) {
                return jqXHR.abort();
            }
            strAbort = "abort";
            completeDeferred.add(s.complete);
            jqXHR.done(s.success);
            jqXHR.fail(s.error);
            transport = inspectPrefiltersOrTransports(transports, s, options, jqXHR);
            if (!transport) {
                done(-1, "No Transport");
            }
            else {
                jqXHR.readyState = 1;
                if (fireGlobals) {
                    globalEventContext.trigger("ajaxSend", [jqXHR, s]);
                }
                if (completed) {
                    return jqXHR;
                }
                if (s.async && s.timeout > 0) {
                    timeoutTimer = window.setTimeout(function () {
                        jqXHR.abort("timeout");
                    }, s.timeout);
                }
                try {
                    completed = false;
                    transport.send(requestHeaders, done);
                }
                catch (e) {
                    if (completed) {
                        throw e;
                    }
                    done(-1, e);
                }
            }
            function done(status, nativeStatusText, responses, headers) {
                var isSuccess, success, error, response, modified, statusText = nativeStatusText;
                if (completed) {
                    return;
                }
                completed = true;
                if (timeoutTimer) {
                    window.clearTimeout(timeoutTimer);
                }
                transport = undefined;
                responseHeadersString = headers || "";
                jqXHR.readyState = status > 0 ? 4 : 0;
                isSuccess = status >= 200 && status < 300 || status === 304;
                if (responses) {
                    response = ajaxHandleResponses(s, jqXHR, responses);
                }
                response = ajaxConvert(s, response, jqXHR, isSuccess);
                if (isSuccess) {
                    if (s.ifModified) {
                        modified = jqXHR.getResponseHeader("Last-Modified");
                        if (modified) {
                            jQuery.lastModified[cacheURL] = modified;
                        }
                        modified = jqXHR.getResponseHeader("etag");
                        if (modified) {
                            jQuery.etag[cacheURL] = modified;
                        }
                    }
                    if (status === 204 || s.type === "HEAD") {
                        statusText = "nocontent";
                    }
                    else if (status === 304) {
                        statusText = "notmodified";
                    }
                    else {
                        statusText = response.state;
                        success = response.data;
                        error = response.error;
                        isSuccess = !error;
                    }
                }
                else {
                    error = statusText;
                    if (status || !statusText) {
                        statusText = "error";
                        if (status < 0) {
                            status = 0;
                        }
                    }
                }
                jqXHR.status = status;
                jqXHR.statusText = (nativeStatusText || statusText) + "";
                if (isSuccess) {
                    deferred.resolveWith(callbackContext, [success, statusText, jqXHR]);
                }
                else {
                    deferred.rejectWith(callbackContext, [jqXHR, statusText, error]);
                }
                jqXHR.statusCode(statusCode);
                statusCode = undefined;
                if (fireGlobals) {
                    globalEventContext.trigger(isSuccess ? "ajaxSuccess" : "ajaxError", [jqXHR, s, isSuccess ? success : error]);
                }
                completeDeferred.fireWith(callbackContext, [jqXHR, statusText]);
                if (fireGlobals) {
                    globalEventContext.trigger("ajaxComplete", [jqXHR, s]);
                    if (!(--jQuery.active)) {
                        jQuery.event.trigger("ajaxStop");
                    }
                }
            }
            return jqXHR;
        },
        getJSON: function (url, data, callback) {
            return jQuery.get(url, data, callback, "json");
        },
        getScript: function (url, callback) {
            return jQuery.get(url, undefined, callback, "script");
        }
    });
    jQuery.each(["get", "post"], function (i, method) {
        jQuery[method] = function (url, data, callback, type) {
            if (jQuery.isFunction(data)) {
                type = type || callback;
                callback = data;
                data = undefined;
            }
            return jQuery.ajax(jQuery.extend({
                url: url,
                type: method,
                dataType: type,
                data: data,
                success: callback
            }, jQuery.isPlainObject(url) && url));
        };
    });
    jQuery._evalUrl = function (url) {
        return jQuery.ajax({
            url: url,
            type: "GET",
            dataType: "script",
            cache: true,
            async: false,
            global: false,
            "throws": true
        });
    };
    jQuery.fn.extend({
        wrapAll: function (html) {
            var wrap;
            if (this[0]) {
                if (jQuery.isFunction(html)) {
                    html = html.call(this[0]);
                }
                wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(true);
                if (this[0].parentNode) {
                    wrap.insertBefore(this[0]);
                }
                wrap.map(function () {
                    var elem = this;
                    while (elem.firstElementChild) {
                        elem = elem.firstElementChild;
                    }
                    return elem;
                }).append(this);
            }
            return this;
        },
        wrapInner: function (html) {
            if (jQuery.isFunction(html)) {
                return this.each(function (i) {
                    jQuery(this).wrapInner(html.call(this, i));
                });
            }
            return this.each(function () {
                var self = jQuery(this), contents = self.contents();
                if (contents.length) {
                    contents.wrapAll(html);
                }
                else {
                    self.append(html);
                }
            });
        },
        wrap: function (html) {
            var isFunction = jQuery.isFunction(html);
            return this.each(function (i) {
                jQuery(this).wrapAll(isFunction ? html.call(this, i) : html);
            });
        },
        unwrap: function (selector) {
            this.parent(selector).not("body").each(function () {
                jQuery(this).replaceWith(this.childNodes);
            });
            return this;
        }
    });
    jQuery.expr.pseudos.hidden = function (elem) {
        return !jQuery.expr.pseudos.visible(elem);
    };
    jQuery.expr.pseudos.visible = function (elem) {
        return !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);
    };
    jQuery.ajaxSettings.xhr = function () {
        try {
            return new window.XMLHttpRequest();
        }
        catch (e) { }
    };
    var xhrSuccessStatus = {
        0: 200,
        1223: 204
    }, xhrSupported = jQuery.ajaxSettings.xhr();
    support.cors = !!xhrSupported && ("withCredentials" in xhrSupported);
    support.ajax = xhrSupported = !!xhrSupported;
    jQuery.ajaxTransport(function (options) {
        var callback, errorCallback;
        if (support.cors || xhrSupported && !options.crossDomain) {
            return {
                send: function (headers, complete) {
                    var i, xhr = options.xhr();
                    xhr.open(options.type, options.url, options.async, options.username, options.password);
                    if (options.xhrFields) {
                        for (i in options.xhrFields) {
                            xhr[i] = options.xhrFields[i];
                        }
                    }
                    if (options.mimeType && xhr.overrideMimeType) {
                        xhr.overrideMimeType(options.mimeType);
                    }
                    if (!options.crossDomain && !headers["X-Requested-With"]) {
                        headers["X-Requested-With"] = "XMLHttpRequest";
                    }
                    for (i in headers) {
                        xhr.setRequestHeader(i, headers[i]);
                    }
                    callback = function (type) {
                        return function () {
                            if (callback) {
                                callback = errorCallback = xhr.onload =
                                    xhr.onerror = xhr.onabort = xhr.onreadystatechange = null;
                                if (type === "abort") {
                                    xhr.abort();
                                }
                                else if (type === "error") {
                                    if (typeof xhr.status !== "number") {
                                        complete(0, "error");
                                    }
                                    else {
                                        complete(xhr.status, xhr.statusText);
                                    }
                                }
                                else {
                                    complete(xhrSuccessStatus[xhr.status] || xhr.status, xhr.statusText, (xhr.responseType || "text") !== "text" ||
                                        typeof xhr.responseText !== "string" ?
                                        { binary: xhr.response } :
                                        { text: xhr.responseText }, xhr.getAllResponseHeaders());
                                }
                            }
                        };
                    };
                    xhr.onload = callback();
                    errorCallback = xhr.onerror = callback("error");
                    if (xhr.onabort !== undefined) {
                        xhr.onabort = errorCallback;
                    }
                    else {
                        xhr.onreadystatechange = function () {
                            if (xhr.readyState === 4) {
                                window.setTimeout(function () {
                                    if (callback) {
                                        errorCallback();
                                    }
                                });
                            }
                        };
                    }
                    callback = callback("abort");
                    try {
                        xhr.send(options.hasContent && options.data || null);
                    }
                    catch (e) {
                        if (callback) {
                            throw e;
                        }
                    }
                },
                abort: function () {
                    if (callback) {
                        callback();
                    }
                }
            };
        }
    });
    jQuery.ajaxPrefilter(function (s) {
        if (s.crossDomain) {
            s.contents.script = false;
        }
    });
    jQuery.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, " +
                "application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /\b(?:java|ecma)script\b/
        },
        converters: {
            "text script": function (text) {
                jQuery.globalEval(text);
                return text;
            }
        }
    });
    jQuery.ajaxPrefilter("script", function (s) {
        if (s.cache === undefined) {
            s.cache = false;
        }
        if (s.crossDomain) {
            s.type = "GET";
        }
    });
    jQuery.ajaxTransport("script", function (s) {
        if (s.crossDomain) {
            var script, callback;
            return {
                send: function (_, complete) {
                    script = jQuery("<script>").prop({
                        charset: s.scriptCharset,
                        src: s.url
                    }).on("load error", callback = function (evt) {
                        script.remove();
                        callback = null;
                        if (evt) {
                            complete(evt.type === "error" ? 404 : 200, evt.type);
                        }
                    });
                    document.head.appendChild(script[0]);
                },
                abort: function () {
                    if (callback) {
                        callback();
                    }
                }
            };
        }
    });
    var oldCallbacks = [], rjsonp = /(=)\?(?=&|$)|\?\?/;
    jQuery.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function () {
            var callback = oldCallbacks.pop() || (jQuery.expando + "_" + (nonce++));
            this[callback] = true;
            return callback;
        }
    });
    jQuery.ajaxPrefilter("json jsonp", function (s, originalSettings, jqXHR) {
        var callbackName, overwritten, responseContainer, jsonProp = s.jsonp !== false && (rjsonp.test(s.url) ?
            "url" :
            typeof s.data === "string" &&
                (s.contentType || "")
                    .indexOf("application/x-www-form-urlencoded") === 0 &&
                rjsonp.test(s.data) && "data");
        if (jsonProp || s.dataTypes[0] === "jsonp") {
            callbackName = s.jsonpCallback = jQuery.isFunction(s.jsonpCallback) ?
                s.jsonpCallback() :
                s.jsonpCallback;
            if (jsonProp) {
                s[jsonProp] = s[jsonProp].replace(rjsonp, "$1" + callbackName);
            }
            else if (s.jsonp !== false) {
                s.url += (rquery.test(s.url) ? "&" : "?") + s.jsonp + "=" + callbackName;
            }
            s.converters["script json"] = function () {
                if (!responseContainer) {
                    jQuery.error(callbackName + " was not called");
                }
                return responseContainer[0];
            };
            s.dataTypes[0] = "json";
            overwritten = window[callbackName];
            window[callbackName] = function () {
                responseContainer = arguments;
            };
            jqXHR.always(function () {
                if (overwritten === undefined) {
                    jQuery(window).removeProp(callbackName);
                }
                else {
                    window[callbackName] = overwritten;
                }
                if (s[callbackName]) {
                    s.jsonpCallback = originalSettings.jsonpCallback;
                    oldCallbacks.push(callbackName);
                }
                if (responseContainer && jQuery.isFunction(overwritten)) {
                    overwritten(responseContainer[0]);
                }
                responseContainer = overwritten = undefined;
            });
            return "script";
        }
    });
    support.createHTMLDocument = (function () {
        var body = document.implementation.createHTMLDocument("").body;
        body.innerHTML = "<form></form><form></form>";
        return body.childNodes.length === 2;
    })();
    jQuery.parseHTML = function (data, context, keepScripts) {
        if (typeof data !== "string") {
            return [];
        }
        if (typeof context === "boolean") {
            keepScripts = context;
            context = false;
        }
        var base, parsed, scripts;
        if (!context) {
            if (support.createHTMLDocument) {
                context = document.implementation.createHTMLDocument("");
                base = context.createElement("base");
                base.href = document.location.href;
                context.head.appendChild(base);
            }
            else {
                context = document;
            }
        }
        parsed = rsingleTag.exec(data);
        scripts = !keepScripts && [];
        if (parsed) {
            return [context.createElement(parsed[1])];
        }
        parsed = buildFragment([data], context, scripts);
        if (scripts && scripts.length) {
            jQuery(scripts).remove();
        }
        return jQuery.merge([], parsed.childNodes);
    };
    jQuery.fn.load = function (url, params, callback) {
        var selector, type, response, self = this, off = url.indexOf(" ");
        if (off > -1) {
            selector = stripAndCollapse(url.slice(off));
            url = url.slice(0, off);
        }
        if (jQuery.isFunction(params)) {
            callback = params;
            params = undefined;
        }
        else if (params && typeof params === "object") {
            type = "POST";
        }
        if (self.length > 0) {
            jQuery.ajax({
                url: url,
                type: type || "GET",
                dataType: "html",
                data: params
            }).done(function (responseText) {
                response = arguments;
                self.html(selector ?
                    jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector) :
                    responseText);
            }).always(callback && function (jqXHR, status) {
                self.each(function () {
                    callback.apply(this, response || [jqXHR.responseText, status, jqXHR]);
                });
            });
        }
        return this;
    };
    jQuery.each([
        "ajaxStart",
        "ajaxStop",
        "ajaxComplete",
        "ajaxError",
        "ajaxSuccess",
        "ajaxSend"
    ], function (i, type) {
        jQuery.fn[type] = function (fn) {
            return this.on(type, fn);
        };
    });
    jQuery.expr.pseudos.animated = function (elem) {
        return jQuery.grep(jQuery.timers, function (fn) {
            return elem === fn.elem;
        }).length;
    };
    function getWindow(elem) {
        return jQuery.isWindow(elem) ? elem : elem.nodeType === 9 && elem.defaultView;
    }
    jQuery.offset = {
        setOffset: function (elem, options, i) {
            var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition, position = jQuery.css(elem, "position"), curElem = jQuery(elem), props = {};
            if (position === "static") {
                elem.style.position = "relative";
            }
            curOffset = curElem.offset();
            curCSSTop = jQuery.css(elem, "top");
            curCSSLeft = jQuery.css(elem, "left");
            calculatePosition = (position === "absolute" || position === "fixed") &&
                (curCSSTop + curCSSLeft).indexOf("auto") > -1;
            if (calculatePosition) {
                curPosition = curElem.position();
                curTop = curPosition.top;
                curLeft = curPosition.left;
            }
            else {
                curTop = parseFloat(curCSSTop) || 0;
                curLeft = parseFloat(curCSSLeft) || 0;
            }
            if (jQuery.isFunction(options)) {
                options = options.call(elem, i, jQuery.extend({}, curOffset));
            }
            if (options.top != null) {
                props.top = (options.top - curOffset.top) + curTop;
            }
            if (options.left != null) {
                props.left = (options.left - curOffset.left) + curLeft;
            }
            if ("using" in options) {
                options.using.call(elem, props);
            }
            else {
                curElem.css(props);
            }
        }
    };
    jQuery.fn.extend({
        offset: function (options) {
            if (arguments.length) {
                return options === undefined ?
                    this :
                    this.each(function (i) {
                        jQuery.offset.setOffset(this, options, i);
                    });
            }
            var docElem, win, rect, doc, elem = this[0];
            if (!elem) {
                return;
            }
            if (!elem.getClientRects().length) {
                return { top: 0, left: 0 };
            }
            rect = elem.getBoundingClientRect();
            if (rect.width || rect.height) {
                doc = elem.ownerDocument;
                win = getWindow(doc);
                docElem = doc.documentElement;
                return {
                    top: rect.top + win.pageYOffset - docElem.clientTop,
                    left: rect.left + win.pageXOffset - docElem.clientLeft
                };
            }
            return rect;
        },
        position: function () {
            if (!this[0]) {
                return;
            }
            var offsetParent, offset, elem = this[0], parentOffset = { top: 0, left: 0 };
            if (jQuery.css(elem, "position") === "fixed") {
                offset = elem.getBoundingClientRect();
            }
            else {
                offsetParent = this.offsetParent();
                offset = this.offset();
                if (!jQuery.nodeName(offsetParent[0], "html")) {
                    parentOffset = offsetParent.offset();
                }
                parentOffset = {
                    top: parentOffset.top + jQuery.css(offsetParent[0], "borderTopWidth", true),
                    left: parentOffset.left + jQuery.css(offsetParent[0], "borderLeftWidth", true)
                };
            }
            return {
                top: offset.top - parentOffset.top - jQuery.css(elem, "marginTop", true),
                left: offset.left - parentOffset.left - jQuery.css(elem, "marginLeft", true)
            };
        },
        offsetParent: function () {
            return this.map(function () {
                var offsetParent = this.offsetParent;
                while (offsetParent && jQuery.css(offsetParent, "position") === "static") {
                    offsetParent = offsetParent.offsetParent;
                }
                return offsetParent || documentElement;
            });
        }
    });
    jQuery.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function (method, prop) {
        var top = "pageYOffset" === prop;
        jQuery.fn[method] = function (val) {
            return access(this, function (elem, method, val) {
                var win = getWindow(elem);
                if (val === undefined) {
                    return win ? win[prop] : elem[method];
                }
                if (win) {
                    win.scrollTo(!top ? val : win.pageXOffset, top ? val : win.pageYOffset);
                }
                else {
                    elem[method] = val;
                }
            }, method, val, arguments.length);
        };
    });
    jQuery.each(["top", "left"], function (i, prop) {
        jQuery.cssHooks[prop] = addGetHookIf(support.pixelPosition, function (elem, computed) {
            if (computed) {
                computed = curCSS(elem, prop);
                return rnumnonpx.test(computed) ?
                    jQuery(elem).position()[prop] + "px" :
                    computed;
            }
        });
    });
    jQuery.each({ Height: "height", Width: "width" }, function (name, type) {
        jQuery.each({ padding: "inner" + name, content: type, "": "outer" + name }, function (defaultExtra, funcName) {
            jQuery.fn[funcName] = function (margin, value) {
                var chainable = arguments.length && (defaultExtra || typeof margin !== "boolean"), extra = defaultExtra || (margin === true || value === true ? "margin" : "border");
                return access(this, function (elem, type, value) {
                    var doc;
                    if (jQuery.isWindow(elem)) {
                        return funcName.indexOf("outer") === 0 ?
                            elem["inner" + name] :
                            elem.document.documentElement["client" + name];
                    }
                    if (elem.nodeType === 9) {
                        doc = elem.documentElement;
                        return Math.max(elem.body["scroll" + name], doc["scroll" + name], elem.body["offset" + name], doc["offset" + name], doc["client" + name]);
                    }
                    return value === undefined ?
                        jQuery.css(elem, type, extra) :
                        jQuery.style(elem, type, value, extra);
                }, type, chainable ? margin : undefined, chainable);
            };
        });
    });
    jQuery.fn.extend({
        bind: function (types, data, fn) {
            return this.on(types, null, data, fn);
        },
        unbind: function (types, fn) {
            return this.off(types, null, fn);
        },
        delegate: function (selector, types, data, fn) {
            return this.on(types, selector, data, fn);
        },
        undelegate: function (selector, types, fn) {
            return arguments.length === 1 ?
                this.off(selector, "**") :
                this.off(types, selector || "**", fn);
        }
    });
    jQuery.parseJSON = JSON.parse;
    if (typeof define === "function" && define.amd) {
        define("jquery", [], function () {
            return jQuery;
        });
    }
    var _jQuery = window.jQuery, _$ = window.$;
    jQuery.noConflict = function (deep) {
        if (window.$ === jQuery) {
            window.$ = _$;
        }
        if (deep && window.jQuery === jQuery) {
            window.jQuery = _jQuery;
        }
        return jQuery;
    };
    if (!noGlobal) {
        window.jQuery = window.$ = jQuery;
    }
    return jQuery;
});
(function (global, factory) {
    "use strict";
    if (typeof module === "object" && typeof module.exports === "object") {
        module.exports = global.document ?
            factory(global, true) :
            function (w) {
                if (!w.document) {
                    throw new Error("jQuery requires a window with a document");
                }
                return factory(w);
            };
    }
    else {
        factory(global);
    }
})(typeof window !== "undefined" ? window : this, function (window, noGlobal) {
    "use strict";
    var arr = [];
    var document = window.document;
    var getProto = Object.getPrototypeOf;
    var slice = arr.slice;
    var concat = arr.concat;
    var push = arr.push;
    var indexOf = arr.indexOf;
    var class2type = {};
    var toString = class2type.toString;
    var hasOwn = class2type.hasOwnProperty;
    var fnToString = hasOwn.toString;
    var ObjectFunctionString = fnToString.call(Object);
    var support = {};
    function DOMEval(code, doc) {
        doc = doc || document;
        var script = doc.createElement("script");
        script.text = code;
        doc.head.appendChild(script).parentNode.removeChild(script);
    }
    var version = "3.1.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/animatedSelector,-effects/Tween,-deprecated", jQuery = function (selector, context) {
        return new jQuery.fn.init(selector, context);
    }, rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, rmsPrefix = /^-ms-/, rdashAlpha = /-([a-z])/g, fcamelCase = function (all, letter) {
        return letter.toUpperCase();
    };
    jQuery.fn = jQuery.prototype = {
        jquery: version,
        constructor: jQuery,
        length: 0,
        toArray: function () {
            return slice.call(this);
        },
        get: function (num) {
            if (num == null) {
                return slice.call(this);
            }
            return num < 0 ? this[num + this.length] : this[num];
        },
        pushStack: function (elems) {
            var ret = jQuery.merge(this.constructor(), elems);
            ret.prevObject = this;
            return ret;
        },
        each: function (callback) {
            return jQuery.each(this, callback);
        },
        map: function (callback) {
            return this.pushStack(jQuery.map(this, function (elem, i) {
                return callback.call(elem, i, elem);
            }));
        },
        slice: function () {
            return this.pushStack(slice.apply(this, arguments));
        },
        first: function () {
            return this.eq(0);
        },
        last: function () {
            return this.eq(-1);
        },
        eq: function (i) {
            var len = this.length, j = +i + (i < 0 ? len : 0);
            return this.pushStack(j >= 0 && j < len ? [this[j]] : []);
        },
        end: function () {
            return this.prevObject || this.constructor();
        },
        push: push,
        sort: arr.sort,
        splice: arr.splice
    };
    jQuery.extend = jQuery.fn.extend = function () {
        var options, name, src, copy, copyIsArray, clone, target = arguments[0] || {}, i = 1, length = arguments.length, deep = false;
        if (typeof target === "boolean") {
            deep = target;
            target = arguments[i] || {};
            i++;
        }
        if (typeof target !== "object" && !jQuery.isFunction(target)) {
            target = {};
        }
        if (i === length) {
            target = this;
            i--;
        }
        for (; i < length; i++) {
            if ((options = arguments[i]) != null) {
                for (name in options) {
                    src = target[name];
                    copy = options[name];
                    if (target === copy) {
                        continue;
                    }
                    if (deep && copy && (jQuery.isPlainObject(copy) ||
                        (copyIsArray = jQuery.isArray(copy)))) {
                        if (copyIsArray) {
                            copyIsArray = false;
                            clone = src && jQuery.isArray(src) ? src : [];
                        }
                        else {
                            clone = src && jQuery.isPlainObject(src) ? src : {};
                        }
                        target[name] = jQuery.extend(deep, clone, copy);
                    }
                    else if (copy !== undefined) {
                        target[name] = copy;
                    }
                }
            }
        }
        return target;
    };
    jQuery.extend({
        expando: "jQuery" + (version + Math.random()).replace(/\D/g, ""),
        isReady: true,
        error: function (msg) {
            throw new Error(msg);
        },
        noop: function () { },
        isFunction: function (obj) {
            return jQuery.type(obj) === "function";
        },
        isArray: Array.isArray,
        isWindow: function (obj) {
            return obj != null && obj === obj.window;
        },
        isNumeric: function (obj) {
            var type = jQuery.type(obj);
            return (type === "number" || type === "string") &&
                !isNaN(obj - parseFloat(obj));
        },
        isPlainObject: function (obj) {
            var proto, Ctor;
            if (!obj || toString.call(obj) !== "[object Object]") {
                return false;
            }
            proto = getProto(obj);
            if (!proto) {
                return true;
            }
            Ctor = hasOwn.call(proto, "constructor") && proto.constructor;
            return typeof Ctor === "function" && fnToString.call(Ctor) === ObjectFunctionString;
        },
        isEmptyObject: function (obj) {
            var name;
            for (name in obj) {
                return false;
            }
            return true;
        },
        type: function (obj) {
            if (obj == null) {
                return obj + "";
            }
            return typeof obj === "object" || typeof obj === "function" ?
                class2type[toString.call(obj)] || "object" :
                typeof obj;
        },
        globalEval: function (code) {
            DOMEval(code);
        },
        camelCase: function (string) {
            return string.replace(rmsPrefix, "ms-").replace(rdashAlpha, fcamelCase);
        },
        nodeName: function (elem, name) {
            return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
        },
        each: function (obj, callback) {
            var length, i = 0;
            if (isArrayLike(obj)) {
                length = obj.length;
                for (; i < length; i++) {
                    if (callback.call(obj[i], i, obj[i]) === false) {
                        break;
                    }
                }
            }
            else {
                for (i in obj) {
                    if (callback.call(obj[i], i, obj[i]) === false) {
                        break;
                    }
                }
            }
            return obj;
        },
        trim: function (text) {
            return text == null ?
                "" :
                (text + "").replace(rtrim, "");
        },
        makeArray: function (arr, results) {
            var ret = results || [];
            if (arr != null) {
                if (isArrayLike(Object(arr))) {
                    jQuery.merge(ret, typeof arr === "string" ?
                        [arr] : arr);
                }
                else {
                    push.call(ret, arr);
                }
            }
            return ret;
        },
        inArray: function (elem, arr, i) {
            return arr == null ? -1 : indexOf.call(arr, elem, i);
        },
        merge: function (first, second) {
            var len = +second.length, j = 0, i = first.length;
            for (; j < len; j++) {
                first[i++] = second[j];
            }
            first.length = i;
            return first;
        },
        grep: function (elems, callback, invert) {
            var callbackInverse, matches = [], i = 0, length = elems.length, callbackExpect = !invert;
            for (; i < length; i++) {
                callbackInverse = !callback(elems[i], i);
                if (callbackInverse !== callbackExpect) {
                    matches.push(elems[i]);
                }
            }
            return matches;
        },
        map: function (elems, callback, arg) {
            var length, value, i = 0, ret = [];
            if (isArrayLike(elems)) {
                length = elems.length;
                for (; i < length; i++) {
                    value = callback(elems[i], i, arg);
                    if (value != null) {
                        ret.push(value);
                    }
                }
            }
            else {
                for (i in elems) {
                    value = callback(elems[i], i, arg);
                    if (value != null) {
                        ret.push(value);
                    }
                }
            }
            return concat.apply([], ret);
        },
        guid: 1,
        proxy: function (fn, context) {
            var tmp, args, proxy;
            if (typeof context === "string") {
                tmp = fn[context];
                context = fn;
                fn = tmp;
            }
            if (!jQuery.isFunction(fn)) {
                return undefined;
            }
            args = slice.call(arguments, 2);
            proxy = function () {
                return fn.apply(context || this, args.concat(slice.call(arguments)));
            };
            proxy.guid = fn.guid = fn.guid || jQuery.guid++;
            return proxy;
        },
        now: Date.now,
        support: support
    });
    if (typeof Symbol === "function") {
        jQuery.fn[Symbol.iterator] = arr[Symbol.iterator];
    }
    jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (i, name) {
        class2type["[object " + name + "]"] = name.toLowerCase();
    });
    function isArrayLike(obj) {
        var length = !!obj && "length" in obj && obj.length, type = jQuery.type(obj);
        if (type === "function" || jQuery.isWindow(obj)) {
            return false;
        }
        return type === "array" || length === 0 ||
            typeof length === "number" && length > 0 && (length - 1) in obj;
    }
    var Sizzle = (function (window) {
        var i, support, Expr, getText, isXML, tokenize, compile, select, outermostContext, sortInput, hasDuplicate, setDocument, document, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains, expando = "sizzle" + 1 * new Date(), preferredDoc = window.document, dirruns = 0, done = 0, classCache = createCache(), tokenCache = createCache(), compilerCache = createCache(), sortOrder = function (a, b) {
            if (a === b) {
                hasDuplicate = true;
            }
            return 0;
        }, hasOwn = ({}).hasOwnProperty, arr = [], pop = arr.pop, push_native = arr.push, push = arr.push, slice = arr.slice, indexOf = function (list, elem) {
            var i = 0, len = list.length;
            for (; i < len; i++) {
                if (list[i] === elem) {
                    return i;
                }
            }
            return -1;
        }, booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", whitespace = "[\\x20\\t\\r\\n\\f]", identifier = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+", attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +
            "*([*^$|!~]?=)" + whitespace +
            "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace +
            "*\\]", pseudos = ":(" + identifier + ")(?:\\((" +
            "('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +
            "((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +
            ".*" +
            ")\\)|)", rwhitespace = new RegExp(whitespace + "+", "g"), rtrim = new RegExp("^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g"), rcomma = new RegExp("^" + whitespace + "*," + whitespace + "*"), rcombinators = new RegExp("^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*"), rattributeQuotes = new RegExp("=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g"), rpseudo = new RegExp(pseudos), ridentifier = new RegExp("^" + identifier + "$"), matchExpr = {
            "ID": new RegExp("^#(" + identifier + ")"),
            "CLASS": new RegExp("^\\.(" + identifier + ")"),
            "TAG": new RegExp("^(" + identifier + "|[*])"),
            "ATTR": new RegExp("^" + attributes),
            "PSEUDO": new RegExp("^" + pseudos),
            "CHILD": new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace +
                "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace +
                "*(\\d+)|))" + whitespace + "*\\)|)", "i"),
            "bool": new RegExp("^(?:" + booleans + ")$", "i"),
            "needsContext": new RegExp("^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
                whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i")
        }, rinputs = /^(?:input|select|textarea|button)$/i, rheader = /^h\d$/i, rnative = /^[^{]+\{\s*\[native \w/, rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, rsibling = /[+~]/, runescape = new RegExp("\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig"), funescape = function (_, escaped, escapedWhitespace) {
            var high = "0x" + escaped - 0x10000;
            return high !== high || escapedWhitespace ?
                escaped :
                high < 0 ?
                    String.fromCharCode(high + 0x10000) :
                    String.fromCharCode(high >> 10 | 0xD800, high & 0x3FF | 0xDC00);
        }, rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, fcssescape = function (ch, asCodePoint) {
            if (asCodePoint) {
                if (ch === "\0") {
                    return "\uFFFD";
                }
                return ch.slice(0, -1) + "\\" + ch.charCodeAt(ch.length - 1).toString(16) + " ";
            }
            return "\\" + ch;
        }, unloadHandler = function () {
            setDocument();
        }, disabledAncestor = addCombinator(function (elem) {
            return elem.disabled === true && ("form" in elem || "label" in elem);
        }, { dir: "parentNode", next: "legend" });
        try {
            push.apply((arr = slice.call(preferredDoc.childNodes)), preferredDoc.childNodes);
            arr[preferredDoc.childNodes.length].nodeType;
        }
        catch (e) {
            push = { apply: arr.length ?
                    function (target, els) {
                        push_native.apply(target, slice.call(els));
                    } :
                    function (target, els) {
                        var j = target.length, i = 0;
                        while ((target[j++] = els[i++])) { }
                        target.length = j - 1;
                    }
            };
        }
        function Sizzle(selector, context, results, seed) {
            var m, i, elem, nid, match, groups, newSelector, newContext = context && context.ownerDocument, nodeType = context ? context.nodeType : 9;
            results = results || [];
            if (typeof selector !== "string" || !selector ||
                nodeType !== 1 && nodeType !== 9 && nodeType !== 11) {
                return results;
            }
            if (!seed) {
                if ((context ? context.ownerDocument || context : preferredDoc) !== document) {
                    setDocument(context);
                }
                context = context || document;
                if (documentIsHTML) {
                    if (nodeType !== 11 && (match = rquickExpr.exec(selector))) {
                        if ((m = match[1])) {
                            if (nodeType === 9) {
                                if ((elem = context.getElementById(m))) {
                                    if (elem.id === m) {
                                        results.push(elem);
                                        return results;
                                    }
                                }
                                else {
                                    return results;
                                }
                            }
                            else {
                                if (newContext && (elem = newContext.getElementById(m)) &&
                                    contains(context, elem) &&
                                    elem.id === m) {
                                    results.push(elem);
                                    return results;
                                }
                            }
                        }
                        else if (match[2]) {
                            push.apply(results, context.getElementsByTagName(selector));
                            return results;
                        }
                        else if ((m = match[3]) && support.getElementsByClassName &&
                            context.getElementsByClassName) {
                            push.apply(results, context.getElementsByClassName(m));
                            return results;
                        }
                    }
                    if (support.qsa &&
                        !compilerCache[selector + " "] &&
                        (!rbuggyQSA || !rbuggyQSA.test(selector))) {
                        if (nodeType !== 1) {
                            newContext = context;
                            newSelector = selector;
                        }
                        else if (context.nodeName.toLowerCase() !== "object") {
                            if ((nid = context.getAttribute("id"))) {
                                nid = nid.replace(rcssescape, fcssescape);
                            }
                            else {
                                context.setAttribute("id", (nid = expando));
                            }
                            groups = tokenize(selector);
                            i = groups.length;
                            while (i--) {
                                groups[i] = "#" + nid + " " + toSelector(groups[i]);
                            }
                            newSelector = groups.join(",");
                            newContext = rsibling.test(selector) && testContext(context.parentNode) ||
                                context;
                        }
                        if (newSelector) {
                            try {
                                push.apply(results, newContext.querySelectorAll(newSelector));
                                return results;
                            }
                            catch (qsaError) {
                            }
                            finally {
                                if (nid === expando) {
                                    context.removeAttribute("id");
                                }
                            }
                        }
                    }
                }
            }
            return select(selector.replace(rtrim, "$1"), context, results, seed);
        }
        function createCache() {
            var keys = [];
            function cache(key, value) {
                if (keys.push(key + " ") > Expr.cacheLength) {
                    delete cache[keys.shift()];
                }
                return (cache[key + " "] = value);
            }
            return cache;
        }
        function markFunction(fn) {
            fn[expando] = true;
            return fn;
        }
        function assert(fn) {
            var el = document.createElement("fieldset");
            try {
                return !!fn(el);
            }
            catch (e) {
                return false;
            }
            finally {
                if (el.parentNode) {
                    el.parentNode.removeChild(el);
                }
                el = null;
            }
        }
        function addHandle(attrs, handler) {
            var arr = attrs.split("|"), i = arr.length;
            while (i--) {
                Expr.attrHandle[arr[i]] = handler;
            }
        }
        function siblingCheck(a, b) {
            var cur = b && a, diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
                a.sourceIndex - b.sourceIndex;
            if (diff) {
                return diff;
            }
            if (cur) {
                while ((cur = cur.nextSibling)) {
                    if (cur === b) {
                        return -1;
                    }
                }
            }
            return a ? 1 : -1;
        }
        function createInputPseudo(type) {
            return function (elem) {
                var name = elem.nodeName.toLowerCase();
                return name === "input" && elem.type === type;
            };
        }
        function createButtonPseudo(type) {
            return function (elem) {
                var name = elem.nodeName.toLowerCase();
                return (name === "input" || name === "button") && elem.type === type;
            };
        }
        function createDisabledPseudo(disabled) {
            return function (elem) {
                if ("form" in elem) {
                    if (elem.parentNode && elem.disabled === false) {
                        if ("label" in elem) {
                            if ("label" in elem.parentNode) {
                                return elem.parentNode.disabled === disabled;
                            }
                            else {
                                return elem.disabled === disabled;
                            }
                        }
                        return elem.isDisabled === disabled ||
                            elem.isDisabled !== !disabled &&
                                disabledAncestor(elem) === disabled;
                    }
                    return elem.disabled === disabled;
                }
                else if ("label" in elem) {
                    return elem.disabled === disabled;
                }
                return false;
            };
        }
        function createPositionalPseudo(fn) {
            return markFunction(function (argument) {
                argument = +argument;
                return markFunction(function (seed, matches) {
                    var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length;
                    while (i--) {
                        if (seed[(j = matchIndexes[i])]) {
                            seed[j] = !(matches[j] = seed[j]);
                        }
                    }
                });
            });
        }
        function testContext(context) {
            return context && typeof context.getElementsByTagName !== "undefined" && context;
        }
        support = Sizzle.support = {};
        isXML = Sizzle.isXML = function (elem) {
            var documentElement = elem && (elem.ownerDocument || elem).documentElement;
            return documentElement ? documentElement.nodeName !== "HTML" : false;
        };
        setDocument = Sizzle.setDocument = function (node) {
            var hasCompare, subWindow, doc = node ? node.ownerDocument || node : preferredDoc;
            if (doc === document || doc.nodeType !== 9 || !doc.documentElement) {
                return document;
            }
            document = doc;
            docElem = document.documentElement;
            documentIsHTML = !isXML(document);
            if (preferredDoc !== document &&
                (subWindow = document.defaultView) && subWindow.top !== subWindow) {
                if (subWindow.addEventListener) {
                    subWindow.addEventListener("unload", unloadHandler, false);
                }
                else if (subWindow.attachEvent) {
                    subWindow.attachEvent("onunload", unloadHandler);
                }
            }
            support.attributes = assert(function (el) {
                el.className = "i";
                return !el.getAttribute("className");
            });
            support.getElementsByTagName = assert(function (el) {
                el.appendChild(document.createComment(""));
                return !el.getElementsByTagName("*").length;
            });
            support.getElementsByClassName = rnative.test(document.getElementsByClassName);
            support.getById = assert(function (el) {
                docElem.appendChild(el).id = expando;
                return !document.getElementsByName || !document.getElementsByName(expando).length;
            });
            if (support.getById) {
                Expr.filter["ID"] = function (id) {
                    var attrId = id.replace(runescape, funescape);
                    return function (elem) {
                        return elem.getAttribute("id") === attrId;
                    };
                };
                Expr.find["ID"] = function (id, context) {
                    if (typeof context.getElementById !== "undefined" && documentIsHTML) {
                        var elem = context.getElementById(id);
                        return elem ? [elem] : [];
                    }
                };
            }
            else {
                Expr.filter["ID"] = function (id) {
                    var attrId = id.replace(runescape, funescape);
                    return function (elem) {
                        var node = typeof elem.getAttributeNode !== "undefined" &&
                            elem.getAttributeNode("id");
                        return node && node.value === attrId;
                    };
                };
                Expr.find["ID"] = function (id, context) {
                    if (typeof context.getElementById !== "undefined" && documentIsHTML) {
                        var node, i, elems, elem = context.getElementById(id);
                        if (elem) {
                            node = elem.getAttributeNode("id");
                            if (node && node.value === id) {
                                return [elem];
                            }
                            elems = context.getElementsByName(id);
                            i = 0;
                            while ((elem = elems[i++])) {
                                node = elem.getAttributeNode("id");
                                if (node && node.value === id) {
                                    return [elem];
                                }
                            }
                        }
                        return [];
                    }
                };
            }
            Expr.find["TAG"] = support.getElementsByTagName ?
                function (tag, context) {
                    if (typeof context.getElementsByTagName !== "undefined") {
                        return context.getElementsByTagName(tag);
                    }
                    else if (support.qsa) {
                        return context.querySelectorAll(tag);
                    }
                } :
                function (tag, context) {
                    var elem, tmp = [], i = 0, results = context.getElementsByTagName(tag);
                    if (tag === "*") {
                        while ((elem = results[i++])) {
                            if (elem.nodeType === 1) {
                                tmp.push(elem);
                            }
                        }
                        return tmp;
                    }
                    return results;
                };
            Expr.find["CLASS"] = support.getElementsByClassName && function (className, context) {
                if (typeof context.getElementsByClassName !== "undefined" && documentIsHTML) {
                    return context.getElementsByClassName(className);
                }
            };
            rbuggyMatches = [];
            rbuggyQSA = [];
            if ((support.qsa = rnative.test(document.querySelectorAll))) {
                assert(function (el) {
                    docElem.appendChild(el).innerHTML = "<a id='" + expando + "'></a>" +
                        "<select id='" + expando + "-\r\\' msallowcapture=''>" +
                        "<option selected=''></option></select>";
                    if (el.querySelectorAll("[msallowcapture^='']").length) {
                        rbuggyQSA.push("[*^$]=" + whitespace + "*(?:''|\"\")");
                    }
                    if (!el.querySelectorAll("[selected]").length) {
                        rbuggyQSA.push("\\[" + whitespace + "*(?:value|" + booleans + ")");
                    }
                    if (!el.querySelectorAll("[id~=" + expando + "-]").length) {
                        rbuggyQSA.push("~=");
                    }
                    if (!el.querySelectorAll(":checked").length) {
                        rbuggyQSA.push(":checked");
                    }
                    if (!el.querySelectorAll("a#" + expando + "+*").length) {
                        rbuggyQSA.push(".#.+[+~]");
                    }
                });
                assert(function (el) {
                    el.innerHTML = "<a href='' disabled='disabled'></a>" +
                        "<select disabled='disabled'><option/></select>";
                    var input = document.createElement("input");
                    input.setAttribute("type", "hidden");
                    el.appendChild(input).setAttribute("name", "D");
                    if (el.querySelectorAll("[name=d]").length) {
                        rbuggyQSA.push("name" + whitespace + "*[*^$|!~]?=");
                    }
                    if (el.querySelectorAll(":enabled").length !== 2) {
                        rbuggyQSA.push(":enabled", ":disabled");
                    }
                    docElem.appendChild(el).disabled = true;
                    if (el.querySelectorAll(":disabled").length !== 2) {
                        rbuggyQSA.push(":enabled", ":disabled");
                    }
                    el.querySelectorAll("*,:x");
                    rbuggyQSA.push(",.*:");
                });
            }
            if ((support.matchesSelector = rnative.test((matches = docElem.matches ||
                docElem.webkitMatchesSelector ||
                docElem.mozMatchesSelector ||
                docElem.oMatchesSelector ||
                docElem.msMatchesSelector)))) {
                assert(function (el) {
                    support.disconnectedMatch = matches.call(el, "*");
                    matches.call(el, "[s!='']:x");
                    rbuggyMatches.push("!=", pseudos);
                });
            }
            rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join("|"));
            rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join("|"));
            hasCompare = rnative.test(docElem.compareDocumentPosition);
            contains = hasCompare || rnative.test(docElem.contains) ?
                function (a, b) {
                    var adown = a.nodeType === 9 ? a.documentElement : a, bup = b && b.parentNode;
                    return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ?
                        adown.contains(bup) :
                        a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));
                } :
                function (a, b) {
                    if (b) {
                        while ((b = b.parentNode)) {
                            if (b === a) {
                                return true;
                            }
                        }
                    }
                    return false;
                };
            sortOrder = hasCompare ?
                function (a, b) {
                    if (a === b) {
                        hasDuplicate = true;
                        return 0;
                    }
                    var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
                    if (compare) {
                        return compare;
                    }
                    compare = (a.ownerDocument || a) === (b.ownerDocument || b) ?
                        a.compareDocumentPosition(b) :
                        1;
                    if (compare & 1 ||
                        (!support.sortDetached && b.compareDocumentPosition(a) === compare)) {
                        if (a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a)) {
                            return -1;
                        }
                        if (b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b)) {
                            return 1;
                        }
                        return sortInput ?
                            (indexOf(sortInput, a) - indexOf(sortInput, b)) :
                            0;
                    }
                    return compare & 4 ? -1 : 1;
                } :
                function (a, b) {
                    if (a === b) {
                        hasDuplicate = true;
                        return 0;
                    }
                    var cur, i = 0, aup = a.parentNode, bup = b.parentNode, ap = [a], bp = [b];
                    if (!aup || !bup) {
                        return a === document ? -1 :
                            b === document ? 1 :
                                aup ? -1 :
                                    bup ? 1 :
                                        sortInput ?
                                            (indexOf(sortInput, a) - indexOf(sortInput, b)) :
                                            0;
                    }
                    else if (aup === bup) {
                        return siblingCheck(a, b);
                    }
                    cur = a;
                    while ((cur = cur.parentNode)) {
                        ap.unshift(cur);
                    }
                    cur = b;
                    while ((cur = cur.parentNode)) {
                        bp.unshift(cur);
                    }
                    while (ap[i] === bp[i]) {
                        i++;
                    }
                    return i ?
                        siblingCheck(ap[i], bp[i]) :
                        ap[i] === preferredDoc ? -1 :
                            bp[i] === preferredDoc ? 1 :
                                0;
                };
            return document;
        };
        Sizzle.matches = function (expr, elements) {
            return Sizzle(expr, null, null, elements);
        };
        Sizzle.matchesSelector = function (elem, expr) {
            if ((elem.ownerDocument || elem) !== document) {
                setDocument(elem);
            }
            expr = expr.replace(rattributeQuotes, "='$1']");
            if (support.matchesSelector && documentIsHTML &&
                !compilerCache[expr + " "] &&
                (!rbuggyMatches || !rbuggyMatches.test(expr)) &&
                (!rbuggyQSA || !rbuggyQSA.test(expr))) {
                try {
                    var ret = matches.call(elem, expr);
                    if (ret || support.disconnectedMatch ||
                        elem.document && elem.document.nodeType !== 11) {
                        return ret;
                    }
                }
                catch (e) { }
            }
            return Sizzle(expr, document, null, [elem]).length > 0;
        };
        Sizzle.contains = function (context, elem) {
            if ((context.ownerDocument || context) !== document) {
                setDocument(context);
            }
            return contains(context, elem);
        };
        Sizzle.attr = function (elem, name) {
            if ((elem.ownerDocument || elem) !== document) {
                setDocument(elem);
            }
            var fn = Expr.attrHandle[name.toLowerCase()], val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ?
                fn(elem, name, !documentIsHTML) :
                undefined;
            return val !== undefined ?
                val :
                support.attributes || !documentIsHTML ?
                    elem.getAttribute(name) :
                    (val = elem.getAttributeNode(name)) && val.specified ?
                        val.value :
                        null;
        };
        Sizzle.escape = function (sel) {
            return (sel + "").replace(rcssescape, fcssescape);
        };
        Sizzle.error = function (msg) {
            throw new Error("Syntax error, unrecognized expression: " + msg);
        };
        Sizzle.uniqueSort = function (results) {
            var elem, duplicates = [], j = 0, i = 0;
            hasDuplicate = !support.detectDuplicates;
            sortInput = !support.sortStable && results.slice(0);
            results.sort(sortOrder);
            if (hasDuplicate) {
                while ((elem = results[i++])) {
                    if (elem === results[i]) {
                        j = duplicates.push(i);
                    }
                }
                while (j--) {
                    results.splice(duplicates[j], 1);
                }
            }
            sortInput = null;
            return results;
        };
        getText = Sizzle.getText = function (elem) {
            var node, ret = "", i = 0, nodeType = elem.nodeType;
            if (!nodeType) {
                while ((node = elem[i++])) {
                    ret += getText(node);
                }
            }
            else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {
                if (typeof elem.textContent === "string") {
                    return elem.textContent;
                }
                else {
                    for (elem = elem.firstChild; elem; elem = elem.nextSibling) {
                        ret += getText(elem);
                    }
                }
            }
            else if (nodeType === 3 || nodeType === 4) {
                return elem.nodeValue;
            }
            return ret;
        };
        Expr = Sizzle.selectors = {
            cacheLength: 50,
            createPseudo: markFunction,
            match: matchExpr,
            attrHandle: {},
            find: {},
            relative: {
                ">": { dir: "parentNode", first: true },
                " ": { dir: "parentNode" },
                "+": { dir: "previousSibling", first: true },
                "~": { dir: "previousSibling" }
            },
            preFilter: {
                "ATTR": function (match) {
                    match[1] = match[1].replace(runescape, funescape);
                    match[3] = (match[3] || match[4] || match[5] || "").replace(runescape, funescape);
                    if (match[2] === "~=") {
                        match[3] = " " + match[3] + " ";
                    }
                    return match.slice(0, 4);
                },
                "CHILD": function (match) {
                    match[1] = match[1].toLowerCase();
                    if (match[1].slice(0, 3) === "nth") {
                        if (!match[3]) {
                            Sizzle.error(match[0]);
                        }
                        match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === "even" || match[3] === "odd"));
                        match[5] = +((match[7] + match[8]) || match[3] === "odd");
                    }
                    else if (match[3]) {
                        Sizzle.error(match[0]);
                    }
                    return match;
                },
                "PSEUDO": function (match) {
                    var excess, unquoted = !match[6] && match[2];
                    if (matchExpr["CHILD"].test(match[0])) {
                        return null;
                    }
                    if (match[3]) {
                        match[2] = match[4] || match[5] || "";
                    }
                    else if (unquoted && rpseudo.test(unquoted) &&
                        (excess = tokenize(unquoted, true)) &&
                        (excess = unquoted.indexOf(")", unquoted.length - excess) - unquoted.length)) {
                        match[0] = match[0].slice(0, excess);
                        match[2] = unquoted.slice(0, excess);
                    }
                    return match.slice(0, 3);
                }
            },
            filter: {
                "TAG": function (nodeNameSelector) {
                    var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();
                    return nodeNameSelector === "*" ?
                        function () { return true; } :
                        function (elem) {
                            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
                        };
                },
                "CLASS": function (className) {
                    var pattern = classCache[className + " "];
                    return pattern ||
                        (pattern = new RegExp("(^|" + whitespace + ")" + className + "(" + whitespace + "|$)")) &&
                            classCache(className, function (elem) {
                                return pattern.test(typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "");
                            });
                },
                "ATTR": function (name, operator, check) {
                    return function (elem) {
                        var result = Sizzle.attr(elem, name);
                        if (result == null) {
                            return operator === "!=";
                        }
                        if (!operator) {
                            return true;
                        }
                        result += "";
                        return operator === "=" ? result === check :
                            operator === "!=" ? result !== check :
                                operator === "^=" ? check && result.indexOf(check) === 0 :
                                    operator === "*=" ? check && result.indexOf(check) > -1 :
                                        operator === "$=" ? check && result.slice(-check.length) === check :
                                            operator === "~=" ? (" " + result.replace(rwhitespace, " ") + " ").indexOf(check) > -1 :
                                                operator === "|=" ? result === check || result.slice(0, check.length + 1) === check + "-" :
                                                    false;
                    };
                },
                "CHILD": function (type, what, argument, first, last) {
                    var simple = type.slice(0, 3) !== "nth", forward = type.slice(-4) !== "last", ofType = what === "of-type";
                    return first === 1 && last === 0 ?
                        function (elem) {
                            return !!elem.parentNode;
                        } :
                        function (elem, context, xml) {
                            var cache, uniqueCache, outerCache, node, nodeIndex, start, dir = simple !== forward ? "nextSibling" : "previousSibling", parent = elem.parentNode, name = ofType && elem.nodeName.toLowerCase(), useCache = !xml && !ofType, diff = false;
                            if (parent) {
                                if (simple) {
                                    while (dir) {
                                        node = elem;
                                        while ((node = node[dir])) {
                                            if (ofType ?
                                                node.nodeName.toLowerCase() === name :
                                                node.nodeType === 1) {
                                                return false;
                                            }
                                        }
                                        start = dir = type === "only" && !start && "nextSibling";
                                    }
                                    return true;
                                }
                                start = [forward ? parent.firstChild : parent.lastChild];
                                if (forward && useCache) {
                                    node = parent;
                                    outerCache = node[expando] || (node[expando] = {});
                                    uniqueCache = outerCache[node.uniqueID] ||
                                        (outerCache[node.uniqueID] = {});
                                    cache = uniqueCache[type] || [];
                                    nodeIndex = cache[0] === dirruns && cache[1];
                                    diff = nodeIndex && cache[2];
                                    node = nodeIndex && parent.childNodes[nodeIndex];
                                    while ((node = ++nodeIndex && node && node[dir] ||
                                        (diff = nodeIndex = 0) || start.pop())) {
                                        if (node.nodeType === 1 && ++diff && node === elem) {
                                            uniqueCache[type] = [dirruns, nodeIndex, diff];
                                            break;
                                        }
                                    }
                                }
                                else {
                                    if (useCache) {
                                        node = elem;
                                        outerCache = node[expando] || (node[expando] = {});
                                        uniqueCache = outerCache[node.uniqueID] ||
                                            (outerCache[node.uniqueID] = {});
                                        cache = uniqueCache[type] || [];
                                        nodeIndex = cache[0] === dirruns && cache[1];
                                        diff = nodeIndex;
                                    }
                                    if (diff === false) {
                                        while ((node = ++nodeIndex && node && node[dir] ||
                                            (diff = nodeIndex = 0) || start.pop())) {
                                            if ((ofType ?
                                                node.nodeName.toLowerCase() === name :
                                                node.nodeType === 1) &&
                                                ++diff) {
                                                if (useCache) {
                                                    outerCache = node[expando] || (node[expando] = {});
                                                    uniqueCache = outerCache[node.uniqueID] ||
                                                        (outerCache[node.uniqueID] = {});
                                                    uniqueCache[type] = [dirruns, diff];
                                                }
                                                if (node === elem) {
                                                    break;
                                                }
                                            }
                                        }
                                    }
                                }
                                diff -= last;
                                return diff === first || (diff % first === 0 && diff / first >= 0);
                            }
                        };
                },
                "PSEUDO": function (pseudo, argument) {
                    var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] ||
                        Sizzle.error("unsupported pseudo: " + pseudo);
                    if (fn[expando]) {
                        return fn(argument);
                    }
                    if (fn.length > 1) {
                        args = [pseudo, pseudo, "", argument];
                        return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ?
                            markFunction(function (seed, matches) {
                                var idx, matched = fn(seed, argument), i = matched.length;
                                while (i--) {
                                    idx = indexOf(seed, matched[i]);
                                    seed[idx] = !(matches[idx] = matched[i]);
                                }
                            }) :
                            function (elem) {
                                return fn(elem, 0, args);
                            };
                    }
                    return fn;
                }
            },
            pseudos: {
                "not": markFunction(function (selector) {
                    var input = [], results = [], matcher = compile(selector.replace(rtrim, "$1"));
                    return matcher[expando] ?
                        markFunction(function (seed, matches, context, xml) {
                            var elem, unmatched = matcher(seed, null, xml, []), i = seed.length;
                            while (i--) {
                                if ((elem = unmatched[i])) {
                                    seed[i] = !(matches[i] = elem);
                                }
                            }
                        }) :
                        function (elem, context, xml) {
                            input[0] = elem;
                            matcher(input, null, xml, results);
                            input[0] = null;
                            return !results.pop();
                        };
                }),
                "has": markFunction(function (selector) {
                    return function (elem) {
                        return Sizzle(selector, elem).length > 0;
                    };
                }),
                "contains": markFunction(function (text) {
                    text = text.replace(runescape, funescape);
                    return function (elem) {
                        return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;
                    };
                }),
                "lang": markFunction(function (lang) {
                    if (!ridentifier.test(lang || "")) {
                        Sizzle.error("unsupported lang: " + lang);
                    }
                    lang = lang.replace(runescape, funescape).toLowerCase();
                    return function (elem) {
                        var elemLang;
                        do {
                            if ((elemLang = documentIsHTML ?
                                elem.lang :
                                elem.getAttribute("xml:lang") || elem.getAttribute("lang"))) {
                                elemLang = elemLang.toLowerCase();
                                return elemLang === lang || elemLang.indexOf(lang + "-") === 0;
                            }
                        } while ((elem = elem.parentNode) && elem.nodeType === 1);
                        return false;
                    };
                }),
                "target": function (elem) {
                    var hash = window.location && window.location.hash;
                    return hash && hash.slice(1) === elem.id;
                },
                "root": function (elem) {
                    return elem === docElem;
                },
                "focus": function (elem) {
                    return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
                },
                "enabled": createDisabledPseudo(false),
                "disabled": createDisabledPseudo(true),
                "checked": function (elem) {
                    var nodeName = elem.nodeName.toLowerCase();
                    return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
                },
                "selected": function (elem) {
                    if (elem.parentNode) {
                        elem.parentNode.selectedIndex;
                    }
                    return elem.selected === true;
                },
                "empty": function (elem) {
                    for (elem = elem.firstChild; elem; elem = elem.nextSibling) {
                        if (elem.nodeType < 6) {
                            return false;
                        }
                    }
                    return true;
                },
                "parent": function (elem) {
                    return !Expr.pseudos["empty"](elem);
                },
                "header": function (elem) {
                    return rheader.test(elem.nodeName);
                },
                "input": function (elem) {
                    return rinputs.test(elem.nodeName);
                },
                "button": function (elem) {
                    var name = elem.nodeName.toLowerCase();
                    return name === "input" && elem.type === "button" || name === "button";
                },
                "text": function (elem) {
                    var attr;
                    return elem.nodeName.toLowerCase() === "input" &&
                        elem.type === "text" &&
                        ((attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text");
                },
                "first": createPositionalPseudo(function () {
                    return [0];
                }),
                "last": createPositionalPseudo(function (matchIndexes, length) {
                    return [length - 1];
                }),
                "eq": createPositionalPseudo(function (matchIndexes, length, argument) {
                    return [argument < 0 ? argument + length : argument];
                }),
                "even": createPositionalPseudo(function (matchIndexes, length) {
                    var i = 0;
                    for (; i < length; i += 2) {
                        matchIndexes.push(i);
                    }
                    return matchIndexes;
                }),
                "odd": createPositionalPseudo(function (matchIndexes, length) {
                    var i = 1;
                    for (; i < length; i += 2) {
                        matchIndexes.push(i);
                    }
                    return matchIndexes;
                }),
                "lt": createPositionalPseudo(function (matchIndexes, length, argument) {
                    var i = argument < 0 ? argument + length : argument;
                    for (; --i >= 0;) {
                        matchIndexes.push(i);
                    }
                    return matchIndexes;
                }),
                "gt": createPositionalPseudo(function (matchIndexes, length, argument) {
                    var i = argument < 0 ? argument + length : argument;
                    for (; ++i < length;) {
                        matchIndexes.push(i);
                    }
                    return matchIndexes;
                })
            }
        };
        Expr.pseudos["nth"] = Expr.pseudos["eq"];
        for (i in { radio: true, checkbox: true, file: true, password: true, image: true }) {
            Expr.pseudos[i] = createInputPseudo(i);
        }
        for (i in { submit: true, reset: true }) {
            Expr.pseudos[i] = createButtonPseudo(i);
        }
        function setFilters() { }
        setFilters.prototype = Expr.filters = Expr.pseudos;
        Expr.setFilters = new setFilters();
        tokenize = Sizzle.tokenize = function (selector, parseOnly) {
            var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + " "];
            if (cached) {
                return parseOnly ? 0 : cached.slice(0);
            }
            soFar = selector;
            groups = [];
            preFilters = Expr.preFilter;
            while (soFar) {
                if (!matched || (match = rcomma.exec(soFar))) {
                    if (match) {
                        soFar = soFar.slice(match[0].length) || soFar;
                    }
                    groups.push((tokens = []));
                }
                matched = false;
                if ((match = rcombinators.exec(soFar))) {
                    matched = match.shift();
                    tokens.push({
                        value: matched,
                        type: match[0].replace(rtrim, " ")
                    });
                    soFar = soFar.slice(matched.length);
                }
                for (type in Expr.filter) {
                    if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] ||
                        (match = preFilters[type](match)))) {
                        matched = match.shift();
                        tokens.push({
                            value: matched,
                            type: type,
                            matches: match
                        });
                        soFar = soFar.slice(matched.length);
                    }
                }
                if (!matched) {
                    break;
                }
            }
            return parseOnly ?
                soFar.length :
                soFar ?
                    Sizzle.error(selector) :
                    tokenCache(selector, groups).slice(0);
        };
        function toSelector(tokens) {
            var i = 0, len = tokens.length, selector = "";
            for (; i < len; i++) {
                selector += tokens[i].value;
            }
            return selector;
        }
        function addCombinator(matcher, combinator, base) {
            var dir = combinator.dir, skip = combinator.next, key = skip || dir, checkNonElements = base && key === "parentNode", doneName = done++;
            return combinator.first ?
                function (elem, context, xml) {
                    while ((elem = elem[dir])) {
                        if (elem.nodeType === 1 || checkNonElements) {
                            return matcher(elem, context, xml);
                        }
                    }
                    return false;
                } :
                function (elem, context, xml) {
                    var oldCache, uniqueCache, outerCache, newCache = [dirruns, doneName];
                    if (xml) {
                        while ((elem = elem[dir])) {
                            if (elem.nodeType === 1 || checkNonElements) {
                                if (matcher(elem, context, xml)) {
                                    return true;
                                }
                            }
                        }
                    }
                    else {
                        while ((elem = elem[dir])) {
                            if (elem.nodeType === 1 || checkNonElements) {
                                outerCache = elem[expando] || (elem[expando] = {});
                                uniqueCache = outerCache[elem.uniqueID] || (outerCache[elem.uniqueID] = {});
                                if (skip && skip === elem.nodeName.toLowerCase()) {
                                    elem = elem[dir] || elem;
                                }
                                else if ((oldCache = uniqueCache[key]) &&
                                    oldCache[0] === dirruns && oldCache[1] === doneName) {
                                    return (newCache[2] = oldCache[2]);
                                }
                                else {
                                    uniqueCache[key] = newCache;
                                    if ((newCache[2] = matcher(elem, context, xml))) {
                                        return true;
                                    }
                                }
                            }
                        }
                    }
                    return false;
                };
        }
        function elementMatcher(matchers) {
            return matchers.length > 1 ?
                function (elem, context, xml) {
                    var i = matchers.length;
                    while (i--) {
                        if (!matchers[i](elem, context, xml)) {
                            return false;
                        }
                    }
                    return true;
                } :
                matchers[0];
        }
        function multipleContexts(selector, contexts, results) {
            var i = 0, len = contexts.length;
            for (; i < len; i++) {
                Sizzle(selector, contexts[i], results);
            }
            return results;
        }
        function condense(unmatched, map, filter, context, xml) {
            var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null;
            for (; i < len; i++) {
                if ((elem = unmatched[i])) {
                    if (!filter || filter(elem, context, xml)) {
                        newUnmatched.push(elem);
                        if (mapped) {
                            map.push(i);
                        }
                    }
                }
            }
            return newUnmatched;
        }
        function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {
            if (postFilter && !postFilter[expando]) {
                postFilter = setMatcher(postFilter);
            }
            if (postFinder && !postFinder[expando]) {
                postFinder = setMatcher(postFinder, postSelector);
            }
            return markFunction(function (seed, results, context, xml) {
                var temp, i, elem, preMap = [], postMap = [], preexisting = results.length, elems = seed || multipleContexts(selector || "*", context.nodeType ? [context] : context, []), matcherIn = preFilter && (seed || !selector) ?
                    condense(elems, preMap, preFilter, context, xml) :
                    elems, matcherOut = matcher ?
                    postFinder || (seed ? preFilter : preexisting || postFilter) ?
                        [] :
                        results :
                    matcherIn;
                if (matcher) {
                    matcher(matcherIn, matcherOut, context, xml);
                }
                if (postFilter) {
                    temp = condense(matcherOut, postMap);
                    postFilter(temp, [], context, xml);
                    i = temp.length;
                    while (i--) {
                        if ((elem = temp[i])) {
                            matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);
                        }
                    }
                }
                if (seed) {
                    if (postFinder || preFilter) {
                        if (postFinder) {
                            temp = [];
                            i = matcherOut.length;
                            while (i--) {
                                if ((elem = matcherOut[i])) {
                                    temp.push((matcherIn[i] = elem));
                                }
                            }
                            postFinder(null, (matcherOut = []), temp, xml);
                        }
                        i = matcherOut.length;
                        while (i--) {
                            if ((elem = matcherOut[i]) &&
                                (temp = postFinder ? indexOf(seed, elem) : preMap[i]) > -1) {
                                seed[temp] = !(results[temp] = elem);
                            }
                        }
                    }
                }
                else {
                    matcherOut = condense(matcherOut === results ?
                        matcherOut.splice(preexisting, matcherOut.length) :
                        matcherOut);
                    if (postFinder) {
                        postFinder(null, results, matcherOut, xml);
                    }
                    else {
                        push.apply(results, matcherOut);
                    }
                }
            });
        }
        function matcherFromTokens(tokens) {
            var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[tokens[0].type], implicitRelative = leadingRelative || Expr.relative[" "], i = leadingRelative ? 1 : 0, matchContext = addCombinator(function (elem) {
                return elem === checkContext;
            }, implicitRelative, true), matchAnyContext = addCombinator(function (elem) {
                return indexOf(checkContext, elem) > -1;
            }, implicitRelative, true), matchers = [function (elem, context, xml) {
                    var ret = (!leadingRelative && (xml || context !== outermostContext)) || ((checkContext = context).nodeType ?
                        matchContext(elem, context, xml) :
                        matchAnyContext(elem, context, xml));
                    checkContext = null;
                    return ret;
                }];
            for (; i < len; i++) {
                if ((matcher = Expr.relative[tokens[i].type])) {
                    matchers = [addCombinator(elementMatcher(matchers), matcher)];
                }
                else {
                    matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);
                    if (matcher[expando]) {
                        j = ++i;
                        for (; j < len; j++) {
                            if (Expr.relative[tokens[j].type]) {
                                break;
                            }
                        }
                        return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({ value: tokens[i - 2].type === " " ? "*" : "" })).replace(rtrim, "$1"), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens((tokens = tokens.slice(j))), j < len && toSelector(tokens));
                    }
                    matchers.push(matcher);
                }
            }
            return elementMatcher(matchers);
        }
        function matcherFromGroupMatchers(elementMatchers, setMatchers) {
            var bySet = setMatchers.length > 0, byElement = elementMatchers.length > 0, superMatcher = function (seed, context, xml, results, outermost) {
                var elem, j, matcher, matchedCount = 0, i = "0", unmatched = seed && [], setMatched = [], contextBackup = outermostContext, elems = seed || byElement && Expr.find["TAG"]("*", outermost), dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1), len = elems.length;
                if (outermost) {
                    outermostContext = context === document || context || outermost;
                }
                for (; i !== len && (elem = elems[i]) != null; i++) {
                    if (byElement && elem) {
                        j = 0;
                        if (!context && elem.ownerDocument !== document) {
                            setDocument(elem);
                            xml = !documentIsHTML;
                        }
                        while ((matcher = elementMatchers[j++])) {
                            if (matcher(elem, context || document, xml)) {
                                results.push(elem);
                                break;
                            }
                        }
                        if (outermost) {
                            dirruns = dirrunsUnique;
                        }
                    }
                    if (bySet) {
                        if ((elem = !matcher && elem)) {
                            matchedCount--;
                        }
                        if (seed) {
                            unmatched.push(elem);
                        }
                    }
                }
                matchedCount += i;
                if (bySet && i !== matchedCount) {
                    j = 0;
                    while ((matcher = setMatchers[j++])) {
                        matcher(unmatched, setMatched, context, xml);
                    }
                    if (seed) {
                        if (matchedCount > 0) {
                            while (i--) {
                                if (!(unmatched[i] || setMatched[i])) {
                                    setMatched[i] = pop.call(results);
                                }
                            }
                        }
                        setMatched = condense(setMatched);
                    }
                    push.apply(results, setMatched);
                    if (outermost && !seed && setMatched.length > 0 &&
                        (matchedCount + setMatchers.length) > 1) {
                        Sizzle.uniqueSort(results);
                    }
                }
                if (outermost) {
                    dirruns = dirrunsUnique;
                    outermostContext = contextBackup;
                }
                return unmatched;
            };
            return bySet ?
                markFunction(superMatcher) :
                superMatcher;
        }
        compile = Sizzle.compile = function (selector, match) {
            var i, setMatchers = [], elementMatchers = [], cached = compilerCache[selector + " "];
            if (!cached) {
                if (!match) {
                    match = tokenize(selector);
                }
                i = match.length;
                while (i--) {
                    cached = matcherFromTokens(match[i]);
                    if (cached[expando]) {
                        setMatchers.push(cached);
                    }
                    else {
                        elementMatchers.push(cached);
                    }
                }
                cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));
                cached.selector = selector;
            }
            return cached;
        };
        select = Sizzle.select = function (selector, context, results, seed) {
            var i, tokens, token, type, find, compiled = typeof selector === "function" && selector, match = !seed && tokenize((selector = compiled.selector || selector));
            results = results || [];
            if (match.length === 1) {
                tokens = match[0] = match[0].slice(0);
                if (tokens.length > 2 && (token = tokens[0]).type === "ID" &&
                    context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {
                    context = (Expr.find["ID"](token.matches[0].replace(runescape, funescape), context) || [])[0];
                    if (!context) {
                        return results;
                    }
                    else if (compiled) {
                        context = context.parentNode;
                    }
                    selector = selector.slice(tokens.shift().value.length);
                }
                i = matchExpr["needsContext"].test(selector) ? 0 : tokens.length;
                while (i--) {
                    token = tokens[i];
                    if (Expr.relative[(type = token.type)]) {
                        break;
                    }
                    if ((find = Expr.find[type])) {
                        if ((seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context))) {
                            tokens.splice(i, 1);
                            selector = seed.length && toSelector(tokens);
                            if (!selector) {
                                push.apply(results, seed);
                                return results;
                            }
                            break;
                        }
                    }
                }
            }
            (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, !context || rsibling.test(selector) && testContext(context.parentNode) || context);
            return results;
        };
        support.sortStable = expando.split("").sort(sortOrder).join("") === expando;
        support.detectDuplicates = !!hasDuplicate;
        setDocument();
        support.sortDetached = assert(function (el) {
            return el.compareDocumentPosition(document.createElement("fieldset")) & 1;
        });
        if (!assert(function (el) {
            el.innerHTML = "<a href='#'></a>";
            return el.firstChild.getAttribute("href") === "#";
        })) {
            addHandle("type|href|height|width", function (elem, name, isXML) {
                if (!isXML) {
                    return elem.getAttribute(name, name.toLowerCase() === "type" ? 1 : 2);
                }
            });
        }
        if (!support.attributes || !assert(function (el) {
            el.innerHTML = "<input/>";
            el.firstChild.setAttribute("value", "");
            return el.firstChild.getAttribute("value") === "";
        })) {
            addHandle("value", function (elem, name, isXML) {
                if (!isXML && elem.nodeName.toLowerCase() === "input") {
                    return elem.defaultValue;
                }
            });
        }
        if (!assert(function (el) {
            return el.getAttribute("disabled") == null;
        })) {
            addHandle(booleans, function (elem, name, isXML) {
                var val;
                if (!isXML) {
                    return elem[name] === true ? name.toLowerCase() :
                        (val = elem.getAttributeNode(name)) && val.specified ?
                            val.value :
                            null;
                }
            });
        }
        return Sizzle;
    })(window);
    jQuery.find = Sizzle;
    jQuery.expr = Sizzle.selectors;
    jQuery.expr[":"] = jQuery.expr.pseudos;
    jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
    jQuery.text = Sizzle.getText;
    jQuery.isXMLDoc = Sizzle.isXML;
    jQuery.contains = Sizzle.contains;
    jQuery.escapeSelector = Sizzle.escape;
    var dir = function (elem, dir, until) {
        var matched = [], truncate = until !== undefined;
        while ((elem = elem[dir]) && elem.nodeType !== 9) {
            if (elem.nodeType === 1) {
                if (truncate && jQuery(elem).is(until)) {
                    break;
                }
                matched.push(elem);
            }
        }
        return matched;
    };
    var siblings = function (n, elem) {
        var matched = [];
        for (; n; n = n.nextSibling) {
            if (n.nodeType === 1 && n !== elem) {
                matched.push(n);
            }
        }
        return matched;
    };
    var rneedsContext = jQuery.expr.match.needsContext;
    var rsingleTag = (/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i);
    var risSimple = /^.[^:#\[\.,]*$/;
    function winnow(elements, qualifier, not) {
        if (jQuery.isFunction(qualifier)) {
            return jQuery.grep(elements, function (elem, i) {
                return !!qualifier.call(elem, i, elem) !== not;
            });
        }
        if (qualifier.nodeType) {
            return jQuery.grep(elements, function (elem) {
                return (elem === qualifier) !== not;
            });
        }
        if (typeof qualifier !== "string") {
            return jQuery.grep(elements, function (elem) {
                return (indexOf.call(qualifier, elem) > -1) !== not;
            });
        }
        if (risSimple.test(qualifier)) {
            return jQuery.filter(qualifier, elements, not);
        }
        qualifier = jQuery.filter(qualifier, elements);
        return jQuery.grep(elements, function (elem) {
            return (indexOf.call(qualifier, elem) > -1) !== not && elem.nodeType === 1;
        });
    }
    jQuery.filter = function (expr, elems, not) {
        var elem = elems[0];
        if (not) {
            expr = ":not(" + expr + ")";
        }
        if (elems.length === 1 && elem.nodeType === 1) {
            return jQuery.find.matchesSelector(elem, expr) ? [elem] : [];
        }
        return jQuery.find.matches(expr, jQuery.grep(elems, function (elem) {
            return elem.nodeType === 1;
        }));
    };
    jQuery.fn.extend({
        find: function (selector) {
            var i, ret, len = this.length, self = this;
            if (typeof selector !== "string") {
                return this.pushStack(jQuery(selector).filter(function () {
                    for (i = 0; i < len; i++) {
                        if (jQuery.contains(self[i], this)) {
                            return true;
                        }
                    }
                }));
            }
            ret = this.pushStack([]);
            for (i = 0; i < len; i++) {
                jQuery.find(selector, self[i], ret);
            }
            return len > 1 ? jQuery.uniqueSort(ret) : ret;
        },
        filter: function (selector) {
            return this.pushStack(winnow(this, selector || [], false));
        },
        not: function (selector) {
            return this.pushStack(winnow(this, selector || [], true));
        },
        is: function (selector) {
            return !!winnow(this, typeof selector === "string" && rneedsContext.test(selector) ?
                jQuery(selector) :
                selector || [], false).length;
        }
    });
    var rootjQuery, rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/, init = jQuery.fn.init = function (selector, context, root) {
        var match, elem;
        if (!selector) {
            return this;
        }
        root = root || rootjQuery;
        if (typeof selector === "string") {
            if (selector[0] === "<" &&
                selector[selector.length - 1] === ">" &&
                selector.length >= 3) {
                match = [null, selector, null];
            }
            else {
                match = rquickExpr.exec(selector);
            }
            if (match && (match[1] || !context)) {
                if (match[1]) {
                    context = context instanceof jQuery ? context[0] : context;
                    jQuery.merge(this, jQuery.parseHTML(match[1], context && context.nodeType ? context.ownerDocument || context : document, true));
                    if (rsingleTag.test(match[1]) && jQuery.isPlainObject(context)) {
                        for (match in context) {
                            if (jQuery.isFunction(this[match])) {
                                this[match](context[match]);
                            }
                            else {
                                this.attr(match, context[match]);
                            }
                        }
                    }
                    return this;
                }
                else {
                    elem = document.getElementById(match[2]);
                    if (elem) {
                        this[0] = elem;
                        this.length = 1;
                    }
                    return this;
                }
            }
            else if (!context || context.jquery) {
                return (context || root).find(selector);
            }
            else {
                return this.constructor(context).find(selector);
            }
        }
        else if (selector.nodeType) {
            this[0] = selector;
            this.length = 1;
            return this;
        }
        else if (jQuery.isFunction(selector)) {
            return root.ready !== undefined ?
                root.ready(selector) :
                selector(jQuery);
        }
        return jQuery.makeArray(selector, this);
    };
    init.prototype = jQuery.fn;
    rootjQuery = jQuery(document);
    var rparentsprev = /^(?:parents|prev(?:Until|All))/, guaranteedUnique = {
        children: true,
        contents: true,
        next: true,
        prev: true
    };
    jQuery.fn.extend({
        has: function (target) {
            var targets = jQuery(target, this), l = targets.length;
            return this.filter(function () {
                var i = 0;
                for (; i < l; i++) {
                    if (jQuery.contains(this, targets[i])) {
                        return true;
                    }
                }
            });
        },
        closest: function (selectors, context) {
            var cur, i = 0, l = this.length, matched = [], targets = typeof selectors !== "string" && jQuery(selectors);
            if (!rneedsContext.test(selectors)) {
                for (; i < l; i++) {
                    for (cur = this[i]; cur && cur !== context; cur = cur.parentNode) {
                        if (cur.nodeType < 11 && (targets ?
                            targets.index(cur) > -1 :
                            cur.nodeType === 1 &&
                                jQuery.find.matchesSelector(cur, selectors))) {
                            matched.push(cur);
                            break;
                        }
                    }
                }
            }
            return this.pushStack(matched.length > 1 ? jQuery.uniqueSort(matched) : matched);
        },
        index: function (elem) {
            if (!elem) {
                return (this[0] && this[0].parentNode) ? this.first().prevAll().length : -1;
            }
            if (typeof elem === "string") {
                return indexOf.call(jQuery(elem), this[0]);
            }
            return indexOf.call(this, elem.jquery ? elem[0] : elem);
        },
        add: function (selector, context) {
            return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(), jQuery(selector, context))));
        },
        addBack: function (selector) {
            return this.add(selector == null ?
                this.prevObject : this.prevObject.filter(selector));
        }
    });
    function sibling(cur, dir) {
        while ((cur = cur[dir]) && cur.nodeType !== 1) { }
        return cur;
    }
    jQuery.each({
        parent: function (elem) {
            var parent = elem.parentNode;
            return parent && parent.nodeType !== 11 ? parent : null;
        },
        parents: function (elem) {
            return dir(elem, "parentNode");
        },
        parentsUntil: function (elem, i, until) {
            return dir(elem, "parentNode", until);
        },
        next: function (elem) {
            return sibling(elem, "nextSibling");
        },
        prev: function (elem) {
            return sibling(elem, "previousSibling");
        },
        nextAll: function (elem) {
            return dir(elem, "nextSibling");
        },
        prevAll: function (elem) {
            return dir(elem, "previousSibling");
        },
        nextUntil: function (elem, i, until) {
            return dir(elem, "nextSibling", until);
        },
        prevUntil: function (elem, i, until) {
            return dir(elem, "previousSibling", until);
        },
        siblings: function (elem) {
            return siblings((elem.parentNode || {}).firstChild, elem);
        },
        children: function (elem) {
            return siblings(elem.firstChild);
        },
        contents: function (elem) {
            return elem.contentDocument || jQuery.merge([], elem.childNodes);
        }
    }, function (name, fn) {
        jQuery.fn[name] = function (until, selector) {
            var matched = jQuery.map(this, fn, until);
            if (name.slice(-5) !== "Until") {
                selector = until;
            }
            if (selector && typeof selector === "string") {
                matched = jQuery.filter(selector, matched);
            }
            if (this.length > 1) {
                if (!guaranteedUnique[name]) {
                    jQuery.uniqueSort(matched);
                }
                if (rparentsprev.test(name)) {
                    matched.reverse();
                }
            }
            return this.pushStack(matched);
        };
    });
    var rnothtmlwhite = (/[^\x20\t\r\n\f]+/g);
    function createOptions(options) {
        var object = {};
        jQuery.each(options.match(rnothtmlwhite) || [], function (_, flag) {
            object[flag] = true;
        });
        return object;
    }
    jQuery.Callbacks = function (options) {
        options = typeof options === "string" ?
            createOptions(options) :
            jQuery.extend({}, options);
        var firing, memory, fired, locked, list = [], queue = [], firingIndex = -1, fire = function () {
            locked = options.once;
            fired = firing = true;
            for (; queue.length; firingIndex = -1) {
                memory = queue.shift();
                while (++firingIndex < list.length) {
                    if (list[firingIndex].apply(memory[0], memory[1]) === false &&
                        options.stopOnFalse) {
                        firingIndex = list.length;
                        memory = false;
                    }
                }
            }
            if (!options.memory) {
                memory = false;
            }
            firing = false;
            if (locked) {
                if (memory) {
                    list = [];
                }
                else {
                    list = "";
                }
            }
        }, self = {
            add: function () {
                if (list) {
                    if (memory && !firing) {
                        firingIndex = list.length - 1;
                        queue.push(memory);
                    }
                    (function add(args) {
                        jQuery.each(args, function (_, arg) {
                            if (jQuery.isFunction(arg)) {
                                if (!options.unique || !self.has(arg)) {
                                    list.push(arg);
                                }
                            }
                            else if (arg && arg.length && jQuery.type(arg) !== "string") {
                                add(arg);
                            }
                        });
                    })(arguments);
                    if (memory && !firing) {
                        fire();
                    }
                }
                return this;
            },
            remove: function () {
                jQuery.each(arguments, function (_, arg) {
                    var index;
                    while ((index = jQuery.inArray(arg, list, index)) > -1) {
                        list.splice(index, 1);
                        if (index <= firingIndex) {
                            firingIndex--;
                        }
                    }
                });
                return this;
            },
            has: function (fn) {
                return fn ?
                    jQuery.inArray(fn, list) > -1 :
                    list.length > 0;
            },
            empty: function () {
                if (list) {
                    list = [];
                }
                return this;
            },
            disable: function () {
                locked = queue = [];
                list = memory = "";
                return this;
            },
            disabled: function () {
                return !list;
            },
            lock: function () {
                locked = queue = [];
                if (!memory && !firing) {
                    list = memory = "";
                }
                return this;
            },
            locked: function () {
                return !!locked;
            },
            fireWith: function (context, args) {
                if (!locked) {
                    args = args || [];
                    args = [context, args.slice ? args.slice() : args];
                    queue.push(args);
                    if (!firing) {
                        fire();
                    }
                }
                return this;
            },
            fire: function () {
                self.fireWith(this, arguments);
                return this;
            },
            fired: function () {
                return !!fired;
            }
        };
        return self;
    };
    function Identity(v) {
        return v;
    }
    function Thrower(ex) {
        throw ex;
    }
    function adoptValue(value, resolve, reject) {
        var method;
        try {
            if (value && jQuery.isFunction((method = value.promise))) {
                method.call(value).done(resolve).fail(reject);
            }
            else if (value && jQuery.isFunction((method = value.then))) {
                method.call(value, resolve, reject);
            }
            else {
                resolve.call(undefined, value);
            }
        }
        catch (value) {
            reject.call(undefined, value);
        }
    }
    jQuery.extend({
        Deferred: function (func) {
            var tuples = [
                ["notify", "progress", jQuery.Callbacks("memory"),
                    jQuery.Callbacks("memory"), 2],
                ["resolve", "done", jQuery.Callbacks("once memory"),
                    jQuery.Callbacks("once memory"), 0, "resolved"],
                ["reject", "fail", jQuery.Callbacks("once memory"),
                    jQuery.Callbacks("once memory"), 1, "rejected"]
            ], state = "pending", promise = {
                state: function () {
                    return state;
                },
                always: function () {
                    deferred.done(arguments).fail(arguments);
                    return this;
                },
                "catch": function (fn) {
                    return promise.then(null, fn);
                },
                pipe: function () {
                    var fns = arguments;
                    return jQuery.Deferred(function (newDefer) {
                        jQuery.each(tuples, function (i, tuple) {
                            var fn = jQuery.isFunction(fns[tuple[4]]) && fns[tuple[4]];
                            deferred[tuple[1]](function () {
                                var returned = fn && fn.apply(this, arguments);
                                if (returned && jQuery.isFunction(returned.promise)) {
                                    returned.promise()
                                        .progress(newDefer.notify)
                                        .done(newDefer.resolve)
                                        .fail(newDefer.reject);
                                }
                                else {
                                    newDefer[tuple[0] + "With"](this, fn ? [returned] : arguments);
                                }
                            });
                        });
                        fns = null;
                    }).promise();
                },
                then: function (onFulfilled, onRejected, onProgress) {
                    var maxDepth = 0;
                    function resolve(depth, deferred, handler, special) {
                        return function () {
                            var that = this, args = arguments, mightThrow = function () {
                                var returned, then;
                                if (depth < maxDepth) {
                                    return;
                                }
                                returned = handler.apply(that, args);
                                if (returned === deferred.promise()) {
                                    throw new TypeError("Thenable self-resolution");
                                }
                                then = returned &&
                                    (typeof returned === "object" ||
                                        typeof returned === "function") &&
                                    returned.then;
                                if (jQuery.isFunction(then)) {
                                    if (special) {
                                        then.call(returned, resolve(maxDepth, deferred, Identity, special), resolve(maxDepth, deferred, Thrower, special));
                                    }
                                    else {
                                        maxDepth++;
                                        then.call(returned, resolve(maxDepth, deferred, Identity, special), resolve(maxDepth, deferred, Thrower, special), resolve(maxDepth, deferred, Identity, deferred.notifyWith));
                                    }
                                }
                                else {
                                    if (handler !== Identity) {
                                        that = undefined;
                                        args = [returned];
                                    }
                                    (special || deferred.resolveWith)(that, args);
                                }
                            }, process = special ?
                                mightThrow :
                                function () {
                                    try {
                                        mightThrow();
                                    }
                                    catch (e) {
                                        if (jQuery.Deferred.exceptionHook) {
                                            jQuery.Deferred.exceptionHook(e, process.stackTrace);
                                        }
                                        if (depth + 1 >= maxDepth) {
                                            if (handler !== Thrower) {
                                                that = undefined;
                                                args = [e];
                                            }
                                            deferred.rejectWith(that, args);
                                        }
                                    }
                                };
                            if (depth) {
                                process();
                            }
                            else {
                                if (jQuery.Deferred.getStackHook) {
                                    process.stackTrace = jQuery.Deferred.getStackHook();
                                }
                                window.setTimeout(process);
                            }
                        };
                    }
                    return jQuery.Deferred(function (newDefer) {
                        tuples[0][3].add(resolve(0, newDefer, jQuery.isFunction(onProgress) ?
                            onProgress :
                            Identity, newDefer.notifyWith));
                        tuples[1][3].add(resolve(0, newDefer, jQuery.isFunction(onFulfilled) ?
                            onFulfilled :
                            Identity));
                        tuples[2][3].add(resolve(0, newDefer, jQuery.isFunction(onRejected) ?
                            onRejected :
                            Thrower));
                    }).promise();
                },
                promise: function (obj) {
                    return obj != null ? jQuery.extend(obj, promise) : promise;
                }
            }, deferred = {};
            jQuery.each(tuples, function (i, tuple) {
                var list = tuple[2], stateString = tuple[5];
                promise[tuple[1]] = list.add;
                if (stateString) {
                    list.add(function () {
                        state = stateString;
                    }, tuples[3 - i][2].disable, tuples[0][2].lock);
                }
                list.add(tuple[3].fire);
                deferred[tuple[0]] = function () {
                    deferred[tuple[0] + "With"](this === deferred ? undefined : this, arguments);
                    return this;
                };
                deferred[tuple[0] + "With"] = list.fireWith;
            });
            promise.promise(deferred);
            if (func) {
                func.call(deferred, deferred);
            }
            return deferred;
        },
        when: function (singleValue) {
            var remaining = arguments.length, i = remaining, resolveContexts = Array(i), resolveValues = slice.call(arguments), master = jQuery.Deferred(), updateFunc = function (i) {
                return function (value) {
                    resolveContexts[i] = this;
                    resolveValues[i] = arguments.length > 1 ? slice.call(arguments) : value;
                    if (!(--remaining)) {
                        master.resolveWith(resolveContexts, resolveValues);
                    }
                };
            };
            if (remaining <= 1) {
                adoptValue(singleValue, master.done(updateFunc(i)).resolve, master.reject);
                if (master.state() === "pending" ||
                    jQuery.isFunction(resolveValues[i] && resolveValues[i].then)) {
                    return master.then();
                }
            }
            while (i--) {
                adoptValue(resolveValues[i], updateFunc(i), master.reject);
            }
            return master.promise();
        }
    });
    var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
    jQuery.Deferred.exceptionHook = function (error, stack) {
        if (window.console && window.console.warn && error && rerrorNames.test(error.name)) {
            window.console.warn("jQuery.Deferred exception: " + error.message, error.stack, stack);
        }
    };
    jQuery.readyException = function (error) {
        window.setTimeout(function () {
            throw error;
        });
    };
    var readyList = jQuery.Deferred();
    jQuery.fn.ready = function (fn) {
        readyList
            .then(fn)["catch"](function (error) {
            jQuery.readyException(error);
        });
        return this;
    };
    jQuery.extend({
        isReady: false,
        readyWait: 1,
        holdReady: function (hold) {
            if (hold) {
                jQuery.readyWait++;
            }
            else {
                jQuery.ready(true);
            }
        },
        ready: function (wait) {
            if (wait === true ? --jQuery.readyWait : jQuery.isReady) {
                return;
            }
            jQuery.isReady = true;
            if (wait !== true && --jQuery.readyWait > 0) {
                return;
            }
            readyList.resolveWith(document, [jQuery]);
        }
    });
    jQuery.ready.then = readyList.then;
    function completed() {
        document.removeEventListener("DOMContentLoaded", completed);
        window.removeEventListener("load", completed);
        jQuery.ready();
    }
    if (document.readyState === "complete" ||
        (document.readyState !== "loading" && !document.documentElement.doScroll)) {
        window.setTimeout(jQuery.ready);
    }
    else {
        document.addEventListener("DOMContentLoaded", completed);
        window.addEventListener("load", completed);
    }
    var access = function (elems, fn, key, value, chainable, emptyGet, raw) {
        var i = 0, len = elems.length, bulk = key == null;
        if (jQuery.type(key) === "object") {
            chainable = true;
            for (i in key) {
                access(elems, fn, i, key[i], true, emptyGet, raw);
            }
        }
        else if (value !== undefined) {
            chainable = true;
            if (!jQuery.isFunction(value)) {
                raw = true;
            }
            if (bulk) {
                if (raw) {
                    fn.call(elems, value);
                    fn = null;
                }
                else {
                    bulk = fn;
                    fn = function (elem, key, value) {
                        return bulk.call(jQuery(elem), value);
                    };
                }
            }
            if (fn) {
                for (; i < len; i++) {
                    fn(elems[i], key, raw ?
                        value :
                        value.call(elems[i], i, fn(elems[i], key)));
                }
            }
        }
        if (chainable) {
            return elems;
        }
        if (bulk) {
            return fn.call(elems);
        }
        return len ? fn(elems[0], key) : emptyGet;
    };
    var acceptData = function (owner) {
        return owner.nodeType === 1 || owner.nodeType === 9 || !(+owner.nodeType);
    };
    function Data() {
        this.expando = jQuery.expando + Data.uid++;
    }
    Data.uid = 1;
    Data.prototype = {
        cache: function (owner) {
            var value = owner[this.expando];
            if (!value) {
                value = {};
                if (acceptData(owner)) {
                    if (owner.nodeType) {
                        owner[this.expando] = value;
                    }
                    else {
                        Object.defineProperty(owner, this.expando, {
                            value: value,
                            configurable: true
                        });
                    }
                }
            }
            return value;
        },
        set: function (owner, data, value) {
            var prop, cache = this.cache(owner);
            if (typeof data === "string") {
                cache[jQuery.camelCase(data)] = value;
            }
            else {
                for (prop in data) {
                    cache[jQuery.camelCase(prop)] = data[prop];
                }
            }
            return cache;
        },
        get: function (owner, key) {
            return key === undefined ?
                this.cache(owner) :
                owner[this.expando] && owner[this.expando][jQuery.camelCase(key)];
        },
        access: function (owner, key, value) {
            if (key === undefined ||
                ((key && typeof key === "string") && value === undefined)) {
                return this.get(owner, key);
            }
            this.set(owner, key, value);
            return value !== undefined ? value : key;
        },
        remove: function (owner, key) {
            var i, cache = owner[this.expando];
            if (cache === undefined) {
                return;
            }
            if (key !== undefined) {
                if (jQuery.isArray(key)) {
                    key = key.map(jQuery.camelCase);
                }
                else {
                    key = jQuery.camelCase(key);
                    key = key in cache ?
                        [key] :
                        (key.match(rnothtmlwhite) || []);
                }
                i = key.length;
                while (i--) {
                    delete cache[key[i]];
                }
            }
            if (key === undefined || jQuery.isEmptyObject(cache)) {
                if (owner.nodeType) {
                    owner[this.expando] = undefined;
                }
                else {
                    delete owner[this.expando];
                }
            }
        },
        hasData: function (owner) {
            var cache = owner[this.expando];
            return cache !== undefined && !jQuery.isEmptyObject(cache);
        }
    };
    var dataPriv = new Data();
    var dataUser = new Data();
    var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, rmultiDash = /[A-Z]/g;
    function getData(data) {
        if (data === "true") {
            return true;
        }
        if (data === "false") {
            return false;
        }
        if (data === "null") {
            return null;
        }
        if (data === +data + "") {
            return +data;
        }
        if (rbrace.test(data)) {
            return JSON.parse(data);
        }
        return data;
    }
    function dataAttr(elem, key, data) {
        var name;
        if (data === undefined && elem.nodeType === 1) {
            name = "data-" + key.replace(rmultiDash, "-$&").toLowerCase();
            data = elem.getAttribute(name);
            if (typeof data === "string") {
                try {
                    data = getData(data);
                }
                catch (e) { }
                dataUser.set(elem, key, data);
            }
            else {
                data = undefined;
            }
        }
        return data;
    }
    jQuery.extend({
        hasData: function (elem) {
            return dataUser.hasData(elem) || dataPriv.hasData(elem);
        },
        data: function (elem, name, data) {
            return dataUser.access(elem, name, data);
        },
        removeData: function (elem, name) {
            dataUser.remove(elem, name);
        },
        _data: function (elem, name, data) {
            return dataPriv.access(elem, name, data);
        },
        _removeData: function (elem, name) {
            dataPriv.remove(elem, name);
        }
    });
    jQuery.fn.extend({
        data: function (key, value) {
            var i, name, data, elem = this[0], attrs = elem && elem.attributes;
            if (key === undefined) {
                if (this.length) {
                    data = dataUser.get(elem);
                    if (elem.nodeType === 1 && !dataPriv.get(elem, "hasDataAttrs")) {
                        i = attrs.length;
                        while (i--) {
                            if (attrs[i]) {
                                name = attrs[i].name;
                                if (name.indexOf("data-") === 0) {
                                    name = jQuery.camelCase(name.slice(5));
                                    dataAttr(elem, name, data[name]);
                                }
                            }
                        }
                        dataPriv.set(elem, "hasDataAttrs", true);
                    }
                }
                return data;
            }
            if (typeof key === "object") {
                return this.each(function () {
                    dataUser.set(this, key);
                });
            }
            return access(this, function (value) {
                var data;
                if (elem && value === undefined) {
                    data = dataUser.get(elem, key);
                    if (data !== undefined) {
                        return data;
                    }
                    data = dataAttr(elem, key);
                    if (data !== undefined) {
                        return data;
                    }
                    return;
                }
                this.each(function () {
                    dataUser.set(this, key, value);
                });
            }, null, value, arguments.length > 1, null, true);
        },
        removeData: function (key) {
            return this.each(function () {
                dataUser.remove(this, key);
            });
        }
    });
    jQuery.extend({
        queue: function (elem, type, data) {
            var queue;
            if (elem) {
                type = (type || "fx") + "queue";
                queue = dataPriv.get(elem, type);
                if (data) {
                    if (!queue || jQuery.isArray(data)) {
                        queue = dataPriv.access(elem, type, jQuery.makeArray(data));
                    }
                    else {
                        queue.push(data);
                    }
                }
                return queue || [];
            }
        },
        dequeue: function (elem, type) {
            type = type || "fx";
            var queue = jQuery.queue(elem, type), startLength = queue.length, fn = queue.shift(), hooks = jQuery._queueHooks(elem, type), next = function () {
                jQuery.dequeue(elem, type);
            };
            if (fn === "inprogress") {
                fn = queue.shift();
                startLength--;
            }
            if (fn) {
                if (type === "fx") {
                    queue.unshift("inprogress");
                }
                delete hooks.stop;
                fn.call(elem, next, hooks);
            }
            if (!startLength && hooks) {
                hooks.empty.fire();
            }
        },
        _queueHooks: function (elem, type) {
            var key = type + "queueHooks";
            return dataPriv.get(elem, key) || dataPriv.access(elem, key, {
                empty: jQuery.Callbacks("once memory").add(function () {
                    dataPriv.remove(elem, [type + "queue", key]);
                })
            });
        }
    });
    jQuery.fn.extend({
        queue: function (type, data) {
            var setter = 2;
            if (typeof type !== "string") {
                data = type;
                type = "fx";
                setter--;
            }
            if (arguments.length < setter) {
                return jQuery.queue(this[0], type);
            }
            return data === undefined ?
                this :
                this.each(function () {
                    var queue = jQuery.queue(this, type, data);
                    jQuery._queueHooks(this, type);
                    if (type === "fx" && queue[0] !== "inprogress") {
                        jQuery.dequeue(this, type);
                    }
                });
        },
        dequeue: function (type) {
            return this.each(function () {
                jQuery.dequeue(this, type);
            });
        },
        clearQueue: function (type) {
            return this.queue(type || "fx", []);
        },
        promise: function (type, obj) {
            var tmp, count = 1, defer = jQuery.Deferred(), elements = this, i = this.length, resolve = function () {
                if (!(--count)) {
                    defer.resolveWith(elements, [elements]);
                }
            };
            if (typeof type !== "string") {
                obj = type;
                type = undefined;
            }
            type = type || "fx";
            while (i--) {
                tmp = dataPriv.get(elements[i], type + "queueHooks");
                if (tmp && tmp.empty) {
                    count++;
                    tmp.empty.add(resolve);
                }
            }
            resolve();
            return defer.promise(obj);
        }
    });
    var pnum = (/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;
    var rcssNum = new RegExp("^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i");
    var cssExpand = ["Top", "Right", "Bottom", "Left"];
    var isHiddenWithinTree = function (elem, el) {
        elem = el || elem;
        return elem.style.display === "none" ||
            elem.style.display === "" &&
                jQuery.contains(elem.ownerDocument, elem) &&
                jQuery.css(elem, "display") === "none";
    };
    var swap = function (elem, options, callback, args) {
        var ret, name, old = {};
        for (name in options) {
            old[name] = elem.style[name];
            elem.style[name] = options[name];
        }
        ret = callback.apply(elem, args || []);
        for (name in options) {
            elem.style[name] = old[name];
        }
        return ret;
    };
    function adjustCSS(elem, prop, valueParts, tween) {
        var adjusted, scale = 1, maxIterations = 20, currentValue = tween ?
            function () {
                return tween.cur();
            } :
            function () {
                return jQuery.css(elem, prop, "");
            }, initial = currentValue(), unit = valueParts && valueParts[3] || (jQuery.cssNumber[prop] ? "" : "px"), initialInUnit = (jQuery.cssNumber[prop] || unit !== "px" && +initial) &&
            rcssNum.exec(jQuery.css(elem, prop));
        if (initialInUnit && initialInUnit[3] !== unit) {
            unit = unit || initialInUnit[3];
            valueParts = valueParts || [];
            initialInUnit = +initial || 1;
            do {
                scale = scale || ".5";
                initialInUnit = initialInUnit / scale;
                jQuery.style(elem, prop, initialInUnit + unit);
            } while (scale !== (scale = currentValue() / initial) && scale !== 1 && --maxIterations);
        }
        if (valueParts) {
            initialInUnit = +initialInUnit || +initial || 0;
            adjusted = valueParts[1] ?
                initialInUnit + (valueParts[1] + 1) * valueParts[2] :
                +valueParts[2];
            if (tween) {
                tween.unit = unit;
                tween.start = initialInUnit;
                tween.end = adjusted;
            }
        }
        return adjusted;
    }
    var defaultDisplayMap = {};
    function getDefaultDisplay(elem) {
        var temp, doc = elem.ownerDocument, nodeName = elem.nodeName, display = defaultDisplayMap[nodeName];
        if (display) {
            return display;
        }
        temp = doc.body.appendChild(doc.createElement(nodeName));
        display = jQuery.css(temp, "display");
        temp.parentNode.removeChild(temp);
        if (display === "none") {
            display = "block";
        }
        defaultDisplayMap[nodeName] = display;
        return display;
    }
    function showHide(elements, show) {
        var display, elem, values = [], index = 0, length = elements.length;
        for (; index < length; index++) {
            elem = elements[index];
            if (!elem.style) {
                continue;
            }
            display = elem.style.display;
            if (show) {
                if (display === "none") {
                    values[index] = dataPriv.get(elem, "display") || null;
                    if (!values[index]) {
                        elem.style.display = "";
                    }
                }
                if (elem.style.display === "" && isHiddenWithinTree(elem)) {
                    values[index] = getDefaultDisplay(elem);
                }
            }
            else {
                if (display !== "none") {
                    values[index] = "none";
                    dataPriv.set(elem, "display", display);
                }
            }
        }
        for (index = 0; index < length; index++) {
            if (values[index] != null) {
                elements[index].style.display = values[index];
            }
        }
        return elements;
    }
    jQuery.fn.extend({
        show: function () {
            return showHide(this, true);
        },
        hide: function () {
            return showHide(this);
        },
        toggle: function (state) {
            if (typeof state === "boolean") {
                return state ? this.show() : this.hide();
            }
            return this.each(function () {
                if (isHiddenWithinTree(this)) {
                    jQuery(this).show();
                }
                else {
                    jQuery(this).hide();
                }
            });
        }
    });
    var rcheckableType = (/^(?:checkbox|radio)$/i);
    var rtagName = (/<([a-z][^\/\0>\x20\t\r\n\f]+)/i);
    var rscriptType = (/^$|\/(?:java|ecma)script/i);
    var wrapMap = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""]
    };
    wrapMap.optgroup = wrapMap.option;
    wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
    wrapMap.th = wrapMap.td;
    function getAll(context, tag) {
        var ret;
        if (typeof context.getElementsByTagName !== "undefined") {
            ret = context.getElementsByTagName(tag || "*");
        }
        else if (typeof context.querySelectorAll !== "undefined") {
            ret = context.querySelectorAll(tag || "*");
        }
        else {
            ret = [];
        }
        if (tag === undefined || tag && jQuery.nodeName(context, tag)) {
            return jQuery.merge([context], ret);
        }
        return ret;
    }
    function setGlobalEval(elems, refElements) {
        var i = 0, l = elems.length;
        for (; i < l; i++) {
            dataPriv.set(elems[i], "globalEval", !refElements || dataPriv.get(refElements[i], "globalEval"));
        }
    }
    var rhtml = /<|&#?\w+;/;
    function buildFragment(elems, context, scripts, selection, ignored) {
        var elem, tmp, tag, wrap, contains, j, fragment = context.createDocumentFragment(), nodes = [], i = 0, l = elems.length;
        for (; i < l; i++) {
            elem = elems[i];
            if (elem || elem === 0) {
                if (jQuery.type(elem) === "object") {
                    jQuery.merge(nodes, elem.nodeType ? [elem] : elem);
                }
                else if (!rhtml.test(elem)) {
                    nodes.push(context.createTextNode(elem));
                }
                else {
                    tmp = tmp || fragment.appendChild(context.createElement("div"));
                    tag = (rtagName.exec(elem) || ["", ""])[1].toLowerCase();
                    wrap = wrapMap[tag] || wrapMap._default;
                    tmp.innerHTML = wrap[1] + jQuery.htmlPrefilter(elem) + wrap[2];
                    j = wrap[0];
                    while (j--) {
                        tmp = tmp.lastChild;
                    }
                    jQuery.merge(nodes, tmp.childNodes);
                    tmp = fragment.firstChild;
                    tmp.textContent = "";
                }
            }
        }
        fragment.textContent = "";
        i = 0;
        while ((elem = nodes[i++])) {
            if (selection && jQuery.inArray(elem, selection) > -1) {
                if (ignored) {
                    ignored.push(elem);
                }
                continue;
            }
            contains = jQuery.contains(elem.ownerDocument, elem);
            tmp = getAll(fragment.appendChild(elem), "script");
            if (contains) {
                setGlobalEval(tmp);
            }
            if (scripts) {
                j = 0;
                while ((elem = tmp[j++])) {
                    if (rscriptType.test(elem.type || "")) {
                        scripts.push(elem);
                    }
                }
            }
        }
        return fragment;
    }
    (function () {
        var fragment = document.createDocumentFragment(), div = fragment.appendChild(document.createElement("div")), input = document.createElement("input");
        input.setAttribute("type", "radio");
        input.setAttribute("checked", "checked");
        input.setAttribute("name", "t");
        div.appendChild(input);
        support.checkClone = div.cloneNode(true).cloneNode(true).lastChild.checked;
        div.innerHTML = "<textarea>x</textarea>";
        support.noCloneChecked = !!div.cloneNode(true).lastChild.defaultValue;
    })();
    var documentElement = document.documentElement;
    var rkeyEvent = /^key/, rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, rtypenamespace = /^([^.]*)(?:\.(.+)|)/;
    function returnTrue() {
        return true;
    }
    function returnFalse() {
        return false;
    }
    function safeActiveElement() {
        try {
            return document.activeElement;
        }
        catch (err) { }
    }
    function on(elem, types, selector, data, fn, one) {
        var origFn, type;
        if (typeof types === "object") {
            if (typeof selector !== "string") {
                data = data || selector;
                selector = undefined;
            }
            for (type in types) {
                on(elem, type, selector, data, types[type], one);
            }
            return elem;
        }
        if (data == null && fn == null) {
            fn = selector;
            data = selector = undefined;
        }
        else if (fn == null) {
            if (typeof selector === "string") {
                fn = data;
                data = undefined;
            }
            else {
                fn = data;
                data = selector;
                selector = undefined;
            }
        }
        if (fn === false) {
            fn = returnFalse;
        }
        else if (!fn) {
            return elem;
        }
        if (one === 1) {
            origFn = fn;
            fn = function (event) {
                jQuery().off(event);
                return origFn.apply(this, arguments);
            };
            fn.guid = origFn.guid || (origFn.guid = jQuery.guid++);
        }
        return elem.each(function () {
            jQuery.event.add(this, types, fn, data, selector);
        });
    }
    jQuery.event = {
        global: {},
        add: function (elem, types, handler, data, selector) {
            var handleObjIn, eventHandle, tmp, events, t, handleObj, special, handlers, type, namespaces, origType, elemData = dataPriv.get(elem);
            if (!elemData) {
                return;
            }
            if (handler.handler) {
                handleObjIn = handler;
                handler = handleObjIn.handler;
                selector = handleObjIn.selector;
            }
            if (selector) {
                jQuery.find.matchesSelector(documentElement, selector);
            }
            if (!handler.guid) {
                handler.guid = jQuery.guid++;
            }
            if (!(events = elemData.events)) {
                events = elemData.events = {};
            }
            if (!(eventHandle = elemData.handle)) {
                eventHandle = elemData.handle = function (e) {
                    return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ?
                        jQuery.event.dispatch.apply(elem, arguments) : undefined;
                };
            }
            types = (types || "").match(rnothtmlwhite) || [""];
            t = types.length;
            while (t--) {
                tmp = rtypenamespace.exec(types[t]) || [];
                type = origType = tmp[1];
                namespaces = (tmp[2] || "").split(".").sort();
                if (!type) {
                    continue;
                }
                special = jQuery.event.special[type] || {};
                type = (selector ? special.delegateType : special.bindType) || type;
                special = jQuery.event.special[type] || {};
                handleObj = jQuery.extend({
                    type: type,
                    origType: origType,
                    data: data,
                    handler: handler,
                    guid: handler.guid,
                    selector: selector,
                    needsContext: selector && jQuery.expr.match.needsContext.test(selector),
                    namespace: namespaces.join(".")
                }, handleObjIn);
                if (!(handlers = events[type])) {
                    handlers = events[type] = [];
                    handlers.delegateCount = 0;
                    if (!special.setup ||
                        special.setup.call(elem, data, namespaces, eventHandle) === false) {
                        if (elem.addEventListener) {
                            elem.addEventListener(type, eventHandle);
                        }
                    }
                }
                if (special.add) {
                    special.add.call(elem, handleObj);
                    if (!handleObj.handler.guid) {
                        handleObj.handler.guid = handler.guid;
                    }
                }
                if (selector) {
                    handlers.splice(handlers.delegateCount++, 0, handleObj);
                }
                else {
                    handlers.push(handleObj);
                }
                jQuery.event.global[type] = true;
            }
        },
        remove: function (elem, types, handler, selector, mappedTypes) {
            var j, origCount, tmp, events, t, handleObj, special, handlers, type, namespaces, origType, elemData = dataPriv.hasData(elem) && dataPriv.get(elem);
            if (!elemData || !(events = elemData.events)) {
                return;
            }
            types = (types || "").match(rnothtmlwhite) || [""];
            t = types.length;
            while (t--) {
                tmp = rtypenamespace.exec(types[t]) || [];
                type = origType = tmp[1];
                namespaces = (tmp[2] || "").split(".").sort();
                if (!type) {
                    for (type in events) {
                        jQuery.event.remove(elem, type + types[t], handler, selector, true);
                    }
                    continue;
                }
                special = jQuery.event.special[type] || {};
                type = (selector ? special.delegateType : special.bindType) || type;
                handlers = events[type] || [];
                tmp = tmp[2] &&
                    new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)");
                origCount = j = handlers.length;
                while (j--) {
                    handleObj = handlers[j];
                    if ((mappedTypes || origType === handleObj.origType) &&
                        (!handler || handler.guid === handleObj.guid) &&
                        (!tmp || tmp.test(handleObj.namespace)) &&
                        (!selector || selector === handleObj.selector ||
                            selector === "**" && handleObj.selector)) {
                        handlers.splice(j, 1);
                        if (handleObj.selector) {
                            handlers.delegateCount--;
                        }
                        if (special.remove) {
                            special.remove.call(elem, handleObj);
                        }
                    }
                }
                if (origCount && !handlers.length) {
                    if (!special.teardown ||
                        special.teardown.call(elem, namespaces, elemData.handle) === false) {
                        jQuery.removeEvent(elem, type, elemData.handle);
                    }
                    delete events[type];
                }
            }
            if (jQuery.isEmptyObject(events)) {
                dataPriv.remove(elem, "handle events");
            }
        },
        dispatch: function (nativeEvent) {
            var event = jQuery.event.fix(nativeEvent);
            var i, j, ret, matched, handleObj, handlerQueue, args = new Array(arguments.length), handlers = (dataPriv.get(this, "events") || {})[event.type] || [], special = jQuery.event.special[event.type] || {};
            args[0] = event;
            for (i = 1; i < arguments.length; i++) {
                args[i] = arguments[i];
            }
            event.delegateTarget = this;
            if (special.preDispatch && special.preDispatch.call(this, event) === false) {
                return;
            }
            handlerQueue = jQuery.event.handlers.call(this, event, handlers);
            i = 0;
            while ((matched = handlerQueue[i++]) && !event.isPropagationStopped()) {
                event.currentTarget = matched.elem;
                j = 0;
                while ((handleObj = matched.handlers[j++]) &&
                    !event.isImmediatePropagationStopped()) {
                    if (!event.rnamespace || event.rnamespace.test(handleObj.namespace)) {
                        event.handleObj = handleObj;
                        event.data = handleObj.data;
                        ret = ((jQuery.event.special[handleObj.origType] || {}).handle ||
                            handleObj.handler).apply(matched.elem, args);
                        if (ret !== undefined) {
                            if ((event.result = ret) === false) {
                                event.preventDefault();
                                event.stopPropagation();
                            }
                        }
                    }
                }
            }
            if (special.postDispatch) {
                special.postDispatch.call(this, event);
            }
            return event.result;
        },
        handlers: function (event, handlers) {
            var i, handleObj, sel, matchedHandlers, matchedSelectors, handlerQueue = [], delegateCount = handlers.delegateCount, cur = event.target;
            if (delegateCount &&
                cur.nodeType &&
                !(event.type === "click" && event.button >= 1)) {
                for (; cur !== this; cur = cur.parentNode || this) {
                    if (cur.nodeType === 1 && !(event.type === "click" && cur.disabled === true)) {
                        matchedHandlers = [];
                        matchedSelectors = {};
                        for (i = 0; i < delegateCount; i++) {
                            handleObj = handlers[i];
                            sel = handleObj.selector + " ";
                            if (matchedSelectors[sel] === undefined) {
                                matchedSelectors[sel] = handleObj.needsContext ?
                                    jQuery(sel, this).index(cur) > -1 :
                                    jQuery.find(sel, this, null, [cur]).length;
                            }
                            if (matchedSelectors[sel]) {
                                matchedHandlers.push(handleObj);
                            }
                        }
                        if (matchedHandlers.length) {
                            handlerQueue.push({ elem: cur, handlers: matchedHandlers });
                        }
                    }
                }
            }
            cur = this;
            if (delegateCount < handlers.length) {
                handlerQueue.push({ elem: cur, handlers: handlers.slice(delegateCount) });
            }
            return handlerQueue;
        },
        addProp: function (name, hook) {
            Object.defineProperty(jQuery.Event.prototype, name, {
                enumerable: true,
                configurable: true,
                get: jQuery.isFunction(hook) ?
                    function () {
                        if (this.originalEvent) {
                            return hook(this.originalEvent);
                        }
                    } :
                    function () {
                        if (this.originalEvent) {
                            return this.originalEvent[name];
                        }
                    },
                set: function (value) {
                    Object.defineProperty(this, name, {
                        enumerable: true,
                        configurable: true,
                        writable: true,
                        value: value
                    });
                }
            });
        },
        fix: function (originalEvent) {
            return originalEvent[jQuery.expando] ?
                originalEvent :
                new jQuery.Event(originalEvent);
        },
        special: {
            load: {
                noBubble: true
            },
            focus: {
                trigger: function () {
                    if (this !== safeActiveElement() && this.focus) {
                        this.focus();
                        return false;
                    }
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function () {
                    if (this === safeActiveElement() && this.blur) {
                        this.blur();
                        return false;
                    }
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function () {
                    if (this.type === "checkbox" && this.click && jQuery.nodeName(this, "input")) {
                        this.click();
                        return false;
                    }
                },
                _default: function (event) {
                    return jQuery.nodeName(event.target, "a");
                }
            },
            beforeunload: {
                postDispatch: function (event) {
                    if (event.result !== undefined && event.originalEvent) {
                        event.originalEvent.returnValue = event.result;
                    }
                }
            }
        }
    };
    jQuery.removeEvent = function (elem, type, handle) {
        if (elem.removeEventListener) {
            elem.removeEventListener(type, handle);
        }
    };
    jQuery.Event = function (src, props) {
        if (!(this instanceof jQuery.Event)) {
            return new jQuery.Event(src, props);
        }
        if (src && src.type) {
            this.originalEvent = src;
            this.type = src.type;
            this.isDefaultPrevented = src.defaultPrevented ||
                src.defaultPrevented === undefined &&
                    src.returnValue === false ?
                returnTrue :
                returnFalse;
            this.target = (src.target && src.target.nodeType === 3) ?
                src.target.parentNode :
                src.target;
            this.currentTarget = src.currentTarget;
            this.relatedTarget = src.relatedTarget;
        }
        else {
            this.type = src;
        }
        if (props) {
            jQuery.extend(this, props);
        }
        this.timeStamp = src && src.timeStamp || jQuery.now();
        this[jQuery.expando] = true;
    };
    jQuery.Event.prototype = {
        constructor: jQuery.Event,
        isDefaultPrevented: returnFalse,
        isPropagationStopped: returnFalse,
        isImmediatePropagationStopped: returnFalse,
        isSimulated: false,
        preventDefault: function () {
            var e = this.originalEvent;
            this.isDefaultPrevented = returnTrue;
            if (e && !this.isSimulated) {
                e.preventDefault();
            }
        },
        stopPropagation: function () {
            var e = this.originalEvent;
            this.isPropagationStopped = returnTrue;
            if (e && !this.isSimulated) {
                e.stopPropagation();
            }
        },
        stopImmediatePropagation: function () {
            var e = this.originalEvent;
            this.isImmediatePropagationStopped = returnTrue;
            if (e && !this.isSimulated) {
                e.stopImmediatePropagation();
            }
            this.stopPropagation();
        }
    };
    jQuery.each({
        altKey: true,
        bubbles: true,
        cancelable: true,
        changedTouches: true,
        ctrlKey: true,
        detail: true,
        eventPhase: true,
        metaKey: true,
        pageX: true,
        pageY: true,
        shiftKey: true,
        view: true,
        "char": true,
        charCode: true,
        key: true,
        keyCode: true,
        button: true,
        buttons: true,
        clientX: true,
        clientY: true,
        offsetX: true,
        offsetY: true,
        pointerId: true,
        pointerType: true,
        screenX: true,
        screenY: true,
        targetTouches: true,
        toElement: true,
        touches: true,
        which: function (event) {
            var button = event.button;
            if (event.which == null && rkeyEvent.test(event.type)) {
                return event.charCode != null ? event.charCode : event.keyCode;
            }
            if (!event.which && button !== undefined && rmouseEvent.test(event.type)) {
                if (button & 1) {
                    return 1;
                }
                if (button & 2) {
                    return 3;
                }
                if (button & 4) {
                    return 2;
                }
                return 0;
            }
            return event.which;
        }
    }, jQuery.event.addProp);
    jQuery.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function (orig, fix) {
        jQuery.event.special[orig] = {
            delegateType: fix,
            bindType: fix,
            handle: function (event) {
                var ret, target = this, related = event.relatedTarget, handleObj = event.handleObj;
                if (!related || (related !== target && !jQuery.contains(target, related))) {
                    event.type = handleObj.origType;
                    ret = handleObj.handler.apply(this, arguments);
                    event.type = fix;
                }
                return ret;
            }
        };
    });
    jQuery.fn.extend({
        on: function (types, selector, data, fn) {
            return on(this, types, selector, data, fn);
        },
        one: function (types, selector, data, fn) {
            return on(this, types, selector, data, fn, 1);
        },
        off: function (types, selector, fn) {
            var handleObj, type;
            if (types && types.preventDefault && types.handleObj) {
                handleObj = types.handleObj;
                jQuery(types.delegateTarget).off(handleObj.namespace ?
                    handleObj.origType + "." + handleObj.namespace :
                    handleObj.origType, handleObj.selector, handleObj.handler);
                return this;
            }
            if (typeof types === "object") {
                for (type in types) {
                    this.off(type, selector, types[type]);
                }
                return this;
            }
            if (selector === false || typeof selector === "function") {
                fn = selector;
                selector = undefined;
            }
            if (fn === false) {
                fn = returnFalse;
            }
            return this.each(function () {
                jQuery.event.remove(this, types, fn, selector);
            });
        }
    });
    var rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi, rnoInnerhtml = /<script|<style|<link/i, rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i, rscriptTypeMasked = /^true\/(.*)/, rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
    function manipulationTarget(elem, content) {
        if (jQuery.nodeName(elem, "table") &&
            jQuery.nodeName(content.nodeType !== 11 ? content : content.firstChild, "tr")) {
            return elem.getElementsByTagName("tbody")[0] || elem;
        }
        return elem;
    }
    function disableScript(elem) {
        elem.type = (elem.getAttribute("type") !== null) + "/" + elem.type;
        return elem;
    }
    function restoreScript(elem) {
        var match = rscriptTypeMasked.exec(elem.type);
        if (match) {
            elem.type = match[1];
        }
        else {
            elem.removeAttribute("type");
        }
        return elem;
    }
    function cloneCopyEvent(src, dest) {
        var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;
        if (dest.nodeType !== 1) {
            return;
        }
        if (dataPriv.hasData(src)) {
            pdataOld = dataPriv.access(src);
            pdataCur = dataPriv.set(dest, pdataOld);
            events = pdataOld.events;
            if (events) {
                delete pdataCur.handle;
                pdataCur.events = {};
                for (type in events) {
                    for (i = 0, l = events[type].length; i < l; i++) {
                        jQuery.event.add(dest, type, events[type][i]);
                    }
                }
            }
        }
        if (dataUser.hasData(src)) {
            udataOld = dataUser.access(src);
            udataCur = jQuery.extend({}, udataOld);
            dataUser.set(dest, udataCur);
        }
    }
    function fixInput(src, dest) {
        var nodeName = dest.nodeName.toLowerCase();
        if (nodeName === "input" && rcheckableType.test(src.type)) {
            dest.checked = src.checked;
        }
        else if (nodeName === "input" || nodeName === "textarea") {
            dest.defaultValue = src.defaultValue;
        }
    }
    function domManip(collection, args, callback, ignored) {
        args = concat.apply([], args);
        var fragment, first, scripts, hasScripts, node, doc, i = 0, l = collection.length, iNoClone = l - 1, value = args[0], isFunction = jQuery.isFunction(value);
        if (isFunction ||
            (l > 1 && typeof value === "string" &&
                !support.checkClone && rchecked.test(value))) {
            return collection.each(function (index) {
                var self = collection.eq(index);
                if (isFunction) {
                    args[0] = value.call(this, index, self.html());
                }
                domManip(self, args, callback, ignored);
            });
        }
        if (l) {
            fragment = buildFragment(args, collection[0].ownerDocument, false, collection, ignored);
            first = fragment.firstChild;
            if (fragment.childNodes.length === 1) {
                fragment = first;
            }
            if (first || ignored) {
                scripts = jQuery.map(getAll(fragment, "script"), disableScript);
                hasScripts = scripts.length;
                for (; i < l; i++) {
                    node = fragment;
                    if (i !== iNoClone) {
                        node = jQuery.clone(node, true, true);
                        if (hasScripts) {
                            jQuery.merge(scripts, getAll(node, "script"));
                        }
                    }
                    callback.call(collection[i], node, i);
                }
                if (hasScripts) {
                    doc = scripts[scripts.length - 1].ownerDocument;
                    jQuery.map(scripts, restoreScript);
                    for (i = 0; i < hasScripts; i++) {
                        node = scripts[i];
                        if (rscriptType.test(node.type || "") &&
                            !dataPriv.access(node, "globalEval") &&
                            jQuery.contains(doc, node)) {
                            if (node.src) {
                                if (jQuery._evalUrl) {
                                    jQuery._evalUrl(node.src);
                                }
                            }
                            else {
                                DOMEval(node.textContent.replace(rcleanScript, ""), doc);
                            }
                        }
                    }
                }
            }
        }
        return collection;
    }
    function remove(elem, selector, keepData) {
        var node, nodes = selector ? jQuery.filter(selector, elem) : elem, i = 0;
        for (; (node = nodes[i]) != null; i++) {
            if (!keepData && node.nodeType === 1) {
                jQuery.cleanData(getAll(node));
            }
            if (node.parentNode) {
                if (keepData && jQuery.contains(node.ownerDocument, node)) {
                    setGlobalEval(getAll(node, "script"));
                }
                node.parentNode.removeChild(node);
            }
        }
        return elem;
    }
    jQuery.extend({
        htmlPrefilter: function (html) {
            return html.replace(rxhtmlTag, "<$1></$2>");
        },
        clone: function (elem, dataAndEvents, deepDataAndEvents) {
            var i, l, srcElements, destElements, clone = elem.cloneNode(true), inPage = jQuery.contains(elem.ownerDocument, elem);
            if (!support.noCloneChecked && (elem.nodeType === 1 || elem.nodeType === 11) &&
                !jQuery.isXMLDoc(elem)) {
                destElements = getAll(clone);
                srcElements = getAll(elem);
                for (i = 0, l = srcElements.length; i < l; i++) {
                    fixInput(srcElements[i], destElements[i]);
                }
            }
            if (dataAndEvents) {
                if (deepDataAndEvents) {
                    srcElements = srcElements || getAll(elem);
                    destElements = destElements || getAll(clone);
                    for (i = 0, l = srcElements.length; i < l; i++) {
                        cloneCopyEvent(srcElements[i], destElements[i]);
                    }
                }
                else {
                    cloneCopyEvent(elem, clone);
                }
            }
            destElements = getAll(clone, "script");
            if (destElements.length > 0) {
                setGlobalEval(destElements, !inPage && getAll(elem, "script"));
            }
            return clone;
        },
        cleanData: function (elems) {
            var data, elem, type, special = jQuery.event.special, i = 0;
            for (; (elem = elems[i]) !== undefined; i++) {
                if (acceptData(elem)) {
                    if ((data = elem[dataPriv.expando])) {
                        if (data.events) {
                            for (type in data.events) {
                                if (special[type]) {
                                    jQuery.event.remove(elem, type);
                                }
                                else {
                                    jQuery.removeEvent(elem, type, data.handle);
                                }
                            }
                        }
                        elem[dataPriv.expando] = undefined;
                    }
                    if (elem[dataUser.expando]) {
                        elem[dataUser.expando] = undefined;
                    }
                }
            }
        }
    });
    jQuery.fn.extend({
        detach: function (selector) {
            return remove(this, selector, true);
        },
        remove: function (selector) {
            return remove(this, selector);
        },
        text: function (value) {
            return access(this, function (value) {
                return value === undefined ?
                    jQuery.text(this) :
                    this.empty().each(function () {
                        if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                            this.textContent = value;
                        }
                    });
            }, null, value, arguments.length);
        },
        append: function () {
            return domManip(this, arguments, function (elem) {
                if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                    var target = manipulationTarget(this, elem);
                    target.appendChild(elem);
                }
            });
        },
        prepend: function () {
            return domManip(this, arguments, function (elem) {
                if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                    var target = manipulationTarget(this, elem);
                    target.insertBefore(elem, target.firstChild);
                }
            });
        },
        before: function () {
            return domManip(this, arguments, function (elem) {
                if (this.parentNode) {
                    this.parentNode.insertBefore(elem, this);
                }
            });
        },
        after: function () {
            return domManip(this, arguments, function (elem) {
                if (this.parentNode) {
                    this.parentNode.insertBefore(elem, this.nextSibling);
                }
            });
        },
        empty: function () {
            var elem, i = 0;
            for (; (elem = this[i]) != null; i++) {
                if (elem.nodeType === 1) {
                    jQuery.cleanData(getAll(elem, false));
                    elem.textContent = "";
                }
            }
            return this;
        },
        clone: function (dataAndEvents, deepDataAndEvents) {
            dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
            deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;
            return this.map(function () {
                return jQuery.clone(this, dataAndEvents, deepDataAndEvents);
            });
        },
        html: function (value) {
            return access(this, function (value) {
                var elem = this[0] || {}, i = 0, l = this.length;
                if (value === undefined && elem.nodeType === 1) {
                    return elem.innerHTML;
                }
                if (typeof value === "string" && !rnoInnerhtml.test(value) &&
                    !wrapMap[(rtagName.exec(value) || ["", ""])[1].toLowerCase()]) {
                    value = jQuery.htmlPrefilter(value);
                    try {
                        for (; i < l; i++) {
                            elem = this[i] || {};
                            if (elem.nodeType === 1) {
                                jQuery.cleanData(getAll(elem, false));
                                elem.innerHTML = value;
                            }
                        }
                        elem = 0;
                    }
                    catch (e) { }
                }
                if (elem) {
                    this.empty().append(value);
                }
            }, null, value, arguments.length);
        },
        replaceWith: function () {
            var ignored = [];
            return domManip(this, arguments, function (elem) {
                var parent = this.parentNode;
                if (jQuery.inArray(this, ignored) < 0) {
                    jQuery.cleanData(getAll(this));
                    if (parent) {
                        parent.replaceChild(elem, this);
                    }
                }
            }, ignored);
        }
    });
    jQuery.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function (name, original) {
        jQuery.fn[name] = function (selector) {
            var elems, ret = [], insert = jQuery(selector), last = insert.length - 1, i = 0;
            for (; i <= last; i++) {
                elems = i === last ? this : this.clone(true);
                jQuery(insert[i])[original](elems);
                push.apply(ret, elems.get());
            }
            return this.pushStack(ret);
        };
    });
    var rmargin = (/^margin/);
    var rnumnonpx = new RegExp("^(" + pnum + ")(?!px)[a-z%]+$", "i");
    var getStyles = function (elem) {
        var view = elem.ownerDocument.defaultView;
        if (!view || !view.opener) {
            view = window;
        }
        return view.getComputedStyle(elem);
    };
    (function () {
        function computeStyleTests() {
            if (!div) {
                return;
            }
            div.style.cssText =
                "box-sizing:border-box;" +
                    "position:relative;display:block;" +
                    "margin:auto;border:1px;padding:1px;" +
                    "top:1%;width:50%";
            div.innerHTML = "";
            documentElement.appendChild(container);
            var divStyle = window.getComputedStyle(div);
            pixelPositionVal = divStyle.top !== "1%";
            reliableMarginLeftVal = divStyle.marginLeft === "2px";
            boxSizingReliableVal = divStyle.width === "4px";
            div.style.marginRight = "50%";
            pixelMarginRightVal = divStyle.marginRight === "4px";
            documentElement.removeChild(container);
            div = null;
        }
        var pixelPositionVal, boxSizingReliableVal, pixelMarginRightVal, reliableMarginLeftVal, container = document.createElement("div"), div = document.createElement("div");
        if (!div.style) {
            return;
        }
        div.style.backgroundClip = "content-box";
        div.cloneNode(true).style.backgroundClip = "";
        support.clearCloneStyle = div.style.backgroundClip === "content-box";
        container.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;" +
            "padding:0;margin-top:1px;position:absolute";
        container.appendChild(div);
        jQuery.extend(support, {
            pixelPosition: function () {
                computeStyleTests();
                return pixelPositionVal;
            },
            boxSizingReliable: function () {
                computeStyleTests();
                return boxSizingReliableVal;
            },
            pixelMarginRight: function () {
                computeStyleTests();
                return pixelMarginRightVal;
            },
            reliableMarginLeft: function () {
                computeStyleTests();
                return reliableMarginLeftVal;
            }
        });
    })();
    function curCSS(elem, name, computed) {
        var width, minWidth, maxWidth, ret, style = elem.style;
        computed = computed || getStyles(elem);
        if (computed) {
            ret = computed.getPropertyValue(name) || computed[name];
            if (ret === "" && !jQuery.contains(elem.ownerDocument, elem)) {
                ret = jQuery.style(elem, name);
            }
            if (!support.pixelMarginRight() && rnumnonpx.test(ret) && rmargin.test(name)) {
                width = style.width;
                minWidth = style.minWidth;
                maxWidth = style.maxWidth;
                style.minWidth = style.maxWidth = style.width = ret;
                ret = computed.width;
                style.width = width;
                style.minWidth = minWidth;
                style.maxWidth = maxWidth;
            }
        }
        return ret !== undefined ?
            ret + "" :
            ret;
    }
    function addGetHookIf(conditionFn, hookFn) {
        return {
            get: function () {
                if (conditionFn()) {
                    delete this.get;
                    return;
                }
                return (this.get = hookFn).apply(this, arguments);
            }
        };
    }
    var rdisplayswap = /^(none|table(?!-c[ea]).+)/, cssShow = { position: "absolute", visibility: "hidden", display: "block" }, cssNormalTransform = {
        letterSpacing: "0",
        fontWeight: "400"
    }, cssPrefixes = ["Webkit", "Moz", "ms"], emptyStyle = document.createElement("div").style;
    function vendorPropName(name) {
        if (name in emptyStyle) {
            return name;
        }
        var capName = name[0].toUpperCase() + name.slice(1), i = cssPrefixes.length;
        while (i--) {
            name = cssPrefixes[i] + capName;
            if (name in emptyStyle) {
                return name;
            }
        }
    }
    function setPositiveNumber(elem, value, subtract) {
        var matches = rcssNum.exec(value);
        return matches ?
            Math.max(0, matches[2] - (subtract || 0)) + (matches[3] || "px") :
            value;
    }
    function augmentWidthOrHeight(elem, name, extra, isBorderBox, styles) {
        var i, val = 0;
        if (extra === (isBorderBox ? "border" : "content")) {
            i = 4;
        }
        else {
            i = name === "width" ? 1 : 0;
        }
        for (; i < 4; i += 2) {
            if (extra === "margin") {
                val += jQuery.css(elem, extra + cssExpand[i], true, styles);
            }
            if (isBorderBox) {
                if (extra === "content") {
                    val -= jQuery.css(elem, "padding" + cssExpand[i], true, styles);
                }
                if (extra !== "margin") {
                    val -= jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles);
                }
            }
            else {
                val += jQuery.css(elem, "padding" + cssExpand[i], true, styles);
                if (extra !== "padding") {
                    val += jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles);
                }
            }
        }
        return val;
    }
    function getWidthOrHeight(elem, name, extra) {
        var val, valueIsBorderBox = true, styles = getStyles(elem), isBorderBox = jQuery.css(elem, "boxSizing", false, styles) === "border-box";
        if (elem.getClientRects().length) {
            val = elem.getBoundingClientRect()[name];
        }
        if (val <= 0 || val == null) {
            val = curCSS(elem, name, styles);
            if (val < 0 || val == null) {
                val = elem.style[name];
            }
            if (rnumnonpx.test(val)) {
                return val;
            }
            valueIsBorderBox = isBorderBox &&
                (support.boxSizingReliable() || val === elem.style[name]);
            val = parseFloat(val) || 0;
        }
        return (val +
            augmentWidthOrHeight(elem, name, extra || (isBorderBox ? "border" : "content"), valueIsBorderBox, styles)) + "px";
    }
    jQuery.extend({
        cssHooks: {
            opacity: {
                get: function (elem, computed) {
                    if (computed) {
                        var ret = curCSS(elem, "opacity");
                        return ret === "" ? "1" : ret;
                    }
                }
            }
        },
        cssNumber: {
            "animationIterationCount": true,
            "columnCount": true,
            "fillOpacity": true,
            "flexGrow": true,
            "flexShrink": true,
            "fontWeight": true,
            "lineHeight": true,
            "opacity": true,
            "order": true,
            "orphans": true,
            "widows": true,
            "zIndex": true,
            "zoom": true
        },
        cssProps: {
            "float": "cssFloat"
        },
        style: function (elem, name, value, extra) {
            if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style) {
                return;
            }
            var ret, type, hooks, origName = jQuery.camelCase(name), style = elem.style;
            name = jQuery.cssProps[origName] ||
                (jQuery.cssProps[origName] = vendorPropName(origName) || origName);
            hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];
            if (value !== undefined) {
                type = typeof value;
                if (type === "string" && (ret = rcssNum.exec(value)) && ret[1]) {
                    value = adjustCSS(elem, name, ret);
                    type = "number";
                }
                if (value == null || value !== value) {
                    return;
                }
                if (type === "number") {
                    value += ret && ret[3] || (jQuery.cssNumber[origName] ? "" : "px");
                }
                if (!support.clearCloneStyle && value === "" && name.indexOf("background") === 0) {
                    style[name] = "inherit";
                }
                if (!hooks || !("set" in hooks) ||
                    (value = hooks.set(elem, value, extra)) !== undefined) {
                    style[name] = value;
                }
            }
            else {
                if (hooks && "get" in hooks &&
                    (ret = hooks.get(elem, false, extra)) !== undefined) {
                    return ret;
                }
                return style[name];
            }
        },
        css: function (elem, name, extra, styles) {
            var val, num, hooks, origName = jQuery.camelCase(name);
            name = jQuery.cssProps[origName] ||
                (jQuery.cssProps[origName] = vendorPropName(origName) || origName);
            hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];
            if (hooks && "get" in hooks) {
                val = hooks.get(elem, true, extra);
            }
            if (val === undefined) {
                val = curCSS(elem, name, styles);
            }
            if (val === "normal" && name in cssNormalTransform) {
                val = cssNormalTransform[name];
            }
            if (extra === "" || extra) {
                num = parseFloat(val);
                return extra === true || isFinite(num) ? num || 0 : val;
            }
            return val;
        }
    });
    jQuery.each(["height", "width"], function (i, name) {
        jQuery.cssHooks[name] = {
            get: function (elem, computed, extra) {
                if (computed) {
                    return rdisplayswap.test(jQuery.css(elem, "display")) &&
                        (!elem.getClientRects().length || !elem.getBoundingClientRect().width) ?
                        swap(elem, cssShow, function () {
                            return getWidthOrHeight(elem, name, extra);
                        }) :
                        getWidthOrHeight(elem, name, extra);
                }
            },
            set: function (elem, value, extra) {
                var matches, styles = extra && getStyles(elem), subtract = extra && augmentWidthOrHeight(elem, name, extra, jQuery.css(elem, "boxSizing", false, styles) === "border-box", styles);
                if (subtract && (matches = rcssNum.exec(value)) &&
                    (matches[3] || "px") !== "px") {
                    elem.style[name] = value;
                    value = jQuery.css(elem, name);
                }
                return setPositiveNumber(elem, value, subtract);
            }
        };
    });
    jQuery.cssHooks.marginLeft = addGetHookIf(support.reliableMarginLeft, function (elem, computed) {
        if (computed) {
            return (parseFloat(curCSS(elem, "marginLeft")) ||
                elem.getBoundingClientRect().left -
                    swap(elem, { marginLeft: 0 }, function () {
                        return elem.getBoundingClientRect().left;
                    })) + "px";
        }
    });
    jQuery.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function (prefix, suffix) {
        jQuery.cssHooks[prefix + suffix] = {
            expand: function (value) {
                var i = 0, expanded = {}, parts = typeof value === "string" ? value.split(" ") : [value];
                for (; i < 4; i++) {
                    expanded[prefix + cssExpand[i] + suffix] =
                        parts[i] || parts[i - 2] || parts[0];
                }
                return expanded;
            }
        };
        if (!rmargin.test(prefix)) {
            jQuery.cssHooks[prefix + suffix].set = setPositiveNumber;
        }
    });
    jQuery.fn.extend({
        css: function (name, value) {
            return access(this, function (elem, name, value) {
                var styles, len, map = {}, i = 0;
                if (jQuery.isArray(name)) {
                    styles = getStyles(elem);
                    len = name.length;
                    for (; i < len; i++) {
                        map[name[i]] = jQuery.css(elem, name[i], false, styles);
                    }
                    return map;
                }
                return value !== undefined ?
                    jQuery.style(elem, name, value) :
                    jQuery.css(elem, name);
            }, name, value, arguments.length > 1);
        }
    });
    jQuery.fn.delay = function (time, type) {
        time = jQuery.fx ? jQuery.fx.speeds[time] || time : time;
        type = type || "fx";
        return this.queue(type, function (next, hooks) {
            var timeout = window.setTimeout(next, time);
            hooks.stop = function () {
                window.clearTimeout(timeout);
            };
        });
    };
    (function () {
        var input = document.createElement("input"), select = document.createElement("select"), opt = select.appendChild(document.createElement("option"));
        input.type = "checkbox";
        support.checkOn = input.value !== "";
        support.optSelected = opt.selected;
        input = document.createElement("input");
        input.value = "t";
        input.type = "radio";
        support.radioValue = input.value === "t";
    })();
    var boolHook, attrHandle = jQuery.expr.attrHandle;
    jQuery.fn.extend({
        attr: function (name, value) {
            return access(this, jQuery.attr, name, value, arguments.length > 1);
        },
        removeAttr: function (name) {
            return this.each(function () {
                jQuery.removeAttr(this, name);
            });
        }
    });
    jQuery.extend({
        attr: function (elem, name, value) {
            var ret, hooks, nType = elem.nodeType;
            if (nType === 3 || nType === 8 || nType === 2) {
                return;
            }
            if (typeof elem.getAttribute === "undefined") {
                return jQuery.prop(elem, name, value);
            }
            if (nType !== 1 || !jQuery.isXMLDoc(elem)) {
                hooks = jQuery.attrHooks[name.toLowerCase()] ||
                    (jQuery.expr.match.bool.test(name) ? boolHook : undefined);
            }
            if (value !== undefined) {
                if (value === null) {
                    jQuery.removeAttr(elem, name);
                    return;
                }
                if (hooks && "set" in hooks &&
                    (ret = hooks.set(elem, value, name)) !== undefined) {
                    return ret;
                }
                elem.setAttribute(name, value + "");
                return value;
            }
            if (hooks && "get" in hooks && (ret = hooks.get(elem, name)) !== null) {
                return ret;
            }
            ret = jQuery.find.attr(elem, name);
            return ret == null ? undefined : ret;
        },
        attrHooks: {
            type: {
                set: function (elem, value) {
                    if (!support.radioValue && value === "radio" &&
                        jQuery.nodeName(elem, "input")) {
                        var val = elem.value;
                        elem.setAttribute("type", value);
                        if (val) {
                            elem.value = val;
                        }
                        return value;
                    }
                }
            }
        },
        removeAttr: function (elem, value) {
            var name, i = 0, attrNames = value && value.match(rnothtmlwhite);
            if (attrNames && elem.nodeType === 1) {
                while ((name = attrNames[i++])) {
                    elem.removeAttribute(name);
                }
            }
        }
    });
    boolHook = {
        set: function (elem, value, name) {
            if (value === false) {
                jQuery.removeAttr(elem, name);
            }
            else {
                elem.setAttribute(name, name);
            }
            return name;
        }
    };
    jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g), function (i, name) {
        var getter = attrHandle[name] || jQuery.find.attr;
        attrHandle[name] = function (elem, name, isXML) {
            var ret, handle, lowercaseName = name.toLowerCase();
            if (!isXML) {
                handle = attrHandle[lowercaseName];
                attrHandle[lowercaseName] = ret;
                ret = getter(elem, name, isXML) != null ?
                    lowercaseName :
                    null;
                attrHandle[lowercaseName] = handle;
            }
            return ret;
        };
    });
    var rfocusable = /^(?:input|select|textarea|button)$/i, rclickable = /^(?:a|area)$/i;
    jQuery.fn.extend({
        prop: function (name, value) {
            return access(this, jQuery.prop, name, value, arguments.length > 1);
        },
        removeProp: function (name) {
            return this.each(function () {
                delete this[jQuery.propFix[name] || name];
            });
        }
    });
    jQuery.extend({
        prop: function (elem, name, value) {
            var ret, hooks, nType = elem.nodeType;
            if (nType === 3 || nType === 8 || nType === 2) {
                return;
            }
            if (nType !== 1 || !jQuery.isXMLDoc(elem)) {
                name = jQuery.propFix[name] || name;
                hooks = jQuery.propHooks[name];
            }
            if (value !== undefined) {
                if (hooks && "set" in hooks &&
                    (ret = hooks.set(elem, value, name)) !== undefined) {
                    return ret;
                }
                return (elem[name] = value);
            }
            if (hooks && "get" in hooks && (ret = hooks.get(elem, name)) !== null) {
                return ret;
            }
            return elem[name];
        },
        propHooks: {
            tabIndex: {
                get: function (elem) {
                    var tabindex = jQuery.find.attr(elem, "tabindex");
                    if (tabindex) {
                        return parseInt(tabindex, 10);
                    }
                    if (rfocusable.test(elem.nodeName) ||
                        rclickable.test(elem.nodeName) &&
                            elem.href) {
                        return 0;
                    }
                    return -1;
                }
            }
        },
        propFix: {
            "for": "htmlFor",
            "class": "className"
        }
    });
    if (!support.optSelected) {
        jQuery.propHooks.selected = {
            get: function (elem) {
                var parent = elem.parentNode;
                if (parent && parent.parentNode) {
                    parent.parentNode.selectedIndex;
                }
                return null;
            },
            set: function (elem) {
                var parent = elem.parentNode;
                if (parent) {
                    parent.selectedIndex;
                    if (parent.parentNode) {
                        parent.parentNode.selectedIndex;
                    }
                }
            }
        };
    }
    jQuery.each([
        "tabIndex",
        "readOnly",
        "maxLength",
        "cellSpacing",
        "cellPadding",
        "rowSpan",
        "colSpan",
        "useMap",
        "frameBorder",
        "contentEditable"
    ], function () {
        jQuery.propFix[this.toLowerCase()] = this;
    });
    function stripAndCollapse(value) {
        var tokens = value.match(rnothtmlwhite) || [];
        return tokens.join(" ");
    }
    function getClass(elem) {
        return elem.getAttribute && elem.getAttribute("class") || "";
    }
    jQuery.fn.extend({
        addClass: function (value) {
            var classes, elem, cur, curValue, clazz, j, finalValue, i = 0;
            if (jQuery.isFunction(value)) {
                return this.each(function (j) {
                    jQuery(this).addClass(value.call(this, j, getClass(this)));
                });
            }
            if (typeof value === "string" && value) {
                classes = value.match(rnothtmlwhite) || [];
                while ((elem = this[i++])) {
                    curValue = getClass(elem);
                    cur = elem.nodeType === 1 && (" " + stripAndCollapse(curValue) + " ");
                    if (cur) {
                        j = 0;
                        while ((clazz = classes[j++])) {
                            if (cur.indexOf(" " + clazz + " ") < 0) {
                                cur += clazz + " ";
                            }
                        }
                        finalValue = stripAndCollapse(cur);
                        if (curValue !== finalValue) {
                            elem.setAttribute("class", finalValue);
                        }
                    }
                }
            }
            return this;
        },
        removeClass: function (value) {
            var classes, elem, cur, curValue, clazz, j, finalValue, i = 0;
            if (jQuery.isFunction(value)) {
                return this.each(function (j) {
                    jQuery(this).removeClass(value.call(this, j, getClass(this)));
                });
            }
            if (!arguments.length) {
                return this.attr("class", "");
            }
            if (typeof value === "string" && value) {
                classes = value.match(rnothtmlwhite) || [];
                while ((elem = this[i++])) {
                    curValue = getClass(elem);
                    cur = elem.nodeType === 1 && (" " + stripAndCollapse(curValue) + " ");
                    if (cur) {
                        j = 0;
                        while ((clazz = classes[j++])) {
                            while (cur.indexOf(" " + clazz + " ") > -1) {
                                cur = cur.replace(" " + clazz + " ", " ");
                            }
                        }
                        finalValue = stripAndCollapse(cur);
                        if (curValue !== finalValue) {
                            elem.setAttribute("class", finalValue);
                        }
                    }
                }
            }
            return this;
        },
        toggleClass: function (value, stateVal) {
            var type = typeof value;
            if (typeof stateVal === "boolean" && type === "string") {
                return stateVal ? this.addClass(value) : this.removeClass(value);
            }
            if (jQuery.isFunction(value)) {
                return this.each(function (i) {
                    jQuery(this).toggleClass(value.call(this, i, getClass(this), stateVal), stateVal);
                });
            }
            return this.each(function () {
                var className, i, self, classNames;
                if (type === "string") {
                    i = 0;
                    self = jQuery(this);
                    classNames = value.match(rnothtmlwhite) || [];
                    while ((className = classNames[i++])) {
                        if (self.hasClass(className)) {
                            self.removeClass(className);
                        }
                        else {
                            self.addClass(className);
                        }
                    }
                }
                else if (value === undefined || type === "boolean") {
                    className = getClass(this);
                    if (className) {
                        dataPriv.set(this, "__className__", className);
                    }
                    if (this.setAttribute) {
                        this.setAttribute("class", className || value === false ?
                            "" :
                            dataPriv.get(this, "__className__") || "");
                    }
                }
            });
        },
        hasClass: function (selector) {
            var className, elem, i = 0;
            className = " " + selector + " ";
            while ((elem = this[i++])) {
                if (elem.nodeType === 1 &&
                    (" " + stripAndCollapse(getClass(elem)) + " ").indexOf(className) > -1) {
                    return true;
                }
            }
            return false;
        }
    });
    var rreturn = /\r/g;
    jQuery.fn.extend({
        val: function (value) {
            var hooks, ret, isFunction, elem = this[0];
            if (!arguments.length) {
                if (elem) {
                    hooks = jQuery.valHooks[elem.type] ||
                        jQuery.valHooks[elem.nodeName.toLowerCase()];
                    if (hooks &&
                        "get" in hooks &&
                        (ret = hooks.get(elem, "value")) !== undefined) {
                        return ret;
                    }
                    ret = elem.value;
                    if (typeof ret === "string") {
                        return ret.replace(rreturn, "");
                    }
                    return ret == null ? "" : ret;
                }
                return;
            }
            isFunction = jQuery.isFunction(value);
            return this.each(function (i) {
                var val;
                if (this.nodeType !== 1) {
                    return;
                }
                if (isFunction) {
                    val = value.call(this, i, jQuery(this).val());
                }
                else {
                    val = value;
                }
                if (val == null) {
                    val = "";
                }
                else if (typeof val === "number") {
                    val += "";
                }
                else if (jQuery.isArray(val)) {
                    val = jQuery.map(val, function (value) {
                        return value == null ? "" : value + "";
                    });
                }
                hooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()];
                if (!hooks || !("set" in hooks) || hooks.set(this, val, "value") === undefined) {
                    this.value = val;
                }
            });
        }
    });
    jQuery.extend({
        valHooks: {
            option: {
                get: function (elem) {
                    var val = jQuery.find.attr(elem, "value");
                    return val != null ?
                        val :
                        stripAndCollapse(jQuery.text(elem));
                }
            },
            select: {
                get: function (elem) {
                    var value, option, i, options = elem.options, index = elem.selectedIndex, one = elem.type === "select-one", values = one ? null : [], max = one ? index + 1 : options.length;
                    if (index < 0) {
                        i = max;
                    }
                    else {
                        i = one ? index : 0;
                    }
                    for (; i < max; i++) {
                        option = options[i];
                        if ((option.selected || i === index) &&
                            !option.disabled &&
                            (!option.parentNode.disabled ||
                                !jQuery.nodeName(option.parentNode, "optgroup"))) {
                            value = jQuery(option).val();
                            if (one) {
                                return value;
                            }
                            values.push(value);
                        }
                    }
                    return values;
                },
                set: function (elem, value) {
                    var optionSet, option, options = elem.options, values = jQuery.makeArray(value), i = options.length;
                    while (i--) {
                        option = options[i];
                        if (option.selected =
                            jQuery.inArray(jQuery.valHooks.option.get(option), values) > -1) {
                            optionSet = true;
                        }
                    }
                    if (!optionSet) {
                        elem.selectedIndex = -1;
                    }
                    return values;
                }
            }
        }
    });
    jQuery.each(["radio", "checkbox"], function () {
        jQuery.valHooks[this] = {
            set: function (elem, value) {
                if (jQuery.isArray(value)) {
                    return (elem.checked = jQuery.inArray(jQuery(elem).val(), value) > -1);
                }
            }
        };
        if (!support.checkOn) {
            jQuery.valHooks[this].get = function (elem) {
                return elem.getAttribute("value") === null ? "on" : elem.value;
            };
        }
    });
    var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/;
    jQuery.extend(jQuery.event, {
        trigger: function (event, data, elem, onlyHandlers) {
            var i, cur, tmp, bubbleType, ontype, handle, special, eventPath = [elem || document], type = hasOwn.call(event, "type") ? event.type : event, namespaces = hasOwn.call(event, "namespace") ? event.namespace.split(".") : [];
            cur = tmp = elem = elem || document;
            if (elem.nodeType === 3 || elem.nodeType === 8) {
                return;
            }
            if (rfocusMorph.test(type + jQuery.event.triggered)) {
                return;
            }
            if (type.indexOf(".") > -1) {
                namespaces = type.split(".");
                type = namespaces.shift();
                namespaces.sort();
            }
            ontype = type.indexOf(":") < 0 && "on" + type;
            event = event[jQuery.expando] ?
                event :
                new jQuery.Event(type, typeof event === "object" && event);
            event.isTrigger = onlyHandlers ? 2 : 3;
            event.namespace = namespaces.join(".");
            event.rnamespace = event.namespace ?
                new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)") :
                null;
            event.result = undefined;
            if (!event.target) {
                event.target = elem;
            }
            data = data == null ?
                [event] :
                jQuery.makeArray(data, [event]);
            special = jQuery.event.special[type] || {};
            if (!onlyHandlers && special.trigger && special.trigger.apply(elem, data) === false) {
                return;
            }
            if (!onlyHandlers && !special.noBubble && !jQuery.isWindow(elem)) {
                bubbleType = special.delegateType || type;
                if (!rfocusMorph.test(bubbleType + type)) {
                    cur = cur.parentNode;
                }
                for (; cur; cur = cur.parentNode) {
                    eventPath.push(cur);
                    tmp = cur;
                }
                if (tmp === (elem.ownerDocument || document)) {
                    eventPath.push(tmp.defaultView || tmp.parentWindow || window);
                }
            }
            i = 0;
            while ((cur = eventPath[i++]) && !event.isPropagationStopped()) {
                event.type = i > 1 ?
                    bubbleType :
                    special.bindType || type;
                handle = (dataPriv.get(cur, "events") || {})[event.type] &&
                    dataPriv.get(cur, "handle");
                if (handle) {
                    handle.apply(cur, data);
                }
                handle = ontype && cur[ontype];
                if (handle && handle.apply && acceptData(cur)) {
                    event.result = handle.apply(cur, data);
                    if (event.result === false) {
                        event.preventDefault();
                    }
                }
            }
            event.type = type;
            if (!onlyHandlers && !event.isDefaultPrevented()) {
                if ((!special._default ||
                    special._default.apply(eventPath.pop(), data) === false) &&
                    acceptData(elem)) {
                    if (ontype && jQuery.isFunction(elem[type]) && !jQuery.isWindow(elem)) {
                        tmp = elem[ontype];
                        if (tmp) {
                            elem[ontype] = null;
                        }
                        jQuery.event.triggered = type;
                        elem[type]();
                        jQuery.event.triggered = undefined;
                        if (tmp) {
                            elem[ontype] = tmp;
                        }
                    }
                }
            }
            return event.result;
        },
        simulate: function (type, elem, event) {
            var e = jQuery.extend(new jQuery.Event(), event, {
                type: type,
                isSimulated: true
            });
            jQuery.event.trigger(e, null, elem);
        }
    });
    jQuery.fn.extend({
        trigger: function (type, data) {
            return this.each(function () {
                jQuery.event.trigger(type, data, this);
            });
        },
        triggerHandler: function (type, data) {
            var elem = this[0];
            if (elem) {
                return jQuery.event.trigger(type, data, elem, true);
            }
        }
    });
    jQuery.each(("blur focus focusin focusout resize scroll click dblclick " +
        "mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
        "change select submit keydown keypress keyup contextmenu").split(" "), function (i, name) {
        jQuery.fn[name] = function (data, fn) {
            return arguments.length > 0 ?
                this.on(name, null, data, fn) :
                this.trigger(name);
        };
    });
    jQuery.fn.extend({
        hover: function (fnOver, fnOut) {
            return this.mouseenter(fnOver).mouseleave(fnOut || fnOver);
        }
    });
    support.focusin = "onfocusin" in window;
    if (!support.focusin) {
        jQuery.each({ focus: "focusin", blur: "focusout" }, function (orig, fix) {
            var handler = function (event) {
                jQuery.event.simulate(fix, event.target, jQuery.event.fix(event));
            };
            jQuery.event.special[fix] = {
                setup: function () {
                    var doc = this.ownerDocument || this, attaches = dataPriv.access(doc, fix);
                    if (!attaches) {
                        doc.addEventListener(orig, handler, true);
                    }
                    dataPriv.access(doc, fix, (attaches || 0) + 1);
                },
                teardown: function () {
                    var doc = this.ownerDocument || this, attaches = dataPriv.access(doc, fix) - 1;
                    if (!attaches) {
                        doc.removeEventListener(orig, handler, true);
                        dataPriv.remove(doc, fix);
                    }
                    else {
                        dataPriv.access(doc, fix, attaches);
                    }
                }
            };
        });
    }
    var rbracket = /\[\]$/, rCRLF = /\r?\n/g, rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i, rsubmittable = /^(?:input|select|textarea|keygen)/i;
    function buildParams(prefix, obj, traditional, add) {
        var name;
        if (jQuery.isArray(obj)) {
            jQuery.each(obj, function (i, v) {
                if (traditional || rbracket.test(prefix)) {
                    add(prefix, v);
                }
                else {
                    buildParams(prefix + "[" + (typeof v === "object" && v != null ? i : "") + "]", v, traditional, add);
                }
            });
        }
        else if (!traditional && jQuery.type(obj) === "object") {
            for (name in obj) {
                buildParams(prefix + "[" + name + "]", obj[name], traditional, add);
            }
        }
        else {
            add(prefix, obj);
        }
    }
    jQuery.param = function (a, traditional) {
        var prefix, s = [], add = function (key, valueOrFunction) {
            var value = jQuery.isFunction(valueOrFunction) ?
                valueOrFunction() :
                valueOrFunction;
            s[s.length] = encodeURIComponent(key) + "=" +
                encodeURIComponent(value == null ? "" : value);
        };
        if (jQuery.isArray(a) || (a.jquery && !jQuery.isPlainObject(a))) {
            jQuery.each(a, function () {
                add(this.name, this.value);
            });
        }
        else {
            for (prefix in a) {
                buildParams(prefix, a[prefix], traditional, add);
            }
        }
        return s.join("&");
    };
    jQuery.fn.extend({
        serialize: function () {
            return jQuery.param(this.serializeArray());
        },
        serializeArray: function () {
            return this.map(function () {
                var elements = jQuery.prop(this, "elements");
                return elements ? jQuery.makeArray(elements) : this;
            })
                .filter(function () {
                var type = this.type;
                return this.name && !jQuery(this).is(":disabled") &&
                    rsubmittable.test(this.nodeName) && !rsubmitterTypes.test(type) &&
                    (this.checked || !rcheckableType.test(type));
            })
                .map(function (i, elem) {
                var val = jQuery(this).val();
                if (val == null) {
                    return null;
                }
                if (jQuery.isArray(val)) {
                    return jQuery.map(val, function (val) {
                        return { name: elem.name, value: val.replace(rCRLF, "\r\n") };
                    });
                }
                return { name: elem.name, value: val.replace(rCRLF, "\r\n") };
            }).get();
        }
    });
    jQuery.fn.extend({
        wrapAll: function (html) {
            var wrap;
            if (this[0]) {
                if (jQuery.isFunction(html)) {
                    html = html.call(this[0]);
                }
                wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(true);
                if (this[0].parentNode) {
                    wrap.insertBefore(this[0]);
                }
                wrap.map(function () {
                    var elem = this;
                    while (elem.firstElementChild) {
                        elem = elem.firstElementChild;
                    }
                    return elem;
                }).append(this);
            }
            return this;
        },
        wrapInner: function (html) {
            if (jQuery.isFunction(html)) {
                return this.each(function (i) {
                    jQuery(this).wrapInner(html.call(this, i));
                });
            }
            return this.each(function () {
                var self = jQuery(this), contents = self.contents();
                if (contents.length) {
                    contents.wrapAll(html);
                }
                else {
                    self.append(html);
                }
            });
        },
        wrap: function (html) {
            var isFunction = jQuery.isFunction(html);
            return this.each(function (i) {
                jQuery(this).wrapAll(isFunction ? html.call(this, i) : html);
            });
        },
        unwrap: function (selector) {
            this.parent(selector).not("body").each(function () {
                jQuery(this).replaceWith(this.childNodes);
            });
            return this;
        }
    });
    jQuery.expr.pseudos.hidden = function (elem) {
        return !jQuery.expr.pseudos.visible(elem);
    };
    jQuery.expr.pseudos.visible = function (elem) {
        return !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);
    };
    support.createHTMLDocument = (function () {
        var body = document.implementation.createHTMLDocument("").body;
        body.innerHTML = "<form></form><form></form>";
        return body.childNodes.length === 2;
    })();
    jQuery.parseHTML = function (data, context, keepScripts) {
        if (typeof data !== "string") {
            return [];
        }
        if (typeof context === "boolean") {
            keepScripts = context;
            context = false;
        }
        var base, parsed, scripts;
        if (!context) {
            if (support.createHTMLDocument) {
                context = document.implementation.createHTMLDocument("");
                base = context.createElement("base");
                base.href = document.location.href;
                context.head.appendChild(base);
            }
            else {
                context = document;
            }
        }
        parsed = rsingleTag.exec(data);
        scripts = !keepScripts && [];
        if (parsed) {
            return [context.createElement(parsed[1])];
        }
        parsed = buildFragment([data], context, scripts);
        if (scripts && scripts.length) {
            jQuery(scripts).remove();
        }
        return jQuery.merge([], parsed.childNodes);
    };
    function getWindow(elem) {
        return jQuery.isWindow(elem) ? elem : elem.nodeType === 9 && elem.defaultView;
    }
    jQuery.offset = {
        setOffset: function (elem, options, i) {
            var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition, position = jQuery.css(elem, "position"), curElem = jQuery(elem), props = {};
            if (position === "static") {
                elem.style.position = "relative";
            }
            curOffset = curElem.offset();
            curCSSTop = jQuery.css(elem, "top");
            curCSSLeft = jQuery.css(elem, "left");
            calculatePosition = (position === "absolute" || position === "fixed") &&
                (curCSSTop + curCSSLeft).indexOf("auto") > -1;
            if (calculatePosition) {
                curPosition = curElem.position();
                curTop = curPosition.top;
                curLeft = curPosition.left;
            }
            else {
                curTop = parseFloat(curCSSTop) || 0;
                curLeft = parseFloat(curCSSLeft) || 0;
            }
            if (jQuery.isFunction(options)) {
                options = options.call(elem, i, jQuery.extend({}, curOffset));
            }
            if (options.top != null) {
                props.top = (options.top - curOffset.top) + curTop;
            }
            if (options.left != null) {
                props.left = (options.left - curOffset.left) + curLeft;
            }
            if ("using" in options) {
                options.using.call(elem, props);
            }
            else {
                curElem.css(props);
            }
        }
    };
    jQuery.fn.extend({
        offset: function (options) {
            if (arguments.length) {
                return options === undefined ?
                    this :
                    this.each(function (i) {
                        jQuery.offset.setOffset(this, options, i);
                    });
            }
            var docElem, win, rect, doc, elem = this[0];
            if (!elem) {
                return;
            }
            if (!elem.getClientRects().length) {
                return { top: 0, left: 0 };
            }
            rect = elem.getBoundingClientRect();
            if (rect.width || rect.height) {
                doc = elem.ownerDocument;
                win = getWindow(doc);
                docElem = doc.documentElement;
                return {
                    top: rect.top + win.pageYOffset - docElem.clientTop,
                    left: rect.left + win.pageXOffset - docElem.clientLeft
                };
            }
            return rect;
        },
        position: function () {
            if (!this[0]) {
                return;
            }
            var offsetParent, offset, elem = this[0], parentOffset = { top: 0, left: 0 };
            if (jQuery.css(elem, "position") === "fixed") {
                offset = elem.getBoundingClientRect();
            }
            else {
                offsetParent = this.offsetParent();
                offset = this.offset();
                if (!jQuery.nodeName(offsetParent[0], "html")) {
                    parentOffset = offsetParent.offset();
                }
                parentOffset = {
                    top: parentOffset.top + jQuery.css(offsetParent[0], "borderTopWidth", true),
                    left: parentOffset.left + jQuery.css(offsetParent[0], "borderLeftWidth", true)
                };
            }
            return {
                top: offset.top - parentOffset.top - jQuery.css(elem, "marginTop", true),
                left: offset.left - parentOffset.left - jQuery.css(elem, "marginLeft", true)
            };
        },
        offsetParent: function () {
            return this.map(function () {
                var offsetParent = this.offsetParent;
                while (offsetParent && jQuery.css(offsetParent, "position") === "static") {
                    offsetParent = offsetParent.offsetParent;
                }
                return offsetParent || documentElement;
            });
        }
    });
    jQuery.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function (method, prop) {
        var top = "pageYOffset" === prop;
        jQuery.fn[method] = function (val) {
            return access(this, function (elem, method, val) {
                var win = getWindow(elem);
                if (val === undefined) {
                    return win ? win[prop] : elem[method];
                }
                if (win) {
                    win.scrollTo(!top ? val : win.pageXOffset, top ? val : win.pageYOffset);
                }
                else {
                    elem[method] = val;
                }
            }, method, val, arguments.length);
        };
    });
    jQuery.each(["top", "left"], function (i, prop) {
        jQuery.cssHooks[prop] = addGetHookIf(support.pixelPosition, function (elem, computed) {
            if (computed) {
                computed = curCSS(elem, prop);
                return rnumnonpx.test(computed) ?
                    jQuery(elem).position()[prop] + "px" :
                    computed;
            }
        });
    });
    jQuery.each({ Height: "height", Width: "width" }, function (name, type) {
        jQuery.each({ padding: "inner" + name, content: type, "": "outer" + name }, function (defaultExtra, funcName) {
            jQuery.fn[funcName] = function (margin, value) {
                var chainable = arguments.length && (defaultExtra || typeof margin !== "boolean"), extra = defaultExtra || (margin === true || value === true ? "margin" : "border");
                return access(this, function (elem, type, value) {
                    var doc;
                    if (jQuery.isWindow(elem)) {
                        return funcName.indexOf("outer") === 0 ?
                            elem["inner" + name] :
                            elem.document.documentElement["client" + name];
                    }
                    if (elem.nodeType === 9) {
                        doc = elem.documentElement;
                        return Math.max(elem.body["scroll" + name], doc["scroll" + name], elem.body["offset" + name], doc["offset" + name], doc["client" + name]);
                    }
                    return value === undefined ?
                        jQuery.css(elem, type, extra) :
                        jQuery.style(elem, type, value, extra);
                }, type, chainable ? margin : undefined, chainable);
            };
        });
    });
    if (typeof define === "function" && define.amd) {
        define("jquery", [], function () {
            return jQuery;
        });
    }
    var _jQuery = window.jQuery, _$ = window.$;
    jQuery.noConflict = function (deep) {
        if (window.$ === jQuery) {
            window.$ = _$;
        }
        if (deep && window.jQuery === jQuery) {
            window.jQuery = _jQuery;
        }
        return jQuery;
    };
    if (!noGlobal) {
        window.jQuery = window.$ = jQuery;
    }
    return jQuery;
});
(function (root, factory) {
    if (typeof define === 'function' && define.amd) {
        define(['leaflet'], factory);
    }
    else if (typeof modules === 'object' && module.exports) {
        module.exports = factory(require('leaflet'));
    }
    else {
        factory(L);
    }
}(this, function (L) {
    'use strict';
    L.TileLayer.Provider = L.TileLayer.extend({
        initialize: function (arg, options) {
            var providers = L.TileLayer.Provider.providers;
            var parts = arg.split('.');
            var providerName = parts[0];
            var variantName = parts[1];
            if (!providers[providerName]) {
                throw 'No such provider (' + providerName + ')';
            }
            var provider = {
                url: providers[providerName].url,
                options: providers[providerName].options
            };
            if (variantName && 'variants' in providers[providerName]) {
                if (!(variantName in providers[providerName].variants)) {
                    throw 'No such variant of ' + providerName + ' (' + variantName + ')';
                }
                var variant = providers[providerName].variants[variantName];
                var variantOptions;
                if (typeof variant === 'string') {
                    variantOptions = {
                        variant: variant
                    };
                }
                else {
                    variantOptions = variant.options;
                }
                provider = {
                    url: variant.url || provider.url,
                    options: L.Util.extend({}, provider.options, variantOptions)
                };
            }
            var forceHTTP = window.location.protocol === 'file:' || provider.options.forceHTTP;
            if (provider.url.indexOf('//') === 0 && forceHTTP) {
                provider.url = 'http:' + provider.url;
            }
            if (provider.options.retina) {
                if (options.detectRetina && L.Browser.retina) {
                    options.detectRetina = false;
                }
                else {
                    provider.options.retina = '';
                }
            }
            var attributionReplacer = function (attr) {
                if (attr.indexOf('{attribution.') === -1) {
                    return attr;
                }
                return attr.replace(/\{attribution.(\w*)\}/, function (match, attributionName) {
                    return attributionReplacer(providers[attributionName].options.attribution);
                });
            };
            provider.options.attribution = attributionReplacer(provider.options.attribution);
            var layerOpts = L.Util.extend({}, provider.options, options);
            L.TileLayer.prototype.initialize.call(this, provider.url, layerOpts);
        }
    });
    L.TileLayer.Provider.providers = {
        OpenStreetMap: {
            url: '//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
            options: {
                maxZoom: 19,
                attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
            },
            variants: {
                Mapnik: {},
                BlackAndWhite: {
                    url: 'http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png',
                    options: {
                        maxZoom: 18
                    }
                },
                DE: {
                    url: 'http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png',
                    options: {
                        maxZoom: 18
                    }
                },
                France: {
                    url: '//{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png',
                    options: {
                        maxZoom: 20,
                        attribution: '&copy; Openstreetmap France | {attribution.OpenStreetMap}'
                    }
                },
                HOT: {
                    url: '//{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png',
                    options: {
                        attribution: '{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'
                    }
                }
            }
        },
        OpenSeaMap: {
            url: 'http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png',
            options: {
                attribution: 'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors'
            }
        },
        OpenTopoMap: {
            url: '//{s}.tile.opentopomap.org/{z}/{x}/{y}.png',
            options: {
                maxZoom: 17,
                attribution: 'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
            }
        },
        Thunderforest: {
            url: '//{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png',
            options: {
                attribution: '&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, {attribution.OpenStreetMap}',
                variant: 'cycle'
            },
            variants: {
                OpenCycleMap: 'cycle',
                Transport: {
                    options: {
                        variant: 'transport',
                        maxZoom: 19
                    }
                },
                TransportDark: {
                    options: {
                        variant: 'transport-dark',
                        maxZoom: 19
                    }
                },
                SpinalMap: {
                    options: {
                        variant: 'spinal-map',
                        maxZoom: 11
                    }
                },
                Landscape: 'landscape',
                Outdoors: 'outdoors',
                Pioneer: 'pioneer'
            }
        },
        OpenMapSurfer: {
            url: 'http://korona.geog.uni-heidelberg.de/tiles/{variant}/x={x}&y={y}&z={z}',
            options: {
                maxZoom: 20,
                variant: 'roads',
                attribution: 'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data {attribution.OpenStreetMap}'
            },
            variants: {
                Roads: 'roads',
                AdminBounds: {
                    options: {
                        variant: 'adminb',
                        maxZoom: 19
                    }
                },
                Grayscale: {
                    options: {
                        variant: 'roadsg',
                        maxZoom: 19
                    }
                }
            }
        },
        Hydda: {
            url: '//{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png',
            options: {
                variant: 'full',
                attribution: 'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'
            },
            variants: {
                Full: 'full',
                Base: 'base',
                RoadsAndLabels: 'roads_and_labels'
            }
        },
        MapBox: {
            url: '//api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}',
            options: {
                attribution: 'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; ' +
                    'Map data {attribution.OpenStreetMap}',
                subdomains: 'abcd'
            }
        },
        Stamen: {
            url: '//stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}',
            options: {
                attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, ' +
                    '<a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; ' +
                    'Map data {attribution.OpenStreetMap}',
                subdomains: 'abcd',
                minZoom: 0,
                maxZoom: 20,
                variant: 'toner',
                ext: 'png'
            },
            variants: {
                Toner: 'toner',
                TonerBackground: 'toner-background',
                TonerHybrid: 'toner-hybrid',
                TonerLines: 'toner-lines',
                TonerLabels: 'toner-labels',
                TonerLite: 'toner-lite',
                Watercolor: {
                    options: {
                        variant: 'watercolor',
                        minZoom: 1,
                        maxZoom: 16
                    }
                },
                Terrain: {
                    options: {
                        variant: 'terrain',
                        minZoom: 0,
                        maxZoom: 18
                    }
                },
                TerrainBackground: {
                    options: {
                        variant: 'terrain-background',
                        minZoom: 0,
                        maxZoom: 18
                    }
                },
                TopOSMRelief: {
                    options: {
                        variant: 'toposm-color-relief',
                        ext: 'jpg',
                        bounds: [[22, -132], [51, -56]]
                    }
                },
                TopOSMFeatures: {
                    options: {
                        variant: 'toposm-features',
                        bounds: [[22, -132], [51, -56]],
                        opacity: 0.9
                    }
                }
            }
        },
        Esri: {
            url: '//server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}',
            options: {
                variant: 'World_Street_Map',
                attribution: 'Tiles &copy; Esri'
            },
            variants: {
                WorldStreetMap: {
                    options: {
                        attribution: '{attribution.Esri} &mdash; ' +
                            'Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012'
                    }
                },
                DeLorme: {
                    options: {
                        variant: 'Specialty/DeLorme_World_Base_Map',
                        minZoom: 1,
                        maxZoom: 11,
                        attribution: '{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme'
                    }
                },
                WorldTopoMap: {
                    options: {
                        variant: 'World_Topo_Map',
                        attribution: '{attribution.Esri} &mdash; ' +
                            'Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community'
                    }
                },
                WorldImagery: {
                    options: {
                        variant: 'World_Imagery',
                        attribution: '{attribution.Esri} &mdash; ' +
                            'Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
                    }
                },
                WorldTerrain: {
                    options: {
                        variant: 'World_Terrain_Base',
                        maxZoom: 13,
                        attribution: '{attribution.Esri} &mdash; ' +
                            'Source: USGS, Esri, TANA, DeLorme, and NPS'
                    }
                },
                WorldShadedRelief: {
                    options: {
                        variant: 'World_Shaded_Relief',
                        maxZoom: 13,
                        attribution: '{attribution.Esri} &mdash; Source: Esri'
                    }
                },
                WorldPhysical: {
                    options: {
                        variant: 'World_Physical_Map',
                        maxZoom: 8,
                        attribution: '{attribution.Esri} &mdash; Source: US National Park Service'
                    }
                },
                OceanBasemap: {
                    options: {
                        variant: 'Ocean_Basemap',
                        maxZoom: 13,
                        attribution: '{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri'
                    }
                },
                NatGeoWorldMap: {
                    options: {
                        variant: 'NatGeo_World_Map',
                        maxZoom: 16,
                        attribution: '{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC'
                    }
                },
                WorldGrayCanvas: {
                    options: {
                        variant: 'Canvas/World_Light_Gray_Base',
                        maxZoom: 16,
                        attribution: '{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ'
                    }
                }
            }
        },
        OpenWeatherMap: {
            url: 'http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png',
            options: {
                maxZoom: 19,
                attribution: 'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',
                opacity: 0.5
            },
            variants: {
                Clouds: 'clouds',
                CloudsClassic: 'clouds_cls',
                Precipitation: 'precipitation',
                PrecipitationClassic: 'precipitation_cls',
                Rain: 'rain',
                RainClassic: 'rain_cls',
                Pressure: 'pressure',
                PressureContour: 'pressure_cntr',
                Wind: 'wind',
                Temperature: 'temp',
                Snow: 'snow'
            }
        },
        HERE: {
            url: '//{s}.{base}.maps.cit.api.here.com/maptile/2.1/' +
                '{type}/{mapID}/{variant}/{z}/{x}/{y}/{size}/{format}?' +
                'app_id={app_id}&app_code={app_code}&lg={language}',
            options: {
                attribution: 'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',
                subdomains: '1234',
                mapID: 'newest',
                'app_id': '<insert your app_id here>',
                'app_code': '<insert your app_code here>',
                base: 'base',
                variant: 'normal.day',
                maxZoom: 20,
                type: 'maptile',
                language: 'eng',
                format: 'png8',
                size: '256'
            },
            variants: {
                normalDay: 'normal.day',
                normalDayCustom: 'normal.day.custom',
                normalDayGrey: 'normal.day.grey',
                normalDayMobile: 'normal.day.mobile',
                normalDayGreyMobile: 'normal.day.grey.mobile',
                normalDayTransit: 'normal.day.transit',
                normalDayTransitMobile: 'normal.day.transit.mobile',
                normalNight: 'normal.night',
                normalNightMobile: 'normal.night.mobile',
                normalNightGrey: 'normal.night.grey',
                normalNightGreyMobile: 'normal.night.grey.mobile',
                basicMap: {
                    options: {
                        type: 'basetile'
                    }
                },
                mapLabels: {
                    options: {
                        type: 'labeltile',
                        format: 'png'
                    }
                },
                trafficFlow: {
                    options: {
                        base: 'traffic',
                        type: 'flowtile'
                    }
                },
                carnavDayGrey: 'carnav.day.grey',
                hybridDay: {
                    options: {
                        base: 'aerial',
                        variant: 'hybrid.day'
                    }
                },
                hybridDayMobile: {
                    options: {
                        base: 'aerial',
                        variant: 'hybrid.day.mobile'
                    }
                },
                pedestrianDay: 'pedestrian.day',
                pedestrianNight: 'pedestrian.night',
                satelliteDay: {
                    options: {
                        base: 'aerial',
                        variant: 'satellite.day'
                    }
                },
                terrainDay: {
                    options: {
                        base: 'aerial',
                        variant: 'terrain.day'
                    }
                },
                terrainDayMobile: {
                    options: {
                        base: 'aerial',
                        variant: 'terrain.day.mobile'
                    }
                }
            }
        },
        FreeMapSK: {
            url: 'http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg',
            options: {
                minZoom: 8,
                maxZoom: 16,
                subdomains: '1234',
                bounds: [[47.204642, 15.996093], [49.830896, 22.576904]],
                attribution: '{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'
            }
        },
        MtbMap: {
            url: 'http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png',
            options: {
                attribution: '{attribution.OpenStreetMap} &amp; USGS'
            }
        },
        CartoDB: {
            url: 'http://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}.png',
            options: {
                attribution: '{attribution.OpenStreetMap} &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
                subdomains: 'abcd',
                maxZoom: 19,
                variant: 'light_all'
            },
            variants: {
                Positron: 'light_all',
                PositronNoLabels: 'light_nolabels',
                PositronOnlyLabels: 'light_only_labels',
                DarkMatter: 'dark_all',
                DarkMatterNoLabels: 'dark_nolabels',
                DarkMatterOnlyLabels: 'dark_only_labels'
            }
        },
        HikeBike: {
            url: 'http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png',
            options: {
                maxZoom: 19,
                attribution: '{attribution.OpenStreetMap}',
                variant: 'hikebike'
            },
            variants: {
                HikeBike: {},
                HillShading: {
                    options: {
                        maxZoom: 15,
                        variant: 'hillshading'
                    }
                }
            }
        },
        BasemapAT: {
            url: '//maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}',
            options: {
                maxZoom: 19,
                attribution: 'Datenquelle: <a href="www.basemap.at">basemap.at</a>',
                subdomains: ['', '1', '2', '3', '4'],
                format: 'png',
                bounds: [[46.358770, 8.782379], [49.037872, 17.189532]],
                variant: 'geolandbasemap'
            },
            variants: {
                basemap: 'geolandbasemap',
                grau: 'bmapgrau',
                overlay: 'bmapoverlay',
                highdpi: {
                    options: {
                        variant: 'bmaphidpi',
                        format: 'jpeg'
                    }
                },
                orthofoto: {
                    options: {
                        variant: 'bmaporthofoto30cm',
                        format: 'jpeg'
                    }
                }
            }
        },
        NASAGIBS: {
            url: '//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}',
            options: {
                attribution: 'Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System ' +
                    '(<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.',
                bounds: [[-85.0511287776, -179.999999975], [85.0511287776, 179.999999975]],
                minZoom: 1,
                maxZoom: 9,
                format: 'jpg',
                time: '',
                tilematrixset: 'GoogleMapsCompatible_Level'
            },
            variants: {
                ModisTerraTrueColorCR: 'MODIS_Terra_CorrectedReflectance_TrueColor',
                ModisTerraBands367CR: 'MODIS_Terra_CorrectedReflectance_Bands367',
                ViirsEarthAtNight2012: {
                    options: {
                        variant: 'VIIRS_CityLights_2012',
                        maxZoom: 8
                    }
                },
                ModisTerraLSTDay: {
                    options: {
                        variant: 'MODIS_Terra_Land_Surface_Temp_Day',
                        format: 'png',
                        maxZoom: 7,
                        opacity: 0.75
                    }
                },
                ModisTerraSnowCover: {
                    options: {
                        variant: 'MODIS_Terra_Snow_Cover',
                        format: 'png',
                        maxZoom: 8,
                        opacity: 0.75
                    }
                },
                ModisTerraAOD: {
                    options: {
                        variant: 'MODIS_Terra_Aerosol',
                        format: 'png',
                        maxZoom: 6,
                        opacity: 0.75
                    }
                },
                ModisTerraChlorophyll: {
                    options: {
                        variant: 'MODIS_Terra_Chlorophyll_A',
                        format: 'png',
                        maxZoom: 7,
                        opacity: 0.75
                    }
                }
            }
        },
        NLS: {
            url: '//nls-{s}.tileserver.com/nls/{z}/{x}/{y}.jpg',
            options: {
                attribution: '<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',
                bounds: [[49.6, -12], [61.7, 3]],
                minZoom: 1,
                maxZoom: 18,
                subdomains: '0123'
            }
        }
    };
    L.tileLayer.provider = function (provider, options) {
        return new L.TileLayer.Provider(provider, options);
    };
    return L;
}));
!function (t, e, i) {
    function n() { var e = t.L; o.noConflict = function () { return t.L = e, this; }, t.L = o; }
    var o = { version: "1.0.3" };
    "object" == typeof module && "object" == typeof module.exports ? module.exports = o : "function" == typeof define && define.amd && define(o), "undefined" != typeof t && n(), o.Util = { extend: function (t) { var e, i, n, o; for (i = 1, n = arguments.length; i < n; i++) {
            o = arguments[i];
            for (e in o)
                t[e] = o[e];
        } return t; }, create: Object.create || function () { function t() { } return function (e) { return t.prototype = e, new t; }; }(), bind: function (t, e) { var i = Array.prototype.slice; if (t.bind)
            return t.bind.apply(t, i.call(arguments, 1)); var n = i.call(arguments, 2); return function () { return t.apply(e, n.length ? n.concat(i.call(arguments)) : arguments); }; }, stamp: function (t) { return t._leaflet_id = t._leaflet_id || ++o.Util.lastId, t._leaflet_id; }, lastId: 0, throttle: function (t, e, i) { var n, o, s, r; return r = function () { n = !1, o && (s.apply(i, o), o = !1); }, s = function () { n ? o = arguments : (t.apply(i, arguments), setTimeout(r, e), n = !0); }; }, wrapNum: function (t, e, i) { var n = e[1], o = e[0], s = n - o; return t === n && i ? t : ((t - o) % s + s) % s + o; }, falseFn: function () { return !1; }, formatNum: function (t, e) { var i = Math.pow(10, e || 5); return Math.round(t * i) / i; }, trim: function (t) { return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, ""); }, splitWords: function (t) { return o.Util.trim(t).split(/\s+/); }, setOptions: function (t, e) { t.hasOwnProperty("options") || (t.options = t.options ? o.Util.create(t.options) : {}); for (var i in e)
            t.options[i] = e[i]; return t.options; }, getParamString: function (t, e, i) { var n = []; for (var o in t)
            n.push(encodeURIComponent(i ? o.toUpperCase() : o) + "=" + encodeURIComponent(t[o])); return (e && e.indexOf("?") !== -1 ? "&" : "?") + n.join("&"); }, template: function (t, e) { return t.replace(o.Util.templateRe, function (t, n) { var o = e[n]; if (o === i)
            throw new Error("No value provided for variable " + t); return "function" == typeof o && (o = o(e)), o; }); }, templateRe: /\{ *([\w_\-]+) *\}/g, isArray: Array.isArray || function (t) { return "[object Array]" === Object.prototype.toString.call(t); }, indexOf: function (t, e) { for (var i = 0; i < t.length; i++)
            if (t[i] === e)
                return i; return -1; }, emptyImageUrl: "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" }, function () { function e(e) { return t["webkit" + e] || t["moz" + e] || t["ms" + e]; } function i(e) { var i = +new Date, o = Math.max(0, 16 - (i - n)); return n = i + o, t.setTimeout(e, o); } var n = 0, s = t.requestAnimationFrame || e("RequestAnimationFrame") || i, r = t.cancelAnimationFrame || e("CancelAnimationFrame") || e("CancelRequestAnimationFrame") || function (e) { t.clearTimeout(e); }; o.Util.requestAnimFrame = function (e, n, r) { return r && s === i ? void e.call(n) : s.call(t, o.bind(e, n)); }, o.Util.cancelAnimFrame = function (e) { e && r.call(t, e); }; }(), o.extend = o.Util.extend, o.bind = o.Util.bind, o.stamp = o.Util.stamp, o.setOptions = o.Util.setOptions, o.Class = function () { }, o.Class.extend = function (t) { var e = function () { this.initialize && this.initialize.apply(this, arguments), this.callInitHooks(); }, i = e.__super__ = this.prototype, n = o.Util.create(i); n.constructor = e, e.prototype = n; for (var s in this)
        this.hasOwnProperty(s) && "prototype" !== s && (e[s] = this[s]); return t.statics && (o.extend(e, t.statics), delete t.statics), t.includes && (o.Util.extend.apply(null, [n].concat(t.includes)), delete t.includes), n.options && (t.options = o.Util.extend(o.Util.create(n.options), t.options)), o.extend(n, t), n._initHooks = [], n.callInitHooks = function () { if (!this._initHooksCalled) {
        i.callInitHooks && i.callInitHooks.call(this), this._initHooksCalled = !0;
        for (var t = 0, e = n._initHooks.length; t < e; t++)
            n._initHooks[t].call(this);
    } }, e; }, o.Class.include = function (t) { return o.extend(this.prototype, t), this; }, o.Class.mergeOptions = function (t) { return o.extend(this.prototype.options, t), this; }, o.Class.addInitHook = function (t) { var e = Array.prototype.slice.call(arguments, 1), i = "function" == typeof t ? t : function () { this[t].apply(this, e); }; return this.prototype._initHooks = this.prototype._initHooks || [], this.prototype._initHooks.push(i), this; }, o.Evented = o.Class.extend({ on: function (t, e, i) { if ("object" == typeof t)
            for (var n in t)
                this._on(n, t[n], e);
        else {
            t = o.Util.splitWords(t);
            for (var s = 0, r = t.length; s < r; s++)
                this._on(t[s], e, i);
        } return this; }, off: function (t, e, i) { if (t)
            if ("object" == typeof t)
                for (var n in t)
                    this._off(n, t[n], e);
            else {
                t = o.Util.splitWords(t);
                for (var s = 0, r = t.length; s < r; s++)
                    this._off(t[s], e, i);
            }
        else
            delete this._events; return this; }, _on: function (t, e, n) { this._events = this._events || {}; var o = this._events[t]; o || (o = [], this._events[t] = o), n === this && (n = i); for (var s = { fn: e, ctx: n }, r = o, a = 0, h = r.length; a < h; a++)
            if (r[a].fn === e && r[a].ctx === n)
                return; r.push(s); }, _off: function (t, e, n) { var s, r, a; if (this._events && (s = this._events[t])) {
            if (!e) {
                for (r = 0, a = s.length; r < a; r++)
                    s[r].fn = o.Util.falseFn;
                return void delete this._events[t];
            }
            if (n === this && (n = i), s)
                for (r = 0, a = s.length; r < a; r++) {
                    var h = s[r];
                    if (h.ctx === n && h.fn === e)
                        return h.fn = o.Util.falseFn, this._firingCount && (this._events[t] = s = s.slice()), void s.splice(r, 1);
                }
        } }, fire: function (t, e, i) { if (!this.listens(t, i))
            return this; var n = o.Util.extend({}, e, { type: t, target: this }); if (this._events) {
            var s = this._events[t];
            if (s) {
                this._firingCount = this._firingCount + 1 || 1;
                for (var r = 0, a = s.length; r < a; r++) {
                    var h = s[r];
                    h.fn.call(h.ctx || this, n);
                }
                this._firingCount--;
            }
        } return i && this._propagateEvent(n), this; }, listens: function (t, e) { var i = this._events && this._events[t]; if (i && i.length)
            return !0; if (e)
            for (var n in this._eventParents)
                if (this._eventParents[n].listens(t, e))
                    return !0; return !1; }, once: function (t, e, i) { if ("object" == typeof t) {
            for (var n in t)
                this.once(n, t[n], e);
            return this;
        } var s = o.bind(function () { this.off(t, e, i).off(t, s, i); }, this); return this.on(t, e, i).on(t, s, i); }, addEventParent: function (t) { return this._eventParents = this._eventParents || {}, this._eventParents[o.stamp(t)] = t, this; }, removeEventParent: function (t) { return this._eventParents && delete this._eventParents[o.stamp(t)], this; }, _propagateEvent: function (t) { for (var e in this._eventParents)
            this._eventParents[e].fire(t.type, o.extend({ layer: t.target }, t), !0); } });
    var s = o.Evented.prototype;
    s.addEventListener = s.on, s.removeEventListener = s.clearAllEventListeners = s.off, s.addOneTimeEventListener = s.once, s.fireEvent = s.fire, s.hasEventListeners = s.listens, o.Mixin = { Events: s }, function () { var i = navigator.userAgent.toLowerCase(), n = e.documentElement, s = "ActiveXObject" in t, r = i.indexOf("webkit") !== -1, a = i.indexOf("phantom") !== -1, h = i.search("android [23]") !== -1, l = i.indexOf("chrome") !== -1, u = i.indexOf("gecko") !== -1 && !r && !t.opera && !s, c = 0 === navigator.platform.indexOf("Win"), d = "undefined" != typeof orientation || i.indexOf("mobile") !== -1, _ = !t.PointerEvent && t.MSPointerEvent, m = t.PointerEvent || _, p = s && "transition" in n.style, f = "WebKitCSSMatrix" in t && "m11" in new t.WebKitCSSMatrix && !h, g = "MozPerspective" in n.style, v = "OTransition" in n.style, y = !t.L_NO_TOUCH && (m || "ontouchstart" in t || t.DocumentTouch && e instanceof t.DocumentTouch); o.Browser = { ie: s, ielt9: s && !e.addEventListener, edge: "msLaunchUri" in navigator && !("documentMode" in e), webkit: r, gecko: u, android: i.indexOf("android") !== -1, android23: h, chrome: l, safari: !l && i.indexOf("safari") !== -1, win: c, ie3d: p, webkit3d: f, gecko3d: g, opera12: v, any3d: !t.L_DISABLE_3D && (p || f || g) && !v && !a, mobile: d, mobileWebkit: d && r, mobileWebkit3d: d && f, mobileOpera: d && t.opera, mobileGecko: d && u, touch: !!y, msPointer: !!_, pointer: !!m, retina: (t.devicePixelRatio || t.screen.deviceXDPI / t.screen.logicalXDPI) > 1 }; }(), o.Point = function (t, e, i) { this.x = i ? Math.round(t) : t, this.y = i ? Math.round(e) : e; }, o.Point.prototype = { clone: function () { return new o.Point(this.x, this.y); }, add: function (t) { return this.clone()._add(o.point(t)); }, _add: function (t) { return this.x += t.x, this.y += t.y, this; }, subtract: function (t) { return this.clone()._subtract(o.point(t)); }, _subtract: function (t) { return this.x -= t.x, this.y -= t.y, this; }, divideBy: function (t) { return this.clone()._divideBy(t); }, _divideBy: function (t) { return this.x /= t, this.y /= t, this; }, multiplyBy: function (t) { return this.clone()._multiplyBy(t); }, _multiplyBy: function (t) { return this.x *= t, this.y *= t, this; }, scaleBy: function (t) { return new o.Point(this.x * t.x, this.y * t.y); }, unscaleBy: function (t) { return new o.Point(this.x / t.x, this.y / t.y); }, round: function () { return this.clone()._round(); }, _round: function () { return this.x = Math.round(this.x), this.y = Math.round(this.y), this; }, floor: function () { return this.clone()._floor(); }, _floor: function () { return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this; }, ceil: function () { return this.clone()._ceil(); }, _ceil: function () { return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this; }, distanceTo: function (t) { t = o.point(t); var e = t.x - this.x, i = t.y - this.y; return Math.sqrt(e * e + i * i); }, equals: function (t) { return t = o.point(t), t.x === this.x && t.y === this.y; }, contains: function (t) { return t = o.point(t), Math.abs(t.x) <= Math.abs(this.x) && Math.abs(t.y) <= Math.abs(this.y); }, toString: function () { return "Point(" + o.Util.formatNum(this.x) + ", " + o.Util.formatNum(this.y) + ")"; } }, o.point = function (t, e, n) { return t instanceof o.Point ? t : o.Util.isArray(t) ? new o.Point(t[0], t[1]) : t === i || null === t ? t : "object" == typeof t && "x" in t && "y" in t ? new o.Point(t.x, t.y) : new o.Point(t, e, n); }, o.Bounds = function (t, e) { if (t)
        for (var i = e ? [t, e] : t, n = 0, o = i.length; n < o; n++)
            this.extend(i[n]); }, o.Bounds.prototype = { extend: function (t) { return t = o.point(t), this.min || this.max ? (this.min.x = Math.min(t.x, this.min.x), this.max.x = Math.max(t.x, this.max.x), this.min.y = Math.min(t.y, this.min.y), this.max.y = Math.max(t.y, this.max.y)) : (this.min = t.clone(), this.max = t.clone()), this; }, getCenter: function (t) { return new o.Point((this.min.x + this.max.x) / 2, (this.min.y + this.max.y) / 2, t); }, getBottomLeft: function () { return new o.Point(this.min.x, this.max.y); }, getTopRight: function () { return new o.Point(this.max.x, this.min.y); }, getSize: function () { return this.max.subtract(this.min); }, contains: function (t) { var e, i; return t = "number" == typeof t[0] || t instanceof o.Point ? o.point(t) : o.bounds(t), t instanceof o.Bounds ? (e = t.min, i = t.max) : e = i = t, e.x >= this.min.x && i.x <= this.max.x && e.y >= this.min.y && i.y <= this.max.y; }, intersects: function (t) { t = o.bounds(t); var e = this.min, i = this.max, n = t.min, s = t.max, r = s.x >= e.x && n.x <= i.x, a = s.y >= e.y && n.y <= i.y; return r && a; }, overlaps: function (t) { t = o.bounds(t); var e = this.min, i = this.max, n = t.min, s = t.max, r = s.x > e.x && n.x < i.x, a = s.y > e.y && n.y < i.y; return r && a; }, isValid: function () { return !(!this.min || !this.max); } }, o.bounds = function (t, e) { return !t || t instanceof o.Bounds ? t : new o.Bounds(t, e); }, o.Transformation = function (t, e, i, n) { this._a = t, this._b = e, this._c = i, this._d = n; }, o.Transformation.prototype = { transform: function (t, e) { return this._transform(t.clone(), e); }, _transform: function (t, e) { return e = e || 1, t.x = e * (this._a * t.x + this._b), t.y = e * (this._c * t.y + this._d), t; }, untransform: function (t, e) { return e = e || 1, new o.Point((t.x / e - this._b) / this._a, (t.y / e - this._d) / this._c); } }, o.DomUtil = { get: function (t) { return "string" == typeof t ? e.getElementById(t) : t; }, getStyle: function (t, i) { var n = t.style[i] || t.currentStyle && t.currentStyle[i]; if ((!n || "auto" === n) && e.defaultView) {
            var o = e.defaultView.getComputedStyle(t, null);
            n = o ? o[i] : null;
        } return "auto" === n ? null : n; }, create: function (t, i, n) { var o = e.createElement(t); return o.className = i || "", n && n.appendChild(o), o; }, remove: function (t) { var e = t.parentNode; e && e.removeChild(t); }, empty: function (t) { for (; t.firstChild;)
            t.removeChild(t.firstChild); }, toFront: function (t) { t.parentNode.appendChild(t); }, toBack: function (t) { var e = t.parentNode; e.insertBefore(t, e.firstChild); }, hasClass: function (t, e) { if (t.classList !== i)
            return t.classList.contains(e); var n = o.DomUtil.getClass(t); return n.length > 0 && new RegExp("(^|\\s)" + e + "(\\s|$)").test(n); }, addClass: function (t, e) { if (t.classList !== i)
            for (var n = o.Util.splitWords(e), s = 0, r = n.length; s < r; s++)
                t.classList.add(n[s]);
        else if (!o.DomUtil.hasClass(t, e)) {
            var a = o.DomUtil.getClass(t);
            o.DomUtil.setClass(t, (a ? a + " " : "") + e);
        } }, removeClass: function (t, e) { t.classList !== i ? t.classList.remove(e) : o.DomUtil.setClass(t, o.Util.trim((" " + o.DomUtil.getClass(t) + " ").replace(" " + e + " ", " "))); }, setClass: function (t, e) { t.className.baseVal === i ? t.className = e : t.className.baseVal = e; }, getClass: function (t) { return t.className.baseVal === i ? t.className : t.className.baseVal; }, setOpacity: function (t, e) { "opacity" in t.style ? t.style.opacity = e : "filter" in t.style && o.DomUtil._setOpacityIE(t, e); }, _setOpacityIE: function (t, e) { var i = !1, n = "DXImageTransform.Microsoft.Alpha"; try {
            i = t.filters.item(n);
        }
        catch (t) {
            if (1 === e)
                return;
        } e = Math.round(100 * e), i ? (i.Enabled = 100 !== e, i.Opacity = e) : t.style.filter += " progid:" + n + "(opacity=" + e + ")"; }, testProp: function (t) { for (var i = e.documentElement.style, n = 0; n < t.length; n++)
            if (t[n] in i)
                return t[n]; return !1; }, setTransform: function (t, e, i) { var n = e || new o.Point(0, 0); t.style[o.DomUtil.TRANSFORM] = (o.Browser.ie3d ? "translate(" + n.x + "px," + n.y + "px)" : "translate3d(" + n.x + "px," + n.y + "px,0)") + (i ? " scale(" + i + ")" : ""); }, setPosition: function (t, e) { t._leaflet_pos = e, o.Browser.any3d ? o.DomUtil.setTransform(t, e) : (t.style.left = e.x + "px", t.style.top = e.y + "px"); }, getPosition: function (t) { return t._leaflet_pos || new o.Point(0, 0); } }, function () { o.DomUtil.TRANSFORM = o.DomUtil.testProp(["transform", "WebkitTransform", "OTransform", "MozTransform", "msTransform"]); var i = o.DomUtil.TRANSITION = o.DomUtil.testProp(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]); if (o.DomUtil.TRANSITION_END = "webkitTransition" === i || "OTransition" === i ? i + "End" : "transitionend", "onselectstart" in e)
        o.DomUtil.disableTextSelection = function () { o.DomEvent.on(t, "selectstart", o.DomEvent.preventDefault); }, o.DomUtil.enableTextSelection = function () { o.DomEvent.off(t, "selectstart", o.DomEvent.preventDefault); };
    else {
        var n = o.DomUtil.testProp(["userSelect", "WebkitUserSelect", "OUserSelect", "MozUserSelect", "msUserSelect"]);
        o.DomUtil.disableTextSelection = function () { if (n) {
            var t = e.documentElement.style;
            this._userSelect = t[n], t[n] = "none";
        } }, o.DomUtil.enableTextSelection = function () { n && (e.documentElement.style[n] = this._userSelect, delete this._userSelect); };
    } o.DomUtil.disableImageDrag = function () { o.DomEvent.on(t, "dragstart", o.DomEvent.preventDefault); }, o.DomUtil.enableImageDrag = function () { o.DomEvent.off(t, "dragstart", o.DomEvent.preventDefault); }, o.DomUtil.preventOutline = function (e) { for (; e.tabIndex === -1;)
        e = e.parentNode; e && e.style && (o.DomUtil.restoreOutline(), this._outlineElement = e, this._outlineStyle = e.style.outline, e.style.outline = "none", o.DomEvent.on(t, "keydown", o.DomUtil.restoreOutline, this)); }, o.DomUtil.restoreOutline = function () { this._outlineElement && (this._outlineElement.style.outline = this._outlineStyle, delete this._outlineElement, delete this._outlineStyle, o.DomEvent.off(t, "keydown", o.DomUtil.restoreOutline, this)); }; }(), o.LatLng = function (t, e, n) { if (isNaN(t) || isNaN(e))
        throw new Error("Invalid LatLng object: (" + t + ", " + e + ")"); this.lat = +t, this.lng = +e, n !== i && (this.alt = +n); }, o.LatLng.prototype = { equals: function (t, e) { if (!t)
            return !1; t = o.latLng(t); var n = Math.max(Math.abs(this.lat - t.lat), Math.abs(this.lng - t.lng)); return n <= (e === i ? 1e-9 : e); }, toString: function (t) { return "LatLng(" + o.Util.formatNum(this.lat, t) + ", " + o.Util.formatNum(this.lng, t) + ")"; }, distanceTo: function (t) { return o.CRS.Earth.distance(this, o.latLng(t)); }, wrap: function () { return o.CRS.Earth.wrapLatLng(this); }, toBounds: function (t) { var e = 180 * t / 40075017, i = e / Math.cos(Math.PI / 180 * this.lat); return o.latLngBounds([this.lat - e, this.lng - i], [this.lat + e, this.lng + i]); }, clone: function () { return new o.LatLng(this.lat, this.lng, this.alt); } }, o.latLng = function (t, e, n) { return t instanceof o.LatLng ? t : o.Util.isArray(t) && "object" != typeof t[0] ? 3 === t.length ? new o.LatLng(t[0], t[1], t[2]) : 2 === t.length ? new o.LatLng(t[0], t[1]) : null : t === i || null === t ? t : "object" == typeof t && "lat" in t ? new o.LatLng(t.lat, "lng" in t ? t.lng : t.lon, t.alt) : e === i ? null : new o.LatLng(t, e, n); }, o.LatLngBounds = function (t, e) { if (t)
        for (var i = e ? [t, e] : t, n = 0, o = i.length; n < o; n++)
            this.extend(i[n]); }, o.LatLngBounds.prototype = { extend: function (t) { var e, i, n = this._southWest, s = this._northEast; if (t instanceof o.LatLng)
            e = t, i = t;
        else {
            if (!(t instanceof o.LatLngBounds))
                return t ? this.extend(o.latLng(t) || o.latLngBounds(t)) : this;
            if (e = t._southWest, i = t._northEast, !e || !i)
                return this;
        } return n || s ? (n.lat = Math.min(e.lat, n.lat), n.lng = Math.min(e.lng, n.lng), s.lat = Math.max(i.lat, s.lat), s.lng = Math.max(i.lng, s.lng)) : (this._southWest = new o.LatLng(e.lat, e.lng), this._northEast = new o.LatLng(i.lat, i.lng)), this; }, pad: function (t) { var e = this._southWest, i = this._northEast, n = Math.abs(e.lat - i.lat) * t, s = Math.abs(e.lng - i.lng) * t; return new o.LatLngBounds(new o.LatLng(e.lat - n, e.lng - s), new o.LatLng(i.lat + n, i.lng + s)); }, getCenter: function () { return new o.LatLng((this._southWest.lat + this._northEast.lat) / 2, (this._southWest.lng + this._northEast.lng) / 2); }, getSouthWest: function () { return this._southWest; }, getNorthEast: function () { return this._northEast; }, getNorthWest: function () { return new o.LatLng(this.getNorth(), this.getWest()); }, getSouthEast: function () { return new o.LatLng(this.getSouth(), this.getEast()); }, getWest: function () { return this._southWest.lng; }, getSouth: function () { return this._southWest.lat; }, getEast: function () { return this._northEast.lng; }, getNorth: function () { return this._northEast.lat; }, contains: function (t) { t = "number" == typeof t[0] || t instanceof o.LatLng || "lat" in t ? o.latLng(t) : o.latLngBounds(t); var e, i, n = this._southWest, s = this._northEast; return t instanceof o.LatLngBounds ? (e = t.getSouthWest(), i = t.getNorthEast()) : e = i = t, e.lat >= n.lat && i.lat <= s.lat && e.lng >= n.lng && i.lng <= s.lng; }, intersects: function (t) { t = o.latLngBounds(t); var e = this._southWest, i = this._northEast, n = t.getSouthWest(), s = t.getNorthEast(), r = s.lat >= e.lat && n.lat <= i.lat, a = s.lng >= e.lng && n.lng <= i.lng; return r && a; }, overlaps: function (t) { t = o.latLngBounds(t); var e = this._southWest, i = this._northEast, n = t.getSouthWest(), s = t.getNorthEast(), r = s.lat > e.lat && n.lat < i.lat, a = s.lng > e.lng && n.lng < i.lng; return r && a; }, toBBoxString: function () { return [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(","); }, equals: function (t) { return !!t && (t = o.latLngBounds(t), this._southWest.equals(t.getSouthWest()) && this._northEast.equals(t.getNorthEast())); }, isValid: function () { return !(!this._southWest || !this._northEast); } }, o.latLngBounds = function (t, e) { return t instanceof o.LatLngBounds ? t : new o.LatLngBounds(t, e); }, o.Projection = {}, o.Projection.LonLat = { project: function (t) { return new o.Point(t.lng, t.lat); }, unproject: function (t) { return new o.LatLng(t.y, t.x); }, bounds: o.bounds([-180, -90], [180, 90]) }, o.Projection.SphericalMercator = { R: 6378137, MAX_LATITUDE: 85.0511287798, project: function (t) { var e = Math.PI / 180, i = this.MAX_LATITUDE, n = Math.max(Math.min(i, t.lat), -i), s = Math.sin(n * e); return new o.Point(this.R * t.lng * e, this.R * Math.log((1 + s) / (1 - s)) / 2); }, unproject: function (t) { var e = 180 / Math.PI; return new o.LatLng((2 * Math.atan(Math.exp(t.y / this.R)) - Math.PI / 2) * e, t.x * e / this.R); }, bounds: function () { var t = 6378137 * Math.PI; return o.bounds([-t, -t], [t, t]); }() }, o.CRS = { latLngToPoint: function (t, e) { var i = this.projection.project(t), n = this.scale(e); return this.transformation._transform(i, n); }, pointToLatLng: function (t, e) { var i = this.scale(e), n = this.transformation.untransform(t, i); return this.projection.unproject(n); }, project: function (t) { return this.projection.project(t); }, unproject: function (t) { return this.projection.unproject(t); }, scale: function (t) { return 256 * Math.pow(2, t); }, zoom: function (t) { return Math.log(t / 256) / Math.LN2; }, getProjectedBounds: function (t) { if (this.infinite)
            return null; var e = this.projection.bounds, i = this.scale(t), n = this.transformation.transform(e.min, i), s = this.transformation.transform(e.max, i); return o.bounds(n, s); }, infinite: !1, wrapLatLng: function (t) { var e = this.wrapLng ? o.Util.wrapNum(t.lng, this.wrapLng, !0) : t.lng, i = this.wrapLat ? o.Util.wrapNum(t.lat, this.wrapLat, !0) : t.lat, n = t.alt; return o.latLng(i, e, n); }, wrapLatLngBounds: function (t) { var e = t.getCenter(), i = this.wrapLatLng(e), n = e.lat - i.lat, s = e.lng - i.lng; if (0 === n && 0 === s)
            return t; var r = t.getSouthWest(), a = t.getNorthEast(), h = o.latLng({ lat: r.lat - n, lng: r.lng - s }), l = o.latLng({ lat: a.lat - n, lng: a.lng - s }); return new o.LatLngBounds(h, l); } }, o.CRS.Simple = o.extend({}, o.CRS, { projection: o.Projection.LonLat, transformation: new o.Transformation(1, 0, -1, 0), scale: function (t) { return Math.pow(2, t); }, zoom: function (t) { return Math.log(t) / Math.LN2; }, distance: function (t, e) { var i = e.lng - t.lng, n = e.lat - t.lat; return Math.sqrt(i * i + n * n); }, infinite: !0 }), o.CRS.Earth = o.extend({}, o.CRS, { wrapLng: [-180, 180], R: 6371e3, distance: function (t, e) { var i = Math.PI / 180, n = t.lat * i, o = e.lat * i, s = Math.sin(n) * Math.sin(o) + Math.cos(n) * Math.cos(o) * Math.cos((e.lng - t.lng) * i); return this.R * Math.acos(Math.min(s, 1)); } }), o.CRS.EPSG3857 = o.extend({}, o.CRS.Earth, { code: "EPSG:3857", projection: o.Projection.SphericalMercator, transformation: function () { var t = .5 / (Math.PI * o.Projection.SphericalMercator.R); return new o.Transformation(t, .5, -t, .5); }() }), o.CRS.EPSG900913 = o.extend({}, o.CRS.EPSG3857, { code: "EPSG:900913" }), o.CRS.EPSG4326 = o.extend({}, o.CRS.Earth, { code: "EPSG:4326", projection: o.Projection.LonLat, transformation: new o.Transformation(1 / 180, 1, -1 / 180, .5) }), o.Map = o.Evented.extend({ options: { crs: o.CRS.EPSG3857, center: i, zoom: i, minZoom: i, maxZoom: i, layers: [], maxBounds: i, renderer: i, zoomAnimation: !0, zoomAnimationThreshold: 4, fadeAnimation: !0, markerZoomAnimation: !0, transform3DLimit: 8388608, zoomSnap: 1, zoomDelta: 1, trackResize: !0 }, initialize: function (t, e) { e = o.setOptions(this, e), this._initContainer(t), this._initLayout(), this._onResize = o.bind(this._onResize, this), this._initEvents(), e.maxBounds && this.setMaxBounds(e.maxBounds), e.zoom !== i && (this._zoom = this._limitZoom(e.zoom)), e.center && e.zoom !== i && this.setView(o.latLng(e.center), e.zoom, { reset: !0 }), this._handlers = [], this._layers = {}, this._zoomBoundLayers = {}, this._sizeChanged = !0, this.callInitHooks(), this._zoomAnimated = o.DomUtil.TRANSITION && o.Browser.any3d && !o.Browser.mobileOpera && this.options.zoomAnimation, this._zoomAnimated && (this._createAnimProxy(), o.DomEvent.on(this._proxy, o.DomUtil.TRANSITION_END, this._catchTransitionEnd, this)), this._addLayers(this.options.layers); }, setView: function (t, e, n) { if (e = e === i ? this._zoom : this._limitZoom(e), t = this._limitCenter(o.latLng(t), e, this.options.maxBounds), n = n || {}, this._stop(), this._loaded && !n.reset && n !== !0) {
            n.animate !== i && (n.zoom = o.extend({ animate: n.animate }, n.zoom), n.pan = o.extend({ animate: n.animate, duration: n.duration }, n.pan));
            var s = this._zoom !== e ? this._tryAnimatedZoom && this._tryAnimatedZoom(t, e, n.zoom) : this._tryAnimatedPan(t, n.pan);
            if (s)
                return clearTimeout(this._sizeTimer), this;
        } return this._resetView(t, e), this; }, setZoom: function (t, e) { return this._loaded ? this.setView(this.getCenter(), t, { zoom: e }) : (this._zoom = t, this); }, zoomIn: function (t, e) { return t = t || (o.Browser.any3d ? this.options.zoomDelta : 1), this.setZoom(this._zoom + t, e); }, zoomOut: function (t, e) { return t = t || (o.Browser.any3d ? this.options.zoomDelta : 1), this.setZoom(this._zoom - t, e); }, setZoomAround: function (t, e, i) { var n = this.getZoomScale(e), s = this.getSize().divideBy(2), r = t instanceof o.Point ? t : this.latLngToContainerPoint(t), a = r.subtract(s).multiplyBy(1 - 1 / n), h = this.containerPointToLatLng(s.add(a)); return this.setView(h, e, { zoom: i }); }, _getBoundsCenterZoom: function (t, e) { e = e || {}, t = t.getBounds ? t.getBounds() : o.latLngBounds(t); var i = o.point(e.paddingTopLeft || e.padding || [0, 0]), n = o.point(e.paddingBottomRight || e.padding || [0, 0]), s = this.getBoundsZoom(t, !1, i.add(n)); s = "number" == typeof e.maxZoom ? Math.min(e.maxZoom, s) : s; var r = n.subtract(i).divideBy(2), a = this.project(t.getSouthWest(), s), h = this.project(t.getNorthEast(), s), l = this.unproject(a.add(h).divideBy(2).add(r), s); return { center: l, zoom: s }; }, fitBounds: function (t, e) { if (t = o.latLngBounds(t), !t.isValid())
            throw new Error("Bounds are not valid."); var i = this._getBoundsCenterZoom(t, e); return this.setView(i.center, i.zoom, e); }, fitWorld: function (t) { return this.fitBounds([[-90, -180], [90, 180]], t); }, panTo: function (t, e) { return this.setView(t, this._zoom, { pan: e }); }, panBy: function (t, e) { if (t = o.point(t).round(), e = e || {}, !t.x && !t.y)
            return this.fire("moveend"); if (e.animate !== !0 && !this.getSize().contains(t))
            return this._resetView(this.unproject(this.project(this.getCenter()).add(t)), this.getZoom()), this; if (this._panAnim || (this._panAnim = new o.PosAnimation, this._panAnim.on({ step: this._onPanTransitionStep, end: this._onPanTransitionEnd }, this)), e.noMoveStart || this.fire("movestart"), e.animate !== !1) {
            o.DomUtil.addClass(this._mapPane, "leaflet-pan-anim");
            var i = this._getMapPanePos().subtract(t).round();
            this._panAnim.run(this._mapPane, i, e.duration || .25, e.easeLinearity);
        }
        else
            this._rawPanBy(t), this.fire("move").fire("moveend"); return this; }, flyTo: function (t, e, n) { function s(t) { var e = t ? -1 : 1, i = t ? v : g, n = v * v - g * g + e * L * L * y * y, o = 2 * i * L * y, s = n / o, r = Math.sqrt(s * s + 1) - s, a = r < 1e-9 ? -18 : Math.log(r); return a; } function r(t) { return (Math.exp(t) - Math.exp(-t)) / 2; } function a(t) { return (Math.exp(t) + Math.exp(-t)) / 2; } function h(t) { return r(t) / a(t); } function l(t) { return g * (a(x) / a(x + P * t)); } function u(t) { return g * (a(x) * h(x + P * t) - r(x)) / L; } function c(t) { return 1 - Math.pow(1 - t, 1.5); } function d() { var i = (Date.now() - w) / T, n = c(i) * b; i <= 1 ? (this._flyToFrame = o.Util.requestAnimFrame(d, this), this._move(this.unproject(_.add(m.subtract(_).multiplyBy(u(n) / y)), f), this.getScaleZoom(g / l(n), f), { flyTo: !0 })) : this._move(t, e)._moveEnd(!0); } if (n = n || {}, n.animate === !1 || !o.Browser.any3d)
            return this.setView(t, e, n); this._stop(); var _ = this.project(this.getCenter()), m = this.project(t), p = this.getSize(), f = this._zoom; t = o.latLng(t), e = e === i ? f : e; var g = Math.max(p.x, p.y), v = g * this.getZoomScale(f, e), y = m.distanceTo(_) || 1, P = 1.42, L = P * P, x = s(0), w = Date.now(), b = (s(1) - x) / P, T = n.duration ? 1e3 * n.duration : 1e3 * b * .8; return this._moveStart(!0), d.call(this), this; }, flyToBounds: function (t, e) { var i = this._getBoundsCenterZoom(t, e); return this.flyTo(i.center, i.zoom, e); }, setMaxBounds: function (t) { return t = o.latLngBounds(t), t.isValid() ? (this.options.maxBounds && this.off("moveend", this._panInsideMaxBounds), this.options.maxBounds = t, this._loaded && this._panInsideMaxBounds(), this.on("moveend", this._panInsideMaxBounds)) : (this.options.maxBounds = null, this.off("moveend", this._panInsideMaxBounds)); }, setMinZoom: function (t) { return this.options.minZoom = t, this._loaded && this.getZoom() < this.options.minZoom ? this.setZoom(t) : this; }, setMaxZoom: function (t) { return this.options.maxZoom = t, this._loaded && this.getZoom() > this.options.maxZoom ? this.setZoom(t) : this; }, panInsideBounds: function (t, e) { this._enforcingBounds = !0; var i = this.getCenter(), n = this._limitCenter(i, this._zoom, o.latLngBounds(t)); return i.equals(n) || this.panTo(n, e), this._enforcingBounds = !1, this; }, invalidateSize: function (t) { if (!this._loaded)
            return this; t = o.extend({ animate: !1, pan: !0 }, t === !0 ? { animate: !0 } : t); var e = this.getSize(); this._sizeChanged = !0, this._lastCenter = null; var i = this.getSize(), n = e.divideBy(2).round(), s = i.divideBy(2).round(), r = n.subtract(s); return r.x || r.y ? (t.animate && t.pan ? this.panBy(r) : (t.pan && this._rawPanBy(r), this.fire("move"), t.debounceMoveend ? (clearTimeout(this._sizeTimer), this._sizeTimer = setTimeout(o.bind(this.fire, this, "moveend"), 200)) : this.fire("moveend")), this.fire("resize", { oldSize: e, newSize: i })) : this; }, stop: function () { return this.setZoom(this._limitZoom(this._zoom)), this.options.zoomSnap || this.fire("viewreset"), this._stop(); }, locate: function (t) { if (t = this._locateOptions = o.extend({ timeout: 1e4, watch: !1 }, t), !("geolocation" in navigator))
            return this._handleGeolocationError({ code: 0, message: "Geolocation not supported." }), this; var e = o.bind(this._handleGeolocationResponse, this), i = o.bind(this._handleGeolocationError, this); return t.watch ? this._locationWatchId = navigator.geolocation.watchPosition(e, i, t) : navigator.geolocation.getCurrentPosition(e, i, t), this; }, stopLocate: function () { return navigator.geolocation && navigator.geolocation.clearWatch && navigator.geolocation.clearWatch(this._locationWatchId), this._locateOptions && (this._locateOptions.setView = !1), this; }, _handleGeolocationError: function (t) { var e = t.code, i = t.message || (1 === e ? "permission denied" : 2 === e ? "position unavailable" : "timeout"); this._locateOptions.setView && !this._loaded && this.fitWorld(), this.fire("locationerror", { code: e, message: "Geolocation error: " + i + "." }); }, _handleGeolocationResponse: function (t) { var e = t.coords.latitude, i = t.coords.longitude, n = new o.LatLng(e, i), s = n.toBounds(t.coords.accuracy), r = this._locateOptions; if (r.setView) {
            var a = this.getBoundsZoom(s);
            this.setView(n, r.maxZoom ? Math.min(a, r.maxZoom) : a);
        } var h = { latlng: n, bounds: s, timestamp: t.timestamp }; for (var l in t.coords)
            "number" == typeof t.coords[l] && (h[l] = t.coords[l]); this.fire("locationfound", h); }, addHandler: function (t, e) { if (!e)
            return this; var i = this[t] = new e(this); return this._handlers.push(i), this.options[t] && i.enable(), this; }, remove: function () { if (this._initEvents(!0), this._containerId !== this._container._leaflet_id)
            throw new Error("Map container is being reused by another instance"); try {
            delete this._container._leaflet_id, delete this._containerId;
        }
        catch (t) {
            this._container._leaflet_id = i, this._containerId = i;
        } o.DomUtil.remove(this._mapPane), this._clearControlPos && this._clearControlPos(), this._clearHandlers(), this._loaded && this.fire("unload"); for (var t in this._layers)
            this._layers[t].remove(); return this; }, createPane: function (t, e) { var i = "leaflet-pane" + (t ? " leaflet-" + t.replace("Pane", "") + "-pane" : ""), n = o.DomUtil.create("div", i, e || this._mapPane); return t && (this._panes[t] = n), n; }, getCenter: function () { return this._checkIfLoaded(), this._lastCenter && !this._moved() ? this._lastCenter : this.layerPointToLatLng(this._getCenterLayerPoint()); }, getZoom: function () { return this._zoom; }, getBounds: function () { var t = this.getPixelBounds(), e = this.unproject(t.getBottomLeft()), i = this.unproject(t.getTopRight()); return new o.LatLngBounds(e, i); }, getMinZoom: function () { return this.options.minZoom === i ? this._layersMinZoom || 0 : this.options.minZoom; }, getMaxZoom: function () { return this.options.maxZoom === i ? this._layersMaxZoom === i ? 1 / 0 : this._layersMaxZoom : this.options.maxZoom; }, getBoundsZoom: function (t, e, i) { t = o.latLngBounds(t), i = o.point(i || [0, 0]); var n = this.getZoom() || 0, s = this.getMinZoom(), r = this.getMaxZoom(), a = t.getNorthWest(), h = t.getSouthEast(), l = this.getSize().subtract(i), u = o.bounds(this.project(h, n), this.project(a, n)).getSize(), c = o.Browser.any3d ? this.options.zoomSnap : 1, d = Math.min(l.x / u.x, l.y / u.y); return n = this.getScaleZoom(d, n), c && (n = Math.round(n / (c / 100)) * (c / 100), n = e ? Math.ceil(n / c) * c : Math.floor(n / c) * c), Math.max(s, Math.min(r, n)); }, getSize: function () { return this._size && !this._sizeChanged || (this._size = new o.Point(this._container.clientWidth || 0, this._container.clientHeight || 0), this._sizeChanged = !1), this._size.clone(); }, getPixelBounds: function (t, e) { var i = this._getTopLeftPoint(t, e); return new o.Bounds(i, i.add(this.getSize())); }, getPixelOrigin: function () { return this._checkIfLoaded(), this._pixelOrigin; }, getPixelWorldBounds: function (t) { return this.options.crs.getProjectedBounds(t === i ? this.getZoom() : t); }, getPane: function (t) { return "string" == typeof t ? this._panes[t] : t; }, getPanes: function () { return this._panes; }, getContainer: function () { return this._container; }, getZoomScale: function (t, e) { var n = this.options.crs; return e = e === i ? this._zoom : e, n.scale(t) / n.scale(e); }, getScaleZoom: function (t, e) { var n = this.options.crs; e = e === i ? this._zoom : e; var o = n.zoom(t * n.scale(e)); return isNaN(o) ? 1 / 0 : o; }, project: function (t, e) { return e = e === i ? this._zoom : e, this.options.crs.latLngToPoint(o.latLng(t), e); }, unproject: function (t, e) { return e = e === i ? this._zoom : e, this.options.crs.pointToLatLng(o.point(t), e); }, layerPointToLatLng: function (t) { var e = o.point(t).add(this.getPixelOrigin()); return this.unproject(e); }, latLngToLayerPoint: function (t) { var e = this.project(o.latLng(t))._round(); return e._subtract(this.getPixelOrigin()); }, wrapLatLng: function (t) { return this.options.crs.wrapLatLng(o.latLng(t)); }, wrapLatLngBounds: function (t) { return this.options.crs.wrapLatLngBounds(o.latLngBounds(t)); }, distance: function (t, e) { return this.options.crs.distance(o.latLng(t), o.latLng(e)); }, containerPointToLayerPoint: function (t) { return o.point(t).subtract(this._getMapPanePos()); }, layerPointToContainerPoint: function (t) { return o.point(t).add(this._getMapPanePos()); }, containerPointToLatLng: function (t) { var e = this.containerPointToLayerPoint(o.point(t)); return this.layerPointToLatLng(e); }, latLngToContainerPoint: function (t) { return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t))); }, mouseEventToContainerPoint: function (t) { return o.DomEvent.getMousePosition(t, this._container); }, mouseEventToLayerPoint: function (t) { return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t)); }, mouseEventToLatLng: function (t) { return this.layerPointToLatLng(this.mouseEventToLayerPoint(t)); }, _initContainer: function (t) { var e = this._container = o.DomUtil.get(t); if (!e)
            throw new Error("Map container not found."); if (e._leaflet_id)
            throw new Error("Map container is already initialized."); o.DomEvent.addListener(e, "scroll", this._onScroll, this), this._containerId = o.Util.stamp(e); }, _initLayout: function () {
            var t = this._container;
            this._fadeAnimated = this.options.fadeAnimation && o.Browser.any3d, o.DomUtil.addClass(t, "leaflet-container" + (o.Browser.touch ? " leaflet-touch" : "") + (o.Browser.retina ? " leaflet-retina" : "") + (o.Browser.ielt9 ? " leaflet-oldie" : "") + (o.Browser.safari ? " leaflet-safari" : "") + (this._fadeAnimated ? " leaflet-fade-anim" : ""));
            var e = o.DomUtil.getStyle(t, "position");
            "absolute" !== e && "relative" !== e && "fixed" !== e && (t.style.position = "relative"), this._initPanes(), this._initControlPos && this._initControlPos();
        }, _initPanes: function () { var t = this._panes = {}; this._paneRenderers = {}, this._mapPane = this.createPane("mapPane", this._container), o.DomUtil.setPosition(this._mapPane, new o.Point(0, 0)), this.createPane("tilePane"), this.createPane("shadowPane"), this.createPane("overlayPane"), this.createPane("markerPane"), this.createPane("tooltipPane"), this.createPane("popupPane"), this.options.markerZoomAnimation || (o.DomUtil.addClass(t.markerPane, "leaflet-zoom-hide"), o.DomUtil.addClass(t.shadowPane, "leaflet-zoom-hide")); }, _resetView: function (t, e) { o.DomUtil.setPosition(this._mapPane, new o.Point(0, 0)); var i = !this._loaded; this._loaded = !0, e = this._limitZoom(e), this.fire("viewprereset"); var n = this._zoom !== e; this._moveStart(n)._move(t, e)._moveEnd(n), this.fire("viewreset"), i && this.fire("load"); }, _moveStart: function (t) { return t && this.fire("zoomstart"), this.fire("movestart"); }, _move: function (t, e, n) { e === i && (e = this._zoom); var o = this._zoom !== e; return this._zoom = e, this._lastCenter = t, this._pixelOrigin = this._getNewPixelOrigin(t), (o || n && n.pinch) && this.fire("zoom", n), this.fire("move", n); }, _moveEnd: function (t) { return t && this.fire("zoomend"), this.fire("moveend"); }, _stop: function () { return o.Util.cancelAnimFrame(this._flyToFrame), this._panAnim && this._panAnim.stop(), this; }, _rawPanBy: function (t) { o.DomUtil.setPosition(this._mapPane, this._getMapPanePos().subtract(t)); }, _getZoomSpan: function () { return this.getMaxZoom() - this.getMinZoom(); }, _panInsideMaxBounds: function () { this._enforcingBounds || this.panInsideBounds(this.options.maxBounds); }, _checkIfLoaded: function () { if (!this._loaded)
            throw new Error("Set map center and zoom first."); }, _initEvents: function (e) { if (o.DomEvent) {
            this._targets = {}, this._targets[o.stamp(this._container)] = this;
            var i = e ? "off" : "on";
            o.DomEvent[i](this._container, "click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress", this._handleDOMEvent, this), this.options.trackResize && o.DomEvent[i](t, "resize", this._onResize, this), o.Browser.any3d && this.options.transform3DLimit && this[i]("moveend", this._onMoveEnd);
        } }, _onResize: function () { o.Util.cancelAnimFrame(this._resizeRequest), this._resizeRequest = o.Util.requestAnimFrame(function () { this.invalidateSize({ debounceMoveend: !0 }); }, this); }, _onScroll: function () { this._container.scrollTop = 0, this._container.scrollLeft = 0; }, _onMoveEnd: function () { var t = this._getMapPanePos(); Math.max(Math.abs(t.x), Math.abs(t.y)) >= this.options.transform3DLimit && this._resetView(this.getCenter(), this.getZoom()); }, _findEventTargets: function (t, e) { for (var i, n = [], s = "mouseout" === e || "mouseover" === e, r = t.target || t.srcElement, a = !1; r;) {
            if (i = this._targets[o.stamp(r)], i && ("click" === e || "preclick" === e) && !t._simulated && this._draggableMoved(i)) {
                a = !0;
                break;
            }
            if (i && i.listens(e, !0)) {
                if (s && !o.DomEvent._isExternalTarget(r, t))
                    break;
                if (n.push(i), s)
                    break;
            }
            if (r === this._container)
                break;
            r = r.parentNode;
        } return n.length || a || s || !o.DomEvent._isExternalTarget(r, t) || (n = [this]), n; }, _handleDOMEvent: function (t) { if (this._loaded && !o.DomEvent._skipped(t)) {
            var e = "keypress" === t.type && 13 === t.keyCode ? "click" : t.type;
            "mousedown" === e && o.DomUtil.preventOutline(t.target || t.srcElement), this._fireDOMEvent(t, e);
        } }, _fireDOMEvent: function (t, e, i) { if ("click" === t.type) {
            var n = o.Util.extend({}, t);
            n.type = "preclick", this._fireDOMEvent(n, n.type, i);
        } if (!t._stopped && (i = (i || []).concat(this._findEventTargets(t, e)), i.length)) {
            var s = i[0];
            "contextmenu" === e && s.listens(e, !0) && o.DomEvent.preventDefault(t);
            var r = { originalEvent: t };
            if ("keypress" !== t.type) {
                var a = s instanceof o.Marker;
                r.containerPoint = a ? this.latLngToContainerPoint(s.getLatLng()) : this.mouseEventToContainerPoint(t), r.layerPoint = this.containerPointToLayerPoint(r.containerPoint), r.latlng = a ? s.getLatLng() : this.layerPointToLatLng(r.layerPoint);
            }
            for (var h = 0; h < i.length; h++)
                if (i[h].fire(e, r, !0), r.originalEvent._stopped || i[h].options.nonBubblingEvents && o.Util.indexOf(i[h].options.nonBubblingEvents, e) !== -1)
                    return;
        } }, _draggableMoved: function (t) { return t = t.dragging && t.dragging.enabled() ? t : this, t.dragging && t.dragging.moved() || this.boxZoom && this.boxZoom.moved(); }, _clearHandlers: function () { for (var t = 0, e = this._handlers.length; t < e; t++)
            this._handlers[t].disable(); }, whenReady: function (t, e) { return this._loaded ? t.call(e || this, { target: this }) : this.on("load", t, e), this; }, _getMapPanePos: function () { return o.DomUtil.getPosition(this._mapPane) || new o.Point(0, 0); }, _moved: function () { var t = this._getMapPanePos(); return t && !t.equals([0, 0]); }, _getTopLeftPoint: function (t, e) { var n = t && e !== i ? this._getNewPixelOrigin(t, e) : this.getPixelOrigin(); return n.subtract(this._getMapPanePos()); }, _getNewPixelOrigin: function (t, e) { var i = this.getSize()._divideBy(2); return this.project(t, e)._subtract(i)._add(this._getMapPanePos())._round(); }, _latLngToNewLayerPoint: function (t, e, i) { var n = this._getNewPixelOrigin(i, e); return this.project(t, e)._subtract(n); }, _latLngBoundsToNewLayerBounds: function (t, e, i) { var n = this._getNewPixelOrigin(i, e); return o.bounds([this.project(t.getSouthWest(), e)._subtract(n), this.project(t.getNorthWest(), e)._subtract(n), this.project(t.getSouthEast(), e)._subtract(n), this.project(t.getNorthEast(), e)._subtract(n)]); }, _getCenterLayerPoint: function () { return this.containerPointToLayerPoint(this.getSize()._divideBy(2)); }, _getCenterOffset: function (t) { return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint()); }, _limitCenter: function (t, e, i) { if (!i)
            return t; var n = this.project(t, e), s = this.getSize().divideBy(2), r = new o.Bounds(n.subtract(s), n.add(s)), a = this._getBoundsOffset(r, i, e); return a.round().equals([0, 0]) ? t : this.unproject(n.add(a), e); }, _limitOffset: function (t, e) { if (!e)
            return t; var i = this.getPixelBounds(), n = new o.Bounds(i.min.add(t), i.max.add(t)); return t.add(this._getBoundsOffset(n, e)); }, _getBoundsOffset: function (t, e, i) { var n = o.bounds(this.project(e.getNorthEast(), i), this.project(e.getSouthWest(), i)), s = n.min.subtract(t.min), r = n.max.subtract(t.max), a = this._rebound(s.x, -r.x), h = this._rebound(s.y, -r.y); return new o.Point(a, h); }, _rebound: function (t, e) { return t + e > 0 ? Math.round(t - e) / 2 : Math.max(0, Math.ceil(t)) - Math.max(0, Math.floor(e)); }, _limitZoom: function (t) { var e = this.getMinZoom(), i = this.getMaxZoom(), n = o.Browser.any3d ? this.options.zoomSnap : 1; return n && (t = Math.round(t / n) * n), Math.max(e, Math.min(i, t)); }, _onPanTransitionStep: function () { this.fire("move"); }, _onPanTransitionEnd: function () { o.DomUtil.removeClass(this._mapPane, "leaflet-pan-anim"), this.fire("moveend"); }, _tryAnimatedPan: function (t, e) { var i = this._getCenterOffset(t)._floor(); return !((e && e.animate) !== !0 && !this.getSize().contains(i)) && (this.panBy(i, e), !0); }, _createAnimProxy: function () { var t = this._proxy = o.DomUtil.create("div", "leaflet-proxy leaflet-zoom-animated"); this._panes.mapPane.appendChild(t), this.on("zoomanim", function (e) { var i = o.DomUtil.TRANSFORM, n = t.style[i]; o.DomUtil.setTransform(t, this.project(e.center, e.zoom), this.getZoomScale(e.zoom, 1)), n === t.style[i] && this._animatingZoom && this._onZoomTransitionEnd(); }, this), this.on("load moveend", function () { var e = this.getCenter(), i = this.getZoom(); o.DomUtil.setTransform(t, this.project(e, i), this.getZoomScale(i, 1)); }, this); }, _catchTransitionEnd: function (t) { this._animatingZoom && t.propertyName.indexOf("transform") >= 0 && this._onZoomTransitionEnd(); }, _nothingToAnimate: function () { return !this._container.getElementsByClassName("leaflet-zoom-animated").length; }, _tryAnimatedZoom: function (t, e, i) { if (this._animatingZoom)
            return !0; if (i = i || {}, !this._zoomAnimated || i.animate === !1 || this._nothingToAnimate() || Math.abs(e - this._zoom) > this.options.zoomAnimationThreshold)
            return !1; var n = this.getZoomScale(e), s = this._getCenterOffset(t)._divideBy(1 - 1 / n); return !(i.animate !== !0 && !this.getSize().contains(s)) && (o.Util.requestAnimFrame(function () { this._moveStart(!0)._animateZoom(t, e, !0); }, this), !0); }, _animateZoom: function (t, e, i, n) { i && (this._animatingZoom = !0, this._animateToCenter = t, this._animateToZoom = e, o.DomUtil.addClass(this._mapPane, "leaflet-zoom-anim")), this.fire("zoomanim", { center: t, zoom: e, noUpdate: n }), setTimeout(o.bind(this._onZoomTransitionEnd, this), 250); }, _onZoomTransitionEnd: function () { this._animatingZoom && (o.DomUtil.removeClass(this._mapPane, "leaflet-zoom-anim"), this._animatingZoom = !1, this._move(this._animateToCenter, this._animateToZoom), o.Util.requestAnimFrame(function () { this._moveEnd(!0); }, this)); } }), o.map = function (t, e) { return new o.Map(t, e); }, o.Layer = o.Evented.extend({ options: { pane: "overlayPane", nonBubblingEvents: [], attribution: null }, addTo: function (t) { return t.addLayer(this), this; }, remove: function () { return this.removeFrom(this._map || this._mapToAdd); }, removeFrom: function (t) { return t && t.removeLayer(this), this; }, getPane: function (t) { return this._map.getPane(t ? this.options[t] || t : this.options.pane); }, addInteractiveTarget: function (t) { return this._map._targets[o.stamp(t)] = this, this; }, removeInteractiveTarget: function (t) { return delete this._map._targets[o.stamp(t)], this; }, getAttribution: function () { return this.options.attribution; }, _layerAdd: function (t) { var e = t.target; if (e.hasLayer(this)) {
            if (this._map = e, this._zoomAnimated = e._zoomAnimated, this.getEvents) {
                var i = this.getEvents();
                e.on(i, this), this.once("remove", function () { e.off(i, this); }, this);
            }
            this.onAdd(e), this.getAttribution && e.attributionControl && e.attributionControl.addAttribution(this.getAttribution()), this.fire("add"), e.fire("layeradd", { layer: this });
        } } }), o.Map.include({ addLayer: function (t) { var e = o.stamp(t); return this._layers[e] ? this : (this._layers[e] = t, t._mapToAdd = this, t.beforeAdd && t.beforeAdd(this), this.whenReady(t._layerAdd, t), this); }, removeLayer: function (t) { var e = o.stamp(t); return this._layers[e] ? (this._loaded && t.onRemove(this), t.getAttribution && this.attributionControl && this.attributionControl.removeAttribution(t.getAttribution()), delete this._layers[e], this._loaded && (this.fire("layerremove", { layer: t }), t.fire("remove")), t._map = t._mapToAdd = null, this) : this; }, hasLayer: function (t) { return !!t && o.stamp(t) in this._layers; }, eachLayer: function (t, e) { for (var i in this._layers)
            t.call(e, this._layers[i]); return this; }, _addLayers: function (t) { t = t ? o.Util.isArray(t) ? t : [t] : []; for (var e = 0, i = t.length; e < i; e++)
            this.addLayer(t[e]); }, _addZoomLimit: function (t) { !isNaN(t.options.maxZoom) && isNaN(t.options.minZoom) || (this._zoomBoundLayers[o.stamp(t)] = t, this._updateZoomLevels()); }, _removeZoomLimit: function (t) { var e = o.stamp(t); this._zoomBoundLayers[e] && (delete this._zoomBoundLayers[e], this._updateZoomLevels()); }, _updateZoomLevels: function () { var t = 1 / 0, e = -(1 / 0), n = this._getZoomSpan(); for (var o in this._zoomBoundLayers) {
            var s = this._zoomBoundLayers[o].options;
            t = s.minZoom === i ? t : Math.min(t, s.minZoom), e = s.maxZoom === i ? e : Math.max(e, s.maxZoom);
        } this._layersMaxZoom = e === -(1 / 0) ? i : e, this._layersMinZoom = t === 1 / 0 ? i : t, n !== this._getZoomSpan() && this.fire("zoomlevelschange"), this.options.maxZoom === i && this._layersMaxZoom && this.getZoom() > this._layersMaxZoom && this.setZoom(this._layersMaxZoom), this.options.minZoom === i && this._layersMinZoom && this.getZoom() < this._layersMinZoom && this.setZoom(this._layersMinZoom); } });
    var r = "_leaflet_events";
    o.DomEvent = { on: function (t, e, i, n) { if ("object" == typeof e)
            for (var s in e)
                this._on(t, s, e[s], i);
        else {
            e = o.Util.splitWords(e);
            for (var r = 0, a = e.length; r < a; r++)
                this._on(t, e[r], i, n);
        } return this; }, off: function (t, e, i, n) { if ("object" == typeof e)
            for (var s in e)
                this._off(t, s, e[s], i);
        else {
            e = o.Util.splitWords(e);
            for (var r = 0, a = e.length; r < a; r++)
                this._off(t, e[r], i, n);
        } return this; }, _on: function (e, i, n, s) { var a = i + o.stamp(n) + (s ? "_" + o.stamp(s) : ""); if (e[r] && e[r][a])
            return this; var h = function (i) { return n.call(s || e, i || t.event); }, l = h; return o.Browser.pointer && 0 === i.indexOf("touch") ? this.addPointerListener(e, i, h, a) : !o.Browser.touch || "dblclick" !== i || !this.addDoubleTapListener || o.Browser.pointer && o.Browser.chrome ? "addEventListener" in e ? "mousewheel" === i ? e.addEventListener("onwheel" in e ? "wheel" : "mousewheel", h, !1) : "mouseenter" === i || "mouseleave" === i ? (h = function (i) { i = i || t.event, o.DomEvent._isExternalTarget(e, i) && l(i); }, e.addEventListener("mouseenter" === i ? "mouseover" : "mouseout", h, !1)) : ("click" === i && o.Browser.android && (h = function (t) { return o.DomEvent._filterClick(t, l); }), e.addEventListener(i, h, !1)) : "attachEvent" in e && e.attachEvent("on" + i, h) : this.addDoubleTapListener(e, h, a), e[r] = e[r] || {}, e[r][a] = h, this; }, _off: function (t, e, i, n) { var s = e + o.stamp(i) + (n ? "_" + o.stamp(n) : ""), a = t[r] && t[r][s]; return a ? (o.Browser.pointer && 0 === e.indexOf("touch") ? this.removePointerListener(t, e, s) : o.Browser.touch && "dblclick" === e && this.removeDoubleTapListener ? this.removeDoubleTapListener(t, s) : "removeEventListener" in t ? "mousewheel" === e ? t.removeEventListener("onwheel" in t ? "wheel" : "mousewheel", a, !1) : t.removeEventListener("mouseenter" === e ? "mouseover" : "mouseleave" === e ? "mouseout" : e, a, !1) : "detachEvent" in t && t.detachEvent("on" + e, a), t[r][s] = null, this) : this; }, stopPropagation: function (t) { return t.stopPropagation ? t.stopPropagation() : t.originalEvent ? t.originalEvent._stopped = !0 : t.cancelBubble = !0, o.DomEvent._skipped(t), this; }, disableScrollPropagation: function (t) { return o.DomEvent.on(t, "mousewheel", o.DomEvent.stopPropagation); }, disableClickPropagation: function (t) { var e = o.DomEvent.stopPropagation; return o.DomEvent.on(t, o.Draggable.START.join(" "), e), o.DomEvent.on(t, { click: o.DomEvent._fakeStop, dblclick: e }); }, preventDefault: function (t) { return t.preventDefault ? t.preventDefault() : t.returnValue = !1, this; }, stop: function (t) { return o.DomEvent.preventDefault(t).stopPropagation(t); }, getMousePosition: function (t, e) { if (!e)
            return new o.Point(t.clientX, t.clientY); var i = e.getBoundingClientRect(); return new o.Point(t.clientX - i.left - e.clientLeft, t.clientY - i.top - e.clientTop); }, _wheelPxFactor: o.Browser.win && o.Browser.chrome ? 2 : o.Browser.gecko ? t.devicePixelRatio : 1, getWheelDelta: function (t) { return o.Browser.edge ? t.wheelDeltaY / 2 : t.deltaY && 0 === t.deltaMode ? -t.deltaY / o.DomEvent._wheelPxFactor : t.deltaY && 1 === t.deltaMode ? 20 * -t.deltaY : t.deltaY && 2 === t.deltaMode ? 60 * -t.deltaY : t.deltaX || t.deltaZ ? 0 : t.wheelDelta ? (t.wheelDeltaY || t.wheelDelta) / 2 : t.detail && Math.abs(t.detail) < 32765 ? 20 * -t.detail : t.detail ? t.detail / -32765 * 60 : 0; }, _skipEvents: {}, _fakeStop: function (t) { o.DomEvent._skipEvents[t.type] = !0; }, _skipped: function (t) { var e = this._skipEvents[t.type]; return this._skipEvents[t.type] = !1, e; }, _isExternalTarget: function (t, e) { var i = e.relatedTarget; if (!i)
            return !0; try {
            for (; i && i !== t;)
                i = i.parentNode;
        }
        catch (t) {
            return !1;
        } return i !== t; }, _filterClick: function (t, e) { var i = t.timeStamp || t.originalEvent && t.originalEvent.timeStamp, n = o.DomEvent._lastClick && i - o.DomEvent._lastClick; return n && n > 100 && n < 500 || t.target._simulatedClick && !t._simulated ? void o.DomEvent.stop(t) : (o.DomEvent._lastClick = i, void e(t)); } }, o.DomEvent.addListener = o.DomEvent.on, o.DomEvent.removeListener = o.DomEvent.off, o.PosAnimation = o.Evented.extend({ run: function (t, e, i, n) { this.stop(), this._el = t, this._inProgress = !0, this._duration = i || .25, this._easeOutPower = 1 / Math.max(n || .5, .2), this._startPos = o.DomUtil.getPosition(t), this._offset = e.subtract(this._startPos), this._startTime = +new Date, this.fire("start"), this._animate(); }, stop: function () { this._inProgress && (this._step(!0), this._complete()); }, _animate: function () { this._animId = o.Util.requestAnimFrame(this._animate, this), this._step(); }, _step: function (t) { var e = +new Date - this._startTime, i = 1e3 * this._duration; e < i ? this._runFrame(this._easeOut(e / i), t) : (this._runFrame(1), this._complete()); }, _runFrame: function (t, e) { var i = this._startPos.add(this._offset.multiplyBy(t)); e && i._round(), o.DomUtil.setPosition(this._el, i), this.fire("step"); }, _complete: function () { o.Util.cancelAnimFrame(this._animId), this._inProgress = !1, this.fire("end"); }, _easeOut: function (t) { return 1 - Math.pow(1 - t, this._easeOutPower); } }), o.Projection.Mercator = { R: 6378137, R_MINOR: 6356752.314245179, bounds: o.bounds([-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138]), project: function (t) { var e = Math.PI / 180, i = this.R, n = t.lat * e, s = this.R_MINOR / i, r = Math.sqrt(1 - s * s), a = r * Math.sin(n), h = Math.tan(Math.PI / 4 - n / 2) / Math.pow((1 - a) / (1 + a), r / 2); return n = -i * Math.log(Math.max(h, 1e-10)), new o.Point(t.lng * e * i, n); }, unproject: function (t) { for (var e, i = 180 / Math.PI, n = this.R, s = this.R_MINOR / n, r = Math.sqrt(1 - s * s), a = Math.exp(-t.y / n), h = Math.PI / 2 - 2 * Math.atan(a), l = 0, u = .1; l < 15 && Math.abs(u) > 1e-7; l++)
            e = r * Math.sin(h), e = Math.pow((1 - e) / (1 + e), r / 2), u = Math.PI / 2 - 2 * Math.atan(a * e) - h, h += u; return new o.LatLng(h * i, t.x * i / n); } }, o.CRS.EPSG3395 = o.extend({}, o.CRS.Earth, { code: "EPSG:3395", projection: o.Projection.Mercator, transformation: function () { var t = .5 / (Math.PI * o.Projection.Mercator.R); return new o.Transformation(t, .5, -t, .5); }() }), o.GridLayer = o.Layer.extend({ options: { tileSize: 256, opacity: 1, updateWhenIdle: o.Browser.mobile, updateWhenZooming: !0, updateInterval: 200, zIndex: 1, bounds: null, minZoom: 0, maxZoom: i, noWrap: !1, pane: "tilePane", className: "", keepBuffer: 2 }, initialize: function (t) { o.setOptions(this, t); }, onAdd: function () { this._initContainer(), this._levels = {}, this._tiles = {}, this._resetView(), this._update(); }, beforeAdd: function (t) { t._addZoomLimit(this); }, onRemove: function (t) { this._removeAllTiles(), o.DomUtil.remove(this._container), t._removeZoomLimit(this), this._container = null, this._tileZoom = null; }, bringToFront: function () { return this._map && (o.DomUtil.toFront(this._container), this._setAutoZIndex(Math.max)), this; }, bringToBack: function () { return this._map && (o.DomUtil.toBack(this._container), this._setAutoZIndex(Math.min)), this; }, getContainer: function () { return this._container; }, setOpacity: function (t) { return this.options.opacity = t, this._updateOpacity(), this; }, setZIndex: function (t) { return this.options.zIndex = t, this._updateZIndex(), this; }, isLoading: function () { return this._loading; }, redraw: function () { return this._map && (this._removeAllTiles(), this._update()), this; }, getEvents: function () { var t = { viewprereset: this._invalidateAll, viewreset: this._resetView, zoom: this._resetView, moveend: this._onMoveEnd }; return this.options.updateWhenIdle || (this._onMove || (this._onMove = o.Util.throttle(this._onMoveEnd, this.options.updateInterval, this)), t.move = this._onMove), this._zoomAnimated && (t.zoomanim = this._animateZoom), t; }, createTile: function () { return e.createElement("div"); }, getTileSize: function () { var t = this.options.tileSize; return t instanceof o.Point ? t : new o.Point(t, t); }, _updateZIndex: function () { this._container && this.options.zIndex !== i && null !== this.options.zIndex && (this._container.style.zIndex = this.options.zIndex); }, _setAutoZIndex: function (t) { for (var e, i = this.getPane().children, n = -t(-(1 / 0), 1 / 0), o = 0, s = i.length; o < s; o++)
            e = i[o].style.zIndex, i[o] !== this._container && e && (n = t(n, +e)); isFinite(n) && (this.options.zIndex = n + t(-1, 1), this._updateZIndex()); }, _updateOpacity: function () { if (this._map && !o.Browser.ielt9) {
            o.DomUtil.setOpacity(this._container, this.options.opacity);
            var t = +new Date, e = !1, i = !1;
            for (var n in this._tiles) {
                var s = this._tiles[n];
                if (s.current && s.loaded) {
                    var r = Math.min(1, (t - s.loaded) / 200);
                    o.DomUtil.setOpacity(s.el, r), r < 1 ? e = !0 : (s.active && (i = !0), s.active = !0);
                }
            }
            i && !this._noPrune && this._pruneTiles(), e && (o.Util.cancelAnimFrame(this._fadeFrame), this._fadeFrame = o.Util.requestAnimFrame(this._updateOpacity, this));
        } }, _initContainer: function () { this._container || (this._container = o.DomUtil.create("div", "leaflet-layer " + (this.options.className || "")), this._updateZIndex(), this.options.opacity < 1 && this._updateOpacity(), this.getPane().appendChild(this._container)); }, _updateLevels: function () { var t = this._tileZoom, e = this.options.maxZoom; if (t === i)
            return i; for (var n in this._levels)
            this._levels[n].el.children.length || n === t ? this._levels[n].el.style.zIndex = e - Math.abs(t - n) : (o.DomUtil.remove(this._levels[n].el), this._removeTilesAtZoom(n), delete this._levels[n]); var s = this._levels[t], r = this._map; return s || (s = this._levels[t] = {}, s.el = o.DomUtil.create("div", "leaflet-tile-container leaflet-zoom-animated", this._container), s.el.style.zIndex = e, s.origin = r.project(r.unproject(r.getPixelOrigin()), t).round(), s.zoom = t, this._setZoomTransform(s, r.getCenter(), r.getZoom()), o.Util.falseFn(s.el.offsetWidth)), this._level = s, s; }, _pruneTiles: function () { if (this._map) {
            var t, e, i = this._map.getZoom();
            if (i > this.options.maxZoom || i < this.options.minZoom)
                return void this._removeAllTiles();
            for (t in this._tiles)
                e = this._tiles[t], e.retain = e.current;
            for (t in this._tiles)
                if (e = this._tiles[t], e.current && !e.active) {
                    var n = e.coords;
                    this._retainParent(n.x, n.y, n.z, n.z - 5) || this._retainChildren(n.x, n.y, n.z, n.z + 2);
                }
            for (t in this._tiles)
                this._tiles[t].retain || this._removeTile(t);
        } }, _removeTilesAtZoom: function (t) { for (var e in this._tiles)
            this._tiles[e].coords.z === t && this._removeTile(e); }, _removeAllTiles: function () { for (var t in this._tiles)
            this._removeTile(t); }, _invalidateAll: function () { for (var t in this._levels)
            o.DomUtil.remove(this._levels[t].el), delete this._levels[t]; this._removeAllTiles(), this._tileZoom = null; }, _retainParent: function (t, e, i, n) { var s = Math.floor(t / 2), r = Math.floor(e / 2), a = i - 1, h = new o.Point(+s, +r); h.z = +a; var l = this._tileCoordsToKey(h), u = this._tiles[l]; return u && u.active ? (u.retain = !0, !0) : (u && u.loaded && (u.retain = !0), a > n && this._retainParent(s, r, a, n)); }, _retainChildren: function (t, e, i, n) { for (var s = 2 * t; s < 2 * t + 2; s++)
            for (var r = 2 * e; r < 2 * e + 2; r++) {
                var a = new o.Point(s, r);
                a.z = i + 1;
                var h = this._tileCoordsToKey(a), l = this._tiles[h];
                l && l.active ? l.retain = !0 : (l && l.loaded && (l.retain = !0), i + 1 < n && this._retainChildren(s, r, i + 1, n));
            } }, _resetView: function (t) { var e = t && (t.pinch || t.flyTo); this._setView(this._map.getCenter(), this._map.getZoom(), e, e); }, _animateZoom: function (t) { this._setView(t.center, t.zoom, !0, t.noUpdate); }, _setView: function (t, e, n, o) { var s = Math.round(e); (this.options.maxZoom !== i && s > this.options.maxZoom || this.options.minZoom !== i && s < this.options.minZoom) && (s = i); var r = this.options.updateWhenZooming && s !== this._tileZoom; o && !r || (this._tileZoom = s, this._abortLoading && this._abortLoading(), this._updateLevels(), this._resetGrid(), s !== i && this._update(t), n || this._pruneTiles(), this._noPrune = !!n), this._setZoomTransforms(t, e); }, _setZoomTransforms: function (t, e) { for (var i in this._levels)
            this._setZoomTransform(this._levels[i], t, e); }, _setZoomTransform: function (t, e, i) { var n = this._map.getZoomScale(i, t.zoom), s = t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e, i)).round(); o.Browser.any3d ? o.DomUtil.setTransform(t.el, s, n) : o.DomUtil.setPosition(t.el, s); }, _resetGrid: function () { var t = this._map, e = t.options.crs, i = this._tileSize = this.getTileSize(), n = this._tileZoom, o = this._map.getPixelWorldBounds(this._tileZoom); o && (this._globalTileRange = this._pxBoundsToTileRange(o)), this._wrapX = e.wrapLng && !this.options.noWrap && [Math.floor(t.project([0, e.wrapLng[0]], n).x / i.x), Math.ceil(t.project([0, e.wrapLng[1]], n).x / i.y)], this._wrapY = e.wrapLat && !this.options.noWrap && [Math.floor(t.project([e.wrapLat[0], 0], n).y / i.x), Math.ceil(t.project([e.wrapLat[1], 0], n).y / i.y)]; }, _onMoveEnd: function () { this._map && !this._map._animatingZoom && this._update(); }, _getTiledPixelBounds: function (t) { var e = this._map, i = e._animatingZoom ? Math.max(e._animateToZoom, e.getZoom()) : e.getZoom(), n = e.getZoomScale(i, this._tileZoom), s = e.project(t, this._tileZoom).floor(), r = e.getSize().divideBy(2 * n); return new o.Bounds(s.subtract(r), s.add(r)); }, _update: function (t) { var n = this._map; if (n) {
            var s = n.getZoom();
            if (t === i && (t = n.getCenter()), this._tileZoom !== i) {
                var r = this._getTiledPixelBounds(t), a = this._pxBoundsToTileRange(r), h = a.getCenter(), l = [], u = this.options.keepBuffer, c = new o.Bounds(a.getBottomLeft().subtract([u, -u]), a.getTopRight().add([u, -u]));
                for (var d in this._tiles) {
                    var _ = this._tiles[d].coords;
                    _.z === this._tileZoom && c.contains(o.point(_.x, _.y)) || (this._tiles[d].current = !1);
                }
                if (Math.abs(s - this._tileZoom) > 1)
                    return void this._setView(t, s);
                for (var m = a.min.y; m <= a.max.y; m++)
                    for (var p = a.min.x; p <= a.max.x; p++) {
                        var f = new o.Point(p, m);
                        if (f.z = this._tileZoom, this._isValidTile(f)) {
                            var g = this._tiles[this._tileCoordsToKey(f)];
                            g ? g.current = !0 : l.push(f);
                        }
                    }
                if (l.sort(function (t, e) { return t.distanceTo(h) - e.distanceTo(h); }), 0 !== l.length) {
                    this._loading || (this._loading = !0, this.fire("loading"));
                    var v = e.createDocumentFragment();
                    for (p = 0; p < l.length; p++)
                        this._addTile(l[p], v);
                    this._level.el.appendChild(v);
                }
            }
        } }, _isValidTile: function (t) { var e = this._map.options.crs; if (!e.infinite) {
            var i = this._globalTileRange;
            if (!e.wrapLng && (t.x < i.min.x || t.x > i.max.x) || !e.wrapLat && (t.y < i.min.y || t.y > i.max.y))
                return !1;
        } if (!this.options.bounds)
            return !0; var n = this._tileCoordsToBounds(t); return o.latLngBounds(this.options.bounds).overlaps(n); }, _keyToBounds: function (t) { return this._tileCoordsToBounds(this._keyToTileCoords(t)); }, _tileCoordsToBounds: function (t) { var e = this._map, i = this.getTileSize(), n = t.scaleBy(i), s = n.add(i), r = e.unproject(n, t.z), a = e.unproject(s, t.z), h = new o.LatLngBounds(r, a); return this.options.noWrap || e.wrapLatLngBounds(h), h; }, _tileCoordsToKey: function (t) { return t.x + ":" + t.y + ":" + t.z; }, _keyToTileCoords: function (t) { var e = t.split(":"), i = new o.Point(+e[0], +e[1]); return i.z = +e[2], i; }, _removeTile: function (t) { var e = this._tiles[t]; e && (o.DomUtil.remove(e.el), delete this._tiles[t], this.fire("tileunload", { tile: e.el, coords: this._keyToTileCoords(t) })); }, _initTile: function (t) { o.DomUtil.addClass(t, "leaflet-tile"); var e = this.getTileSize(); t.style.width = e.x + "px", t.style.height = e.y + "px", t.onselectstart = o.Util.falseFn, t.onmousemove = o.Util.falseFn, o.Browser.ielt9 && this.options.opacity < 1 && o.DomUtil.setOpacity(t, this.options.opacity), o.Browser.android && !o.Browser.android23 && (t.style.WebkitBackfaceVisibility = "hidden"); }, _addTile: function (t, e) { var i = this._getTilePos(t), n = this._tileCoordsToKey(t), s = this.createTile(this._wrapCoords(t), o.bind(this._tileReady, this, t)); this._initTile(s), this.createTile.length < 2 && o.Util.requestAnimFrame(o.bind(this._tileReady, this, t, null, s)), o.DomUtil.setPosition(s, i), this._tiles[n] = { el: s, coords: t, current: !0 }, e.appendChild(s), this.fire("tileloadstart", { tile: s, coords: t }); }, _tileReady: function (t, e, i) { if (this._map) {
            e && this.fire("tileerror", { error: e, tile: i, coords: t });
            var n = this._tileCoordsToKey(t);
            i = this._tiles[n], i && (i.loaded = +new Date, this._map._fadeAnimated ? (o.DomUtil.setOpacity(i.el, 0), o.Util.cancelAnimFrame(this._fadeFrame), this._fadeFrame = o.Util.requestAnimFrame(this._updateOpacity, this)) : (i.active = !0, this._pruneTiles()), e || (o.DomUtil.addClass(i.el, "leaflet-tile-loaded"), this.fire("tileload", { tile: i.el, coords: t })), this._noTilesToLoad() && (this._loading = !1, this.fire("load"), o.Browser.ielt9 || !this._map._fadeAnimated ? o.Util.requestAnimFrame(this._pruneTiles, this) : setTimeout(o.bind(this._pruneTiles, this), 250)));
        } }, _getTilePos: function (t) { return t.scaleBy(this.getTileSize()).subtract(this._level.origin); }, _wrapCoords: function (t) { var e = new o.Point(this._wrapX ? o.Util.wrapNum(t.x, this._wrapX) : t.x, this._wrapY ? o.Util.wrapNum(t.y, this._wrapY) : t.y); return e.z = t.z, e; }, _pxBoundsToTileRange: function (t) { var e = this.getTileSize(); return new o.Bounds(t.min.unscaleBy(e).floor(), t.max.unscaleBy(e).ceil().subtract([1, 1])); }, _noTilesToLoad: function () { for (var t in this._tiles)
            if (!this._tiles[t].loaded)
                return !1; return !0; } }), o.gridLayer = function (t) { return new o.GridLayer(t); }, o.TileLayer = o.GridLayer.extend({ options: { minZoom: 0, maxZoom: 18, maxNativeZoom: null, minNativeZoom: null, subdomains: "abc", errorTileUrl: "", zoomOffset: 0, tms: !1, zoomReverse: !1, detectRetina: !1, crossOrigin: !1 }, initialize: function (t, e) { this._url = t, e = o.setOptions(this, e), e.detectRetina && o.Browser.retina && e.maxZoom > 0 && (e.tileSize = Math.floor(e.tileSize / 2), e.zoomReverse ? (e.zoomOffset--, e.minZoom++) : (e.zoomOffset++, e.maxZoom--), e.minZoom = Math.max(0, e.minZoom)), "string" == typeof e.subdomains && (e.subdomains = e.subdomains.split("")), o.Browser.android || this.on("tileunload", this._onTileRemove); }, setUrl: function (t, e) { return this._url = t, e || this.redraw(), this; }, createTile: function (t, i) { var n = e.createElement("img"); return o.DomEvent.on(n, "load", o.bind(this._tileOnLoad, this, i, n)), o.DomEvent.on(n, "error", o.bind(this._tileOnError, this, i, n)), this.options.crossOrigin && (n.crossOrigin = ""), n.alt = "", n.setAttribute("role", "presentation"), n.src = this.getTileUrl(t), n; }, getTileUrl: function (t) { var e = { r: o.Browser.retina ? "@2x" : "", s: this._getSubdomain(t), x: t.x, y: t.y, z: this._getZoomForUrl() }; if (this._map && !this._map.options.crs.infinite) {
            var i = this._globalTileRange.max.y - t.y;
            this.options.tms && (e.y = i), e["-y"] = i;
        } return o.Util.template(this._url, o.extend(e, this.options)); }, _tileOnLoad: function (t, e) { o.Browser.ielt9 ? setTimeout(o.bind(t, this, null, e), 0) : t(null, e); }, _tileOnError: function (t, e, i) { var n = this.options.errorTileUrl; n && e.src !== n && (e.src = n), t(i, e); }, getTileSize: function () { var t = this._map, e = o.GridLayer.prototype.getTileSize.call(this), i = this._tileZoom + this.options.zoomOffset, n = this.options.minNativeZoom, s = this.options.maxNativeZoom; return null !== n && i < n ? e.divideBy(t.getZoomScale(n, i)).round() : null !== s && i > s ? e.divideBy(t.getZoomScale(s, i)).round() : e; }, _onTileRemove: function (t) { t.tile.onload = null; }, _getZoomForUrl: function () { var t = this._tileZoom, e = this.options.maxZoom, i = this.options.zoomReverse, n = this.options.zoomOffset, o = this.options.minNativeZoom, s = this.options.maxNativeZoom; return i && (t = e - t), t += n, null !== o && t < o ? o : null !== s && t > s ? s : t; }, _getSubdomain: function (t) { var e = Math.abs(t.x + t.y) % this.options.subdomains.length; return this.options.subdomains[e]; }, _abortLoading: function () { var t, e; for (t in this._tiles)
            this._tiles[t].coords.z !== this._tileZoom && (e = this._tiles[t].el, e.onload = o.Util.falseFn, e.onerror = o.Util.falseFn, e.complete || (e.src = o.Util.emptyImageUrl, o.DomUtil.remove(e))); } }), o.tileLayer = function (t, e) { return new o.TileLayer(t, e); }, o.TileLayer.WMS = o.TileLayer.extend({ defaultWmsParams: { service: "WMS", request: "GetMap", layers: "", styles: "", format: "image/jpeg", transparent: !1, version: "1.1.1" }, options: { crs: null, uppercase: !1 }, initialize: function (t, e) { this._url = t; var i = o.extend({}, this.defaultWmsParams); for (var n in e)
            n in this.options || (i[n] = e[n]); e = o.setOptions(this, e), i.width = i.height = e.tileSize * (e.detectRetina && o.Browser.retina ? 2 : 1), this.wmsParams = i; }, onAdd: function (t) { this._crs = this.options.crs || t.options.crs, this._wmsVersion = parseFloat(this.wmsParams.version); var e = this._wmsVersion >= 1.3 ? "crs" : "srs"; this.wmsParams[e] = this._crs.code, o.TileLayer.prototype.onAdd.call(this, t); }, getTileUrl: function (t) { var e = this._tileCoordsToBounds(t), i = this._crs.project(e.getNorthWest()), n = this._crs.project(e.getSouthEast()), s = (this._wmsVersion >= 1.3 && this._crs === o.CRS.EPSG4326 ? [n.y, i.x, i.y, n.x] : [i.x, n.y, n.x, i.y]).join(","), r = o.TileLayer.prototype.getTileUrl.call(this, t); return r + o.Util.getParamString(this.wmsParams, r, this.options.uppercase) + (this.options.uppercase ? "&BBOX=" : "&bbox=") + s; }, setParams: function (t, e) { return o.extend(this.wmsParams, t), e || this.redraw(), this; } }), o.tileLayer.wms = function (t, e) { return new o.TileLayer.WMS(t, e); }, o.ImageOverlay = o.Layer.extend({ options: { opacity: 1, alt: "", interactive: !1, crossOrigin: !1 }, initialize: function (t, e, i) { this._url = t, this._bounds = o.latLngBounds(e), o.setOptions(this, i); }, onAdd: function () { this._image || (this._initImage(), this.options.opacity < 1 && this._updateOpacity()), this.options.interactive && (o.DomUtil.addClass(this._image, "leaflet-interactive"), this.addInteractiveTarget(this._image)), this.getPane().appendChild(this._image), this._reset(); }, onRemove: function () { o.DomUtil.remove(this._image), this.options.interactive && this.removeInteractiveTarget(this._image); }, setOpacity: function (t) { return this.options.opacity = t, this._image && this._updateOpacity(), this; }, setStyle: function (t) { return t.opacity && this.setOpacity(t.opacity), this; }, bringToFront: function () { return this._map && o.DomUtil.toFront(this._image), this; }, bringToBack: function () { return this._map && o.DomUtil.toBack(this._image), this; }, setUrl: function (t) { return this._url = t, this._image && (this._image.src = t), this; }, setBounds: function (t) { return this._bounds = t, this._map && this._reset(), this; }, getEvents: function () { var t = { zoom: this._reset, viewreset: this._reset }; return this._zoomAnimated && (t.zoomanim = this._animateZoom), t; }, getBounds: function () { return this._bounds; }, getElement: function () { return this._image; }, _initImage: function () { var t = this._image = o.DomUtil.create("img", "leaflet-image-layer " + (this._zoomAnimated ? "leaflet-zoom-animated" : "")); t.onselectstart = o.Util.falseFn, t.onmousemove = o.Util.falseFn, t.onload = o.bind(this.fire, this, "load"), this.options.crossOrigin && (t.crossOrigin = ""), t.src = this._url, t.alt = this.options.alt; }, _animateZoom: function (t) { var e = this._map.getZoomScale(t.zoom), i = this._map._latLngBoundsToNewLayerBounds(this._bounds, t.zoom, t.center).min; o.DomUtil.setTransform(this._image, i, e); }, _reset: function () {
            var t = this._image, e = new o.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()), this._map.latLngToLayerPoint(this._bounds.getSouthEast())), i = e.getSize();
            o.DomUtil.setPosition(t, e.min), t.style.width = i.x + "px", t.style.height = i.y + "px";
        }, _updateOpacity: function () { o.DomUtil.setOpacity(this._image, this.options.opacity); } }), o.imageOverlay = function (t, e, i) { return new o.ImageOverlay(t, e, i); }, o.Icon = o.Class.extend({ initialize: function (t) { o.setOptions(this, t); }, createIcon: function (t) { return this._createIcon("icon", t); }, createShadow: function (t) { return this._createIcon("shadow", t); }, _createIcon: function (t, e) { var i = this._getIconUrl(t); if (!i) {
            if ("icon" === t)
                throw new Error("iconUrl not set in Icon options (see the docs).");
            return null;
        } var n = this._createImg(i, e && "IMG" === e.tagName ? e : null); return this._setIconStyles(n, t), n; }, _setIconStyles: function (t, e) { var i = this.options, n = i[e + "Size"]; "number" == typeof n && (n = [n, n]); var s = o.point(n), r = o.point("shadow" === e && i.shadowAnchor || i.iconAnchor || s && s.divideBy(2, !0)); t.className = "leaflet-marker-" + e + " " + (i.className || ""), r && (t.style.marginLeft = -r.x + "px", t.style.marginTop = -r.y + "px"), s && (t.style.width = s.x + "px", t.style.height = s.y + "px"); }, _createImg: function (t, i) { return i = i || e.createElement("img"), i.src = t, i; }, _getIconUrl: function (t) { return o.Browser.retina && this.options[t + "RetinaUrl"] || this.options[t + "Url"]; } }), o.icon = function (t) { return new o.Icon(t); }, o.Icon.Default = o.Icon.extend({ options: { iconUrl: "marker-icon.png", iconRetinaUrl: "marker-icon-2x.png", shadowUrl: "marker-shadow.png", iconSize: [25, 41], iconAnchor: [12, 41], popupAnchor: [1, -34], tooltipAnchor: [16, -28], shadowSize: [41, 41] }, _getIconUrl: function (t) { return o.Icon.Default.imagePath || (o.Icon.Default.imagePath = this._detectIconPath()), (this.options.imagePath || o.Icon.Default.imagePath) + o.Icon.prototype._getIconUrl.call(this, t); }, _detectIconPath: function () { var t = o.DomUtil.create("div", "leaflet-default-icon-path", e.body), i = o.DomUtil.getStyle(t, "background-image") || o.DomUtil.getStyle(t, "backgroundImage"); return e.body.removeChild(t), 0 === i.indexOf("url") ? i.replace(/^url\([\"\']?/, "").replace(/marker-icon\.png[\"\']?\)$/, "") : ""; } }), o.Marker = o.Layer.extend({ options: { icon: new o.Icon.Default, interactive: !0, draggable: !1, keyboard: !0, title: "", alt: "", zIndexOffset: 0, opacity: 1, riseOnHover: !1, riseOffset: 250, pane: "markerPane", nonBubblingEvents: ["click", "dblclick", "mouseover", "mouseout", "contextmenu"] }, initialize: function (t, e) { o.setOptions(this, e), this._latlng = o.latLng(t); }, onAdd: function (t) { this._zoomAnimated = this._zoomAnimated && t.options.markerZoomAnimation, this._zoomAnimated && t.on("zoomanim", this._animateZoom, this), this._initIcon(), this.update(); }, onRemove: function (t) { this.dragging && this.dragging.enabled() && (this.options.draggable = !0, this.dragging.removeHooks()), this._zoomAnimated && t.off("zoomanim", this._animateZoom, this), this._removeIcon(), this._removeShadow(); }, getEvents: function () { return { zoom: this.update, viewreset: this.update }; }, getLatLng: function () { return this._latlng; }, setLatLng: function (t) { var e = this._latlng; return this._latlng = o.latLng(t), this.update(), this.fire("move", { oldLatLng: e, latlng: this._latlng }); }, setZIndexOffset: function (t) { return this.options.zIndexOffset = t, this.update(); }, setIcon: function (t) { return this.options.icon = t, this._map && (this._initIcon(), this.update()), this._popup && this.bindPopup(this._popup, this._popup.options), this; }, getElement: function () { return this._icon; }, update: function () { if (this._icon) {
            var t = this._map.latLngToLayerPoint(this._latlng).round();
            this._setPos(t);
        } return this; }, _initIcon: function () { var t = this.options, e = "leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide"), i = t.icon.createIcon(this._icon), n = !1; i !== this._icon && (this._icon && this._removeIcon(), n = !0, t.title && (i.title = t.title), t.alt && (i.alt = t.alt)), o.DomUtil.addClass(i, e), t.keyboard && (i.tabIndex = "0"), this._icon = i, t.riseOnHover && this.on({ mouseover: this._bringToFront, mouseout: this._resetZIndex }); var s = t.icon.createShadow(this._shadow), r = !1; s !== this._shadow && (this._removeShadow(), r = !0), s && (o.DomUtil.addClass(s, e), s.alt = ""), this._shadow = s, t.opacity < 1 && this._updateOpacity(), n && this.getPane().appendChild(this._icon), this._initInteraction(), s && r && this.getPane("shadowPane").appendChild(this._shadow); }, _removeIcon: function () { this.options.riseOnHover && this.off({ mouseover: this._bringToFront, mouseout: this._resetZIndex }), o.DomUtil.remove(this._icon), this.removeInteractiveTarget(this._icon), this._icon = null; }, _removeShadow: function () { this._shadow && o.DomUtil.remove(this._shadow), this._shadow = null; }, _setPos: function (t) { o.DomUtil.setPosition(this._icon, t), this._shadow && o.DomUtil.setPosition(this._shadow, t), this._zIndex = t.y + this.options.zIndexOffset, this._resetZIndex(); }, _updateZIndex: function (t) { this._icon.style.zIndex = this._zIndex + t; }, _animateZoom: function (t) { var e = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center).round(); this._setPos(e); }, _initInteraction: function () { if (this.options.interactive && (o.DomUtil.addClass(this._icon, "leaflet-interactive"), this.addInteractiveTarget(this._icon), o.Handler.MarkerDrag)) {
            var t = this.options.draggable;
            this.dragging && (t = this.dragging.enabled(), this.dragging.disable()), this.dragging = new o.Handler.MarkerDrag(this), t && this.dragging.enable();
        } }, setOpacity: function (t) { return this.options.opacity = t, this._map && this._updateOpacity(), this; }, _updateOpacity: function () { var t = this.options.opacity; o.DomUtil.setOpacity(this._icon, t), this._shadow && o.DomUtil.setOpacity(this._shadow, t); }, _bringToFront: function () { this._updateZIndex(this.options.riseOffset); }, _resetZIndex: function () { this._updateZIndex(0); }, _getPopupAnchor: function () { return this.options.icon.options.popupAnchor || [0, 0]; }, _getTooltipAnchor: function () { return this.options.icon.options.tooltipAnchor || [0, 0]; } }), o.marker = function (t, e) { return new o.Marker(t, e); }, o.DivIcon = o.Icon.extend({ options: { iconSize: [12, 12], html: !1, bgPos: null, className: "leaflet-div-icon" }, createIcon: function (t) { var i = t && "DIV" === t.tagName ? t : e.createElement("div"), n = this.options; if (i.innerHTML = n.html !== !1 ? n.html : "", n.bgPos) {
            var s = o.point(n.bgPos);
            i.style.backgroundPosition = -s.x + "px " + -s.y + "px";
        } return this._setIconStyles(i, "icon"), i; }, createShadow: function () { return null; } }), o.divIcon = function (t) { return new o.DivIcon(t); }, o.DivOverlay = o.Layer.extend({ options: { offset: [0, 7], className: "", pane: "popupPane" }, initialize: function (t, e) { o.setOptions(this, t), this._source = e; }, onAdd: function (t) { this._zoomAnimated = t._zoomAnimated, this._container || this._initLayout(), t._fadeAnimated && o.DomUtil.setOpacity(this._container, 0), clearTimeout(this._removeTimeout), this.getPane().appendChild(this._container), this.update(), t._fadeAnimated && o.DomUtil.setOpacity(this._container, 1), this.bringToFront(); }, onRemove: function (t) { t._fadeAnimated ? (o.DomUtil.setOpacity(this._container, 0), this._removeTimeout = setTimeout(o.bind(o.DomUtil.remove, o.DomUtil, this._container), 200)) : o.DomUtil.remove(this._container); }, getLatLng: function () { return this._latlng; }, setLatLng: function (t) { return this._latlng = o.latLng(t), this._map && (this._updatePosition(), this._adjustPan()), this; }, getContent: function () { return this._content; }, setContent: function (t) { return this._content = t, this.update(), this; }, getElement: function () { return this._container; }, update: function () { this._map && (this._container.style.visibility = "hidden", this._updateContent(), this._updateLayout(), this._updatePosition(), this._container.style.visibility = "", this._adjustPan()); }, getEvents: function () { var t = { zoom: this._updatePosition, viewreset: this._updatePosition }; return this._zoomAnimated && (t.zoomanim = this._animateZoom), t; }, isOpen: function () { return !!this._map && this._map.hasLayer(this); }, bringToFront: function () { return this._map && o.DomUtil.toFront(this._container), this; }, bringToBack: function () { return this._map && o.DomUtil.toBack(this._container), this; }, _updateContent: function () { if (this._content) {
            var t = this._contentNode, e = "function" == typeof this._content ? this._content(this._source || this) : this._content;
            if ("string" == typeof e)
                t.innerHTML = e;
            else {
                for (; t.hasChildNodes();)
                    t.removeChild(t.firstChild);
                t.appendChild(e);
            }
            this.fire("contentupdate");
        } }, _updatePosition: function () { if (this._map) {
            var t = this._map.latLngToLayerPoint(this._latlng), e = o.point(this.options.offset), i = this._getAnchor();
            this._zoomAnimated ? o.DomUtil.setPosition(this._container, t.add(i)) : e = e.add(t).add(i);
            var n = this._containerBottom = -e.y, s = this._containerLeft = -Math.round(this._containerWidth / 2) + e.x;
            this._container.style.bottom = n + "px", this._container.style.left = s + "px";
        } }, _getAnchor: function () { return [0, 0]; } }), o.Popup = o.DivOverlay.extend({ options: { maxWidth: 300, minWidth: 50, maxHeight: null, autoPan: !0, autoPanPaddingTopLeft: null, autoPanPaddingBottomRight: null, autoPanPadding: [5, 5], keepInView: !1, closeButton: !0, autoClose: !0, className: "" }, openOn: function (t) { return t.openPopup(this), this; }, onAdd: function (t) { o.DivOverlay.prototype.onAdd.call(this, t), t.fire("popupopen", { popup: this }), this._source && (this._source.fire("popupopen", { popup: this }, !0), this._source instanceof o.Path || this._source.on("preclick", o.DomEvent.stopPropagation)); }, onRemove: function (t) { o.DivOverlay.prototype.onRemove.call(this, t), t.fire("popupclose", { popup: this }), this._source && (this._source.fire("popupclose", { popup: this }, !0), this._source instanceof o.Path || this._source.off("preclick", o.DomEvent.stopPropagation)); }, getEvents: function () { var t = o.DivOverlay.prototype.getEvents.call(this); return ("closeOnClick" in this.options ? this.options.closeOnClick : this._map.options.closePopupOnClick) && (t.preclick = this._close), this.options.keepInView && (t.moveend = this._adjustPan), t; }, _close: function () { this._map && this._map.closePopup(this); }, _initLayout: function () { var t = "leaflet-popup", e = this._container = o.DomUtil.create("div", t + " " + (this.options.className || "") + " leaflet-zoom-animated"); if (this.options.closeButton) {
            var i = this._closeButton = o.DomUtil.create("a", t + "-close-button", e);
            i.href = "#close", i.innerHTML = "&#215;", o.DomEvent.on(i, "click", this._onCloseButtonClick, this);
        } var n = this._wrapper = o.DomUtil.create("div", t + "-content-wrapper", e); this._contentNode = o.DomUtil.create("div", t + "-content", n), o.DomEvent.disableClickPropagation(n).disableScrollPropagation(this._contentNode).on(n, "contextmenu", o.DomEvent.stopPropagation), this._tipContainer = o.DomUtil.create("div", t + "-tip-container", e), this._tip = o.DomUtil.create("div", t + "-tip", this._tipContainer); }, _updateLayout: function () { var t = this._contentNode, e = t.style; e.width = "", e.whiteSpace = "nowrap"; var i = t.offsetWidth; i = Math.min(i, this.options.maxWidth), i = Math.max(i, this.options.minWidth), e.width = i + 1 + "px", e.whiteSpace = "", e.height = ""; var n = t.offsetHeight, s = this.options.maxHeight, r = "leaflet-popup-scrolled"; s && n > s ? (e.height = s + "px", o.DomUtil.addClass(t, r)) : o.DomUtil.removeClass(t, r), this._containerWidth = this._container.offsetWidth; }, _animateZoom: function (t) { var e = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center), i = this._getAnchor(); o.DomUtil.setPosition(this._container, e.add(i)); }, _adjustPan: function () { if (!(!this.options.autoPan || this._map._panAnim && this._map._panAnim._inProgress)) {
            var t = this._map, e = parseInt(o.DomUtil.getStyle(this._container, "marginBottom"), 10) || 0, i = this._container.offsetHeight + e, n = this._containerWidth, s = new o.Point(this._containerLeft, -i - this._containerBottom);
            s._add(o.DomUtil.getPosition(this._container));
            var r = t.layerPointToContainerPoint(s), a = o.point(this.options.autoPanPadding), h = o.point(this.options.autoPanPaddingTopLeft || a), l = o.point(this.options.autoPanPaddingBottomRight || a), u = t.getSize(), c = 0, d = 0;
            r.x + n + l.x > u.x && (c = r.x + n - u.x + l.x), r.x - c - h.x < 0 && (c = r.x - h.x), r.y + i + l.y > u.y && (d = r.y + i - u.y + l.y), r.y - d - h.y < 0 && (d = r.y - h.y), (c || d) && t.fire("autopanstart").panBy([c, d]);
        } }, _onCloseButtonClick: function (t) { this._close(), o.DomEvent.stop(t); }, _getAnchor: function () { return o.point(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0]); } }), o.popup = function (t, e) { return new o.Popup(t, e); }, o.Map.mergeOptions({ closePopupOnClick: !0 }), o.Map.include({ openPopup: function (t, e, i) { return t instanceof o.Popup || (t = new o.Popup(i).setContent(t)), e && t.setLatLng(e), this.hasLayer(t) ? this : (this._popup && this._popup.options.autoClose && this.closePopup(), this._popup = t, this.addLayer(t)); }, closePopup: function (t) { return t && t !== this._popup || (t = this._popup, this._popup = null), t && this.removeLayer(t), this; } }), o.Layer.include({ bindPopup: function (t, e) { return t instanceof o.Popup ? (o.setOptions(t, e), this._popup = t, t._source = this) : (this._popup && !e || (this._popup = new o.Popup(e, this)), this._popup.setContent(t)), this._popupHandlersAdded || (this.on({ click: this._openPopup, remove: this.closePopup, move: this._movePopup }), this._popupHandlersAdded = !0), this; }, unbindPopup: function () { return this._popup && (this.off({ click: this._openPopup, remove: this.closePopup, move: this._movePopup }), this._popupHandlersAdded = !1, this._popup = null), this; }, openPopup: function (t, e) { if (t instanceof o.Layer || (e = t, t = this), t instanceof o.FeatureGroup)
            for (var i in this._layers) {
                t = this._layers[i];
                break;
            } return e || (e = t.getCenter ? t.getCenter() : t.getLatLng()), this._popup && this._map && (this._popup._source = t, this._popup.update(), this._map.openPopup(this._popup, e)), this; }, closePopup: function () { return this._popup && this._popup._close(), this; }, togglePopup: function (t) { return this._popup && (this._popup._map ? this.closePopup() : this.openPopup(t)), this; }, isPopupOpen: function () { return !!this._popup && this._popup.isOpen(); }, setPopupContent: function (t) { return this._popup && this._popup.setContent(t), this; }, getPopup: function () { return this._popup; }, _openPopup: function (t) { var e = t.layer || t.target; if (this._popup && this._map)
            return o.DomEvent.stop(t), e instanceof o.Path ? void this.openPopup(t.layer || t.target, t.latlng) : void (this._map.hasLayer(this._popup) && this._popup._source === e ? this.closePopup() : this.openPopup(e, t.latlng)); }, _movePopup: function (t) { this._popup.setLatLng(t.latlng); } }), o.Tooltip = o.DivOverlay.extend({ options: { pane: "tooltipPane", offset: [0, 0], direction: "auto", permanent: !1, sticky: !1, interactive: !1, opacity: .9 }, onAdd: function (t) { o.DivOverlay.prototype.onAdd.call(this, t), this.setOpacity(this.options.opacity), t.fire("tooltipopen", { tooltip: this }), this._source && this._source.fire("tooltipopen", { tooltip: this }, !0); }, onRemove: function (t) { o.DivOverlay.prototype.onRemove.call(this, t), t.fire("tooltipclose", { tooltip: this }), this._source && this._source.fire("tooltipclose", { tooltip: this }, !0); }, getEvents: function () { var t = o.DivOverlay.prototype.getEvents.call(this); return o.Browser.touch && !this.options.permanent && (t.preclick = this._close), t; }, _close: function () { this._map && this._map.closeTooltip(this); }, _initLayout: function () { var t = "leaflet-tooltip", e = t + " " + (this.options.className || "") + " leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide"); this._contentNode = this._container = o.DomUtil.create("div", e); }, _updateLayout: function () { }, _adjustPan: function () { }, _setPosition: function (t) { var e = this._map, i = this._container, n = e.latLngToContainerPoint(e.getCenter()), s = e.layerPointToContainerPoint(t), r = this.options.direction, a = i.offsetWidth, h = i.offsetHeight, l = o.point(this.options.offset), u = this._getAnchor(); "top" === r ? t = t.add(o.point(-a / 2 + l.x, -h + l.y + u.y, !0)) : "bottom" === r ? t = t.subtract(o.point(a / 2 - l.x, -l.y, !0)) : "center" === r ? t = t.subtract(o.point(a / 2 + l.x, h / 2 - u.y + l.y, !0)) : "right" === r || "auto" === r && s.x < n.x ? (r = "right", t = t.add(o.point(l.x + u.x, u.y - h / 2 + l.y, !0))) : (r = "left", t = t.subtract(o.point(a + u.x - l.x, h / 2 - u.y - l.y, !0))), o.DomUtil.removeClass(i, "leaflet-tooltip-right"), o.DomUtil.removeClass(i, "leaflet-tooltip-left"), o.DomUtil.removeClass(i, "leaflet-tooltip-top"), o.DomUtil.removeClass(i, "leaflet-tooltip-bottom"), o.DomUtil.addClass(i, "leaflet-tooltip-" + r), o.DomUtil.setPosition(i, t); }, _updatePosition: function () { var t = this._map.latLngToLayerPoint(this._latlng); this._setPosition(t); }, setOpacity: function (t) { this.options.opacity = t, this._container && o.DomUtil.setOpacity(this._container, t); }, _animateZoom: function (t) { var e = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center); this._setPosition(e); }, _getAnchor: function () { return o.point(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0]); } }), o.tooltip = function (t, e) { return new o.Tooltip(t, e); }, o.Map.include({ openTooltip: function (t, e, i) { return t instanceof o.Tooltip || (t = new o.Tooltip(i).setContent(t)), e && t.setLatLng(e), this.hasLayer(t) ? this : this.addLayer(t); }, closeTooltip: function (t) { return t && this.removeLayer(t), this; } }), o.Layer.include({ bindTooltip: function (t, e) { return t instanceof o.Tooltip ? (o.setOptions(t, e), this._tooltip = t, t._source = this) : (this._tooltip && !e || (this._tooltip = o.tooltip(e, this)), this._tooltip.setContent(t)), this._initTooltipInteractions(), this._tooltip.options.permanent && this._map && this._map.hasLayer(this) && this.openTooltip(), this; }, unbindTooltip: function () { return this._tooltip && (this._initTooltipInteractions(!0), this.closeTooltip(), this._tooltip = null), this; }, _initTooltipInteractions: function (t) { if (t || !this._tooltipHandlersAdded) {
            var e = t ? "off" : "on", i = { remove: this.closeTooltip, move: this._moveTooltip };
            this._tooltip.options.permanent ? i.add = this._openTooltip : (i.mouseover = this._openTooltip, i.mouseout = this.closeTooltip, this._tooltip.options.sticky && (i.mousemove = this._moveTooltip), o.Browser.touch && (i.click = this._openTooltip)), this[e](i), this._tooltipHandlersAdded = !t;
        } }, openTooltip: function (t, e) { if (t instanceof o.Layer || (e = t, t = this), t instanceof o.FeatureGroup)
            for (var i in this._layers) {
                t = this._layers[i];
                break;
            } return e || (e = t.getCenter ? t.getCenter() : t.getLatLng()), this._tooltip && this._map && (this._tooltip._source = t, this._tooltip.update(), this._map.openTooltip(this._tooltip, e), this._tooltip.options.interactive && this._tooltip._container && (o.DomUtil.addClass(this._tooltip._container, "leaflet-clickable"), this.addInteractiveTarget(this._tooltip._container))), this; }, closeTooltip: function () { return this._tooltip && (this._tooltip._close(), this._tooltip.options.interactive && this._tooltip._container && (o.DomUtil.removeClass(this._tooltip._container, "leaflet-clickable"), this.removeInteractiveTarget(this._tooltip._container))), this; }, toggleTooltip: function (t) { return this._tooltip && (this._tooltip._map ? this.closeTooltip() : this.openTooltip(t)), this; }, isTooltipOpen: function () { return this._tooltip.isOpen(); }, setTooltipContent: function (t) { return this._tooltip && this._tooltip.setContent(t), this; }, getTooltip: function () { return this._tooltip; }, _openTooltip: function (t) { var e = t.layer || t.target; this._tooltip && this._map && this.openTooltip(e, this._tooltip.options.sticky ? t.latlng : i); }, _moveTooltip: function (t) { var e, i, n = t.latlng; this._tooltip.options.sticky && t.originalEvent && (e = this._map.mouseEventToContainerPoint(t.originalEvent), i = this._map.containerPointToLayerPoint(e), n = this._map.layerPointToLatLng(i)), this._tooltip.setLatLng(n); } }), o.LayerGroup = o.Layer.extend({ initialize: function (t) { this._layers = {}; var e, i; if (t)
            for (e = 0, i = t.length; e < i; e++)
                this.addLayer(t[e]); }, addLayer: function (t) { var e = this.getLayerId(t); return this._layers[e] = t, this._map && this._map.addLayer(t), this; }, removeLayer: function (t) { var e = t in this._layers ? t : this.getLayerId(t); return this._map && this._layers[e] && this._map.removeLayer(this._layers[e]), delete this._layers[e], this; }, hasLayer: function (t) { return !!t && (t in this._layers || this.getLayerId(t) in this._layers); }, clearLayers: function () { for (var t in this._layers)
            this.removeLayer(this._layers[t]); return this; }, invoke: function (t) { var e, i, n = Array.prototype.slice.call(arguments, 1); for (e in this._layers)
            i = this._layers[e], i[t] && i[t].apply(i, n); return this; }, onAdd: function (t) { for (var e in this._layers)
            t.addLayer(this._layers[e]); }, onRemove: function (t) { for (var e in this._layers)
            t.removeLayer(this._layers[e]); }, eachLayer: function (t, e) { for (var i in this._layers)
            t.call(e, this._layers[i]); return this; }, getLayer: function (t) { return this._layers[t]; }, getLayers: function () { var t = []; for (var e in this._layers)
            t.push(this._layers[e]); return t; }, setZIndex: function (t) { return this.invoke("setZIndex", t); }, getLayerId: function (t) { return o.stamp(t); } }), o.layerGroup = function (t) { return new o.LayerGroup(t); }, o.FeatureGroup = o.LayerGroup.extend({ addLayer: function (t) { return this.hasLayer(t) ? this : (t.addEventParent(this), o.LayerGroup.prototype.addLayer.call(this, t), this.fire("layeradd", { layer: t })); }, removeLayer: function (t) { return this.hasLayer(t) ? (t in this._layers && (t = this._layers[t]), t.removeEventParent(this), o.LayerGroup.prototype.removeLayer.call(this, t), this.fire("layerremove", { layer: t })) : this; }, setStyle: function (t) { return this.invoke("setStyle", t); }, bringToFront: function () { return this.invoke("bringToFront"); }, bringToBack: function () { return this.invoke("bringToBack"); }, getBounds: function () { var t = new o.LatLngBounds; for (var e in this._layers) {
            var i = this._layers[e];
            t.extend(i.getBounds ? i.getBounds() : i.getLatLng());
        } return t; } }), o.featureGroup = function (t) { return new o.FeatureGroup(t); }, o.Renderer = o.Layer.extend({ options: { padding: .1 }, initialize: function (t) { o.setOptions(this, t), o.stamp(this), this._layers = this._layers || {}; }, onAdd: function () { this._container || (this._initContainer(), this._zoomAnimated && o.DomUtil.addClass(this._container, "leaflet-zoom-animated")), this.getPane().appendChild(this._container), this._update(), this.on("update", this._updatePaths, this); }, onRemove: function () { o.DomUtil.remove(this._container), this.off("update", this._updatePaths, this); }, getEvents: function () { var t = { viewreset: this._reset, zoom: this._onZoom, moveend: this._update, zoomend: this._onZoomEnd }; return this._zoomAnimated && (t.zoomanim = this._onAnimZoom), t; }, _onAnimZoom: function (t) { this._updateTransform(t.center, t.zoom); }, _onZoom: function () { this._updateTransform(this._map.getCenter(), this._map.getZoom()); }, _updateTransform: function (t, e) { var i = this._map.getZoomScale(e, this._zoom), n = o.DomUtil.getPosition(this._container), s = this._map.getSize().multiplyBy(.5 + this.options.padding), r = this._map.project(this._center, e), a = this._map.project(t, e), h = a.subtract(r), l = s.multiplyBy(-i).add(n).add(s).subtract(h); o.Browser.any3d ? o.DomUtil.setTransform(this._container, l, i) : o.DomUtil.setPosition(this._container, l); }, _reset: function () { this._update(), this._updateTransform(this._center, this._zoom); for (var t in this._layers)
            this._layers[t]._reset(); }, _onZoomEnd: function () { for (var t in this._layers)
            this._layers[t]._project(); }, _updatePaths: function () { for (var t in this._layers)
            this._layers[t]._update(); }, _update: function () { var t = this.options.padding, e = this._map.getSize(), i = this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round(); this._bounds = new o.Bounds(i, i.add(e.multiplyBy(1 + 2 * t)).round()), this._center = this._map.getCenter(), this._zoom = this._map.getZoom(); } }), o.Map.include({ getRenderer: function (t) { var e = t.options.renderer || this._getPaneRenderer(t.options.pane) || this.options.renderer || this._renderer; return e || (e = this._renderer = this.options.preferCanvas && o.canvas() || o.svg()), this.hasLayer(e) || this.addLayer(e), e; }, _getPaneRenderer: function (t) { if ("overlayPane" === t || t === i)
            return !1; var e = this._paneRenderers[t]; return e === i && (e = o.SVG && o.svg({ pane: t }) || o.Canvas && o.canvas({ pane: t }), this._paneRenderers[t] = e), e; } }), o.Path = o.Layer.extend({ options: { stroke: !0, color: "#3388ff", weight: 3, opacity: 1, lineCap: "round", lineJoin: "round", dashArray: null, dashOffset: null, fill: !1, fillColor: null, fillOpacity: .2, fillRule: "evenodd", interactive: !0 }, beforeAdd: function (t) { this._renderer = t.getRenderer(this); }, onAdd: function () { this._renderer._initPath(this), this._reset(), this._renderer._addPath(this); }, onRemove: function () { this._renderer._removePath(this); }, redraw: function () { return this._map && this._renderer._updatePath(this), this; }, setStyle: function (t) { return o.setOptions(this, t), this._renderer && this._renderer._updateStyle(this), this; }, bringToFront: function () { return this._renderer && this._renderer._bringToFront(this), this; }, bringToBack: function () { return this._renderer && this._renderer._bringToBack(this), this; }, getElement: function () { return this._path; }, _reset: function () { this._project(), this._update(); }, _clickTolerance: function () { return (this.options.stroke ? this.options.weight / 2 : 0) + (o.Browser.touch ? 10 : 0); } }), o.LineUtil = { simplify: function (t, e) { if (!e || !t.length)
            return t.slice(); var i = e * e; return t = this._reducePoints(t, i), t = this._simplifyDP(t, i); }, pointToSegmentDistance: function (t, e, i) { return Math.sqrt(this._sqClosestPointOnSegment(t, e, i, !0)); }, closestPointOnSegment: function (t, e, i) { return this._sqClosestPointOnSegment(t, e, i); }, _simplifyDP: function (t, e) { var n = t.length, o = typeof Uint8Array != i + "" ? Uint8Array : Array, s = new o(n); s[0] = s[n - 1] = 1, this._simplifyDPStep(t, s, e, 0, n - 1); var r, a = []; for (r = 0; r < n; r++)
            s[r] && a.push(t[r]); return a; }, _simplifyDPStep: function (t, e, i, n, o) { var s, r, a, h = 0; for (r = n + 1; r <= o - 1; r++)
            a = this._sqClosestPointOnSegment(t[r], t[n], t[o], !0), a > h && (s = r, h = a); h > i && (e[s] = 1, this._simplifyDPStep(t, e, i, n, s), this._simplifyDPStep(t, e, i, s, o)); }, _reducePoints: function (t, e) { for (var i = [t[0]], n = 1, o = 0, s = t.length; n < s; n++)
            this._sqDist(t[n], t[o]) > e && (i.push(t[n]), o = n); return o < s - 1 && i.push(t[s - 1]), i; }, clipSegment: function (t, e, i, n, o) { var s, r, a, h = n ? this._lastCode : this._getBitCode(t, i), l = this._getBitCode(e, i); for (this._lastCode = l;;) {
            if (!(h | l))
                return [t, e];
            if (h & l)
                return !1;
            s = h || l, r = this._getEdgeIntersection(t, e, s, i, o), a = this._getBitCode(r, i), s === h ? (t = r, h = a) : (e = r, l = a);
        } }, _getEdgeIntersection: function (t, e, i, n, s) { var r, a, h = e.x - t.x, l = e.y - t.y, u = n.min, c = n.max; return 8 & i ? (r = t.x + h * (c.y - t.y) / l, a = c.y) : 4 & i ? (r = t.x + h * (u.y - t.y) / l, a = u.y) : 2 & i ? (r = c.x, a = t.y + l * (c.x - t.x) / h) : 1 & i && (r = u.x, a = t.y + l * (u.x - t.x) / h), new o.Point(r, a, s); }, _getBitCode: function (t, e) { var i = 0; return t.x < e.min.x ? i |= 1 : t.x > e.max.x && (i |= 2), t.y < e.min.y ? i |= 4 : t.y > e.max.y && (i |= 8), i; }, _sqDist: function (t, e) { var i = e.x - t.x, n = e.y - t.y; return i * i + n * n; }, _sqClosestPointOnSegment: function (t, e, i, n) { var s, r = e.x, a = e.y, h = i.x - r, l = i.y - a, u = h * h + l * l; return u > 0 && (s = ((t.x - r) * h + (t.y - a) * l) / u, s > 1 ? (r = i.x, a = i.y) : s > 0 && (r += h * s, a += l * s)), h = t.x - r, l = t.y - a, n ? h * h + l * l : new o.Point(r, a); } }, o.Polyline = o.Path.extend({ options: { smoothFactor: 1, noClip: !1 }, initialize: function (t, e) { o.setOptions(this, e), this._setLatLngs(t); }, getLatLngs: function () { return this._latlngs; }, setLatLngs: function (t) { return this._setLatLngs(t), this.redraw(); }, isEmpty: function () { return !this._latlngs.length; }, closestLayerPoint: function (t) { for (var e, i, n = 1 / 0, s = null, r = o.LineUtil._sqClosestPointOnSegment, a = 0, h = this._parts.length; a < h; a++)
            for (var l = this._parts[a], u = 1, c = l.length; u < c; u++) {
                e = l[u - 1], i = l[u];
                var d = r(t, e, i, !0);
                d < n && (n = d, s = r(t, e, i));
            } return s && (s.distance = Math.sqrt(n)), s; }, getCenter: function () { if (!this._map)
            throw new Error("Must add layer to map before using getCenter()"); var t, e, i, n, o, s, r, a = this._rings[0], h = a.length; if (!h)
            return null; for (t = 0, e = 0; t < h - 1; t++)
            e += a[t].distanceTo(a[t + 1]) / 2; if (0 === e)
            return this._map.layerPointToLatLng(a[0]); for (t = 0, n = 0; t < h - 1; t++)
            if (o = a[t], s = a[t + 1], i = o.distanceTo(s), n += i, n > e)
                return r = (n - e) / i, this._map.layerPointToLatLng([s.x - r * (s.x - o.x), s.y - r * (s.y - o.y)]); }, getBounds: function () { return this._bounds; }, addLatLng: function (t, e) { return e = e || this._defaultShape(), t = o.latLng(t), e.push(t), this._bounds.extend(t), this.redraw(); }, _setLatLngs: function (t) { this._bounds = new o.LatLngBounds, this._latlngs = this._convertLatLngs(t); }, _defaultShape: function () { return o.Polyline._flat(this._latlngs) ? this._latlngs : this._latlngs[0]; }, _convertLatLngs: function (t) { for (var e = [], i = o.Polyline._flat(t), n = 0, s = t.length; n < s; n++)
            i ? (e[n] = o.latLng(t[n]), this._bounds.extend(e[n])) : e[n] = this._convertLatLngs(t[n]); return e; }, _project: function () { var t = new o.Bounds; this._rings = [], this._projectLatlngs(this._latlngs, this._rings, t); var e = this._clickTolerance(), i = new o.Point(e, e); this._bounds.isValid() && t.isValid() && (t.min._subtract(i), t.max._add(i), this._pxBounds = t); }, _projectLatlngs: function (t, e, i) { var n, s, r = t[0] instanceof o.LatLng, a = t.length; if (r) {
            for (s = [], n = 0; n < a; n++)
                s[n] = this._map.latLngToLayerPoint(t[n]), i.extend(s[n]);
            e.push(s);
        }
        else
            for (n = 0; n < a; n++)
                this._projectLatlngs(t[n], e, i); }, _clipPoints: function () { var t = this._renderer._bounds; if (this._parts = [], this._pxBounds && this._pxBounds.intersects(t)) {
            if (this.options.noClip)
                return void (this._parts = this._rings);
            var e, i, n, s, r, a, h, l = this._parts;
            for (e = 0, n = 0, s = this._rings.length; e < s; e++)
                for (h = this._rings[e], i = 0, r = h.length; i < r - 1; i++)
                    a = o.LineUtil.clipSegment(h[i], h[i + 1], t, i, !0), a && (l[n] = l[n] || [], l[n].push(a[0]), a[1] === h[i + 1] && i !== r - 2 || (l[n].push(a[1]), n++));
        } }, _simplifyPoints: function () { for (var t = this._parts, e = this.options.smoothFactor, i = 0, n = t.length; i < n; i++)
            t[i] = o.LineUtil.simplify(t[i], e); }, _update: function () { this._map && (this._clipPoints(), this._simplifyPoints(), this._updatePath()); }, _updatePath: function () { this._renderer._updatePoly(this); } }), o.polyline = function (t, e) { return new o.Polyline(t, e); }, o.Polyline._flat = function (t) { return !o.Util.isArray(t[0]) || "object" != typeof t[0][0] && "undefined" != typeof t[0][0]; }, o.PolyUtil = {}, o.PolyUtil.clipPolygon = function (t, e, i) { var n, s, r, a, h, l, u, c, d, _ = [1, 4, 2, 8], m = o.LineUtil; for (s = 0, u = t.length; s < u; s++)
        t[s]._code = m._getBitCode(t[s], e); for (a = 0; a < 4; a++) {
        for (c = _[a], n = [], s = 0, u = t.length, r = u - 1; s < u; r = s++)
            h = t[s], l = t[r], h._code & c ? l._code & c || (d = m._getEdgeIntersection(l, h, c, e, i), d._code = m._getBitCode(d, e), n.push(d)) : (l._code & c && (d = m._getEdgeIntersection(l, h, c, e, i), d._code = m._getBitCode(d, e), n.push(d)), n.push(h));
        t = n;
    } return t; }, o.Polygon = o.Polyline.extend({ options: { fill: !0 }, isEmpty: function () { return !this._latlngs.length || !this._latlngs[0].length; }, getCenter: function () { if (!this._map)
            throw new Error("Must add layer to map before using getCenter()"); var t, e, i, n, o, s, r, a, h, l = this._rings[0], u = l.length; if (!u)
            return null; for (s = r = a = 0, t = 0, e = u - 1; t < u; e = t++)
            i = l[t], n = l[e], o = i.y * n.x - n.y * i.x, r += (i.x + n.x) * o, a += (i.y + n.y) * o, s += 3 * o; return h = 0 === s ? l[0] : [r / s, a / s], this._map.layerPointToLatLng(h); }, _convertLatLngs: function (t) { var e = o.Polyline.prototype._convertLatLngs.call(this, t), i = e.length; return i >= 2 && e[0] instanceof o.LatLng && e[0].equals(e[i - 1]) && e.pop(), e; }, _setLatLngs: function (t) { o.Polyline.prototype._setLatLngs.call(this, t), o.Polyline._flat(this._latlngs) && (this._latlngs = [this._latlngs]); }, _defaultShape: function () { return o.Polyline._flat(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0]; }, _clipPoints: function () { var t = this._renderer._bounds, e = this.options.weight, i = new o.Point(e, e); if (t = new o.Bounds(t.min.subtract(i), t.max.add(i)), this._parts = [], this._pxBounds && this._pxBounds.intersects(t)) {
            if (this.options.noClip)
                return void (this._parts = this._rings);
            for (var n, s = 0, r = this._rings.length; s < r; s++)
                n = o.PolyUtil.clipPolygon(this._rings[s], t, !0), n.length && this._parts.push(n);
        } }, _updatePath: function () { this._renderer._updatePoly(this, !0); } }), o.polygon = function (t, e) { return new o.Polygon(t, e); }, o.Rectangle = o.Polygon.extend({ initialize: function (t, e) { o.Polygon.prototype.initialize.call(this, this._boundsToLatLngs(t), e); }, setBounds: function (t) { return this.setLatLngs(this._boundsToLatLngs(t)); }, _boundsToLatLngs: function (t) { return t = o.latLngBounds(t), [t.getSouthWest(), t.getNorthWest(), t.getNorthEast(), t.getSouthEast()]; } }), o.rectangle = function (t, e) { return new o.Rectangle(t, e); }, o.CircleMarker = o.Path.extend({ options: { fill: !0, radius: 10 }, initialize: function (t, e) { o.setOptions(this, e), this._latlng = o.latLng(t), this._radius = this.options.radius; }, setLatLng: function (t) { return this._latlng = o.latLng(t), this.redraw(), this.fire("move", { latlng: this._latlng }); }, getLatLng: function () { return this._latlng; }, setRadius: function (t) { return this.options.radius = this._radius = t, this.redraw(); }, getRadius: function () { return this._radius; }, setStyle: function (t) { var e = t && t.radius || this._radius; return o.Path.prototype.setStyle.call(this, t), this.setRadius(e), this; }, _project: function () { this._point = this._map.latLngToLayerPoint(this._latlng), this._updateBounds(); }, _updateBounds: function () { var t = this._radius, e = this._radiusY || t, i = this._clickTolerance(), n = [t + i, e + i]; this._pxBounds = new o.Bounds(this._point.subtract(n), this._point.add(n)); }, _update: function () { this._map && this._updatePath(); }, _updatePath: function () { this._renderer._updateCircle(this); }, _empty: function () { return this._radius && !this._renderer._bounds.intersects(this._pxBounds); } }), o.circleMarker = function (t, e) { return new o.CircleMarker(t, e); }, o.Circle = o.CircleMarker.extend({ initialize: function (t, e, i) { if ("number" == typeof e && (e = o.extend({}, i, { radius: e })), o.setOptions(this, e), this._latlng = o.latLng(t), isNaN(this.options.radius))
            throw new Error("Circle radius cannot be NaN"); this._mRadius = this.options.radius; }, setRadius: function (t) { return this._mRadius = t, this.redraw(); }, getRadius: function () { return this._mRadius; }, getBounds: function () {
            var t = [this._radius, this._radiusY || this._radius];
            return new o.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)), this._map.layerPointToLatLng(this._point.add(t)));
        }, setStyle: o.Path.prototype.setStyle, _project: function () { var t = this._latlng.lng, e = this._latlng.lat, i = this._map, n = i.options.crs; if (n.distance === o.CRS.Earth.distance) {
            var s = Math.PI / 180, r = this._mRadius / o.CRS.Earth.R / s, a = i.project([e + r, t]), h = i.project([e - r, t]), l = a.add(h).divideBy(2), u = i.unproject(l).lat, c = Math.acos((Math.cos(r * s) - Math.sin(e * s) * Math.sin(u * s)) / (Math.cos(e * s) * Math.cos(u * s))) / s;
            (isNaN(c) || 0 === c) && (c = r / Math.cos(Math.PI / 180 * e)), this._point = l.subtract(i.getPixelOrigin()), this._radius = isNaN(c) ? 0 : Math.max(Math.round(l.x - i.project([u, t - c]).x), 1), this._radiusY = Math.max(Math.round(l.y - a.y), 1);
        }
        else {
            var d = n.unproject(n.project(this._latlng).subtract([this._mRadius, 0]));
            this._point = i.latLngToLayerPoint(this._latlng), this._radius = this._point.x - i.latLngToLayerPoint(d).x;
        } this._updateBounds(); } }), o.circle = function (t, e, i) { return new o.Circle(t, e, i); }, o.SVG = o.Renderer.extend({ getEvents: function () { var t = o.Renderer.prototype.getEvents.call(this); return t.zoomstart = this._onZoomStart, t; }, _initContainer: function () { this._container = o.SVG.create("svg"), this._container.setAttribute("pointer-events", "none"), this._rootGroup = o.SVG.create("g"), this._container.appendChild(this._rootGroup); }, _onZoomStart: function () { this._update(); }, _update: function () { if (!this._map._animatingZoom || !this._bounds) {
            o.Renderer.prototype._update.call(this);
            var t = this._bounds, e = t.getSize(), i = this._container;
            this._svgSize && this._svgSize.equals(e) || (this._svgSize = e, i.setAttribute("width", e.x), i.setAttribute("height", e.y)), o.DomUtil.setPosition(i, t.min), i.setAttribute("viewBox", [t.min.x, t.min.y, e.x, e.y].join(" ")), this.fire("update");
        } }, _initPath: function (t) { var e = t._path = o.SVG.create("path"); t.options.className && o.DomUtil.addClass(e, t.options.className), t.options.interactive && o.DomUtil.addClass(e, "leaflet-interactive"), this._updateStyle(t), this._layers[o.stamp(t)] = t; }, _addPath: function (t) { this._rootGroup.appendChild(t._path), t.addInteractiveTarget(t._path); }, _removePath: function (t) { o.DomUtil.remove(t._path), t.removeInteractiveTarget(t._path), delete this._layers[o.stamp(t)]; }, _updatePath: function (t) { t._project(), t._update(); }, _updateStyle: function (t) { var e = t._path, i = t.options; e && (i.stroke ? (e.setAttribute("stroke", i.color), e.setAttribute("stroke-opacity", i.opacity), e.setAttribute("stroke-width", i.weight), e.setAttribute("stroke-linecap", i.lineCap), e.setAttribute("stroke-linejoin", i.lineJoin), i.dashArray ? e.setAttribute("stroke-dasharray", i.dashArray) : e.removeAttribute("stroke-dasharray"), i.dashOffset ? e.setAttribute("stroke-dashoffset", i.dashOffset) : e.removeAttribute("stroke-dashoffset")) : e.setAttribute("stroke", "none"), i.fill ? (e.setAttribute("fill", i.fillColor || i.color), e.setAttribute("fill-opacity", i.fillOpacity), e.setAttribute("fill-rule", i.fillRule || "evenodd")) : e.setAttribute("fill", "none")); }, _updatePoly: function (t, e) { this._setPath(t, o.SVG.pointsToPath(t._parts, e)); }, _updateCircle: function (t) { var e = t._point, i = t._radius, n = t._radiusY || i, o = "a" + i + "," + n + " 0 1,0 ", s = t._empty() ? "M0 0" : "M" + (e.x - i) + "," + e.y + o + 2 * i + ",0 " + o + 2 * -i + ",0 "; this._setPath(t, s); }, _setPath: function (t, e) { t._path.setAttribute("d", e); }, _bringToFront: function (t) { o.DomUtil.toFront(t._path); }, _bringToBack: function (t) { o.DomUtil.toBack(t._path); } }), o.extend(o.SVG, { create: function (t) { return e.createElementNS("http://www.w3.org/2000/svg", t); }, pointsToPath: function (t, e) { var i, n, s, r, a, h, l = ""; for (i = 0, s = t.length; i < s; i++) {
            for (a = t[i], n = 0, r = a.length; n < r; n++)
                h = a[n], l += (n ? "L" : "M") + h.x + " " + h.y;
            l += e ? o.Browser.svg ? "z" : "x" : "";
        } return l || "M0 0"; } }), o.Browser.svg = !(!e.createElementNS || !o.SVG.create("svg").createSVGRect), o.svg = function (t) { return o.Browser.svg || o.Browser.vml ? new o.SVG(t) : null; }, o.Browser.vml = !o.Browser.svg && function () { try {
        var t = e.createElement("div");
        t.innerHTML = '<v:shape adj="1"/>';
        var i = t.firstChild;
        return i.style.behavior = "url(#default#VML)", i && "object" == typeof i.adj;
    }
    catch (t) {
        return !1;
    } }(), o.SVG.include(o.Browser.vml ? { _initContainer: function () { this._container = o.DomUtil.create("div", "leaflet-vml-container"); }, _update: function () { this._map._animatingZoom || (o.Renderer.prototype._update.call(this), this.fire("update")); }, _initPath: function (t) { var e = t._container = o.SVG.create("shape"); o.DomUtil.addClass(e, "leaflet-vml-shape " + (this.options.className || "")), e.coordsize = "1 1", t._path = o.SVG.create("path"), e.appendChild(t._path), this._updateStyle(t), this._layers[o.stamp(t)] = t; }, _addPath: function (t) { var e = t._container; this._container.appendChild(e), t.options.interactive && t.addInteractiveTarget(e); }, _removePath: function (t) { var e = t._container; o.DomUtil.remove(e), t.removeInteractiveTarget(e), delete this._layers[o.stamp(t)]; }, _updateStyle: function (t) { var e = t._stroke, i = t._fill, n = t.options, s = t._container; s.stroked = !!n.stroke, s.filled = !!n.fill, n.stroke ? (e || (e = t._stroke = o.SVG.create("stroke")), s.appendChild(e), e.weight = n.weight + "px", e.color = n.color, e.opacity = n.opacity, n.dashArray ? e.dashStyle = o.Util.isArray(n.dashArray) ? n.dashArray.join(" ") : n.dashArray.replace(/( *, *)/g, " ") : e.dashStyle = "", e.endcap = n.lineCap.replace("butt", "flat"), e.joinstyle = n.lineJoin) : e && (s.removeChild(e), t._stroke = null), n.fill ? (i || (i = t._fill = o.SVG.create("fill")), s.appendChild(i), i.color = n.fillColor || n.color, i.opacity = n.fillOpacity) : i && (s.removeChild(i), t._fill = null); }, _updateCircle: function (t) { var e = t._point.round(), i = Math.round(t._radius), n = Math.round(t._radiusY || i); this._setPath(t, t._empty() ? "M0 0" : "AL " + e.x + "," + e.y + " " + i + "," + n + " 0,23592600"); }, _setPath: function (t, e) { t._path.v = e; }, _bringToFront: function (t) { o.DomUtil.toFront(t._container); }, _bringToBack: function (t) { o.DomUtil.toBack(t._container); } } : {}), o.Browser.vml && (o.SVG.create = function () { try {
        return e.namespaces.add("lvml", "urn:schemas-microsoft-com:vml"), function (t) { return e.createElement("<lvml:" + t + ' class="lvml">'); };
    }
    catch (t) {
        return function (t) { return e.createElement("<" + t + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">'); };
    } }()), o.Canvas = o.Renderer.extend({ getEvents: function () { var t = o.Renderer.prototype.getEvents.call(this); return t.viewprereset = this._onViewPreReset, t; }, _onViewPreReset: function () { this._postponeUpdatePaths = !0; }, onAdd: function () { o.Renderer.prototype.onAdd.call(this), this._draw(); }, _initContainer: function () { var t = this._container = e.createElement("canvas"); o.DomEvent.on(t, "mousemove", o.Util.throttle(this._onMouseMove, 32, this), this).on(t, "click dblclick mousedown mouseup contextmenu", this._onClick, this).on(t, "mouseout", this._handleMouseOut, this), this._ctx = t.getContext("2d"); }, _updatePaths: function () { if (!this._postponeUpdatePaths) {
            var t;
            this._redrawBounds = null;
            for (var e in this._layers)
                t = this._layers[e], t._update();
            this._redraw();
        } }, _update: function () { if (!this._map._animatingZoom || !this._bounds) {
            this._drawnLayers = {}, o.Renderer.prototype._update.call(this);
            var t = this._bounds, e = this._container, i = t.getSize(), n = o.Browser.retina ? 2 : 1;
            o.DomUtil.setPosition(e, t.min), e.width = n * i.x, e.height = n * i.y, e.style.width = i.x + "px", e.style.height = i.y + "px", o.Browser.retina && this._ctx.scale(2, 2), this._ctx.translate(-t.min.x, -t.min.y), this.fire("update");
        } }, _reset: function () { o.Renderer.prototype._reset.call(this), this._postponeUpdatePaths && (this._postponeUpdatePaths = !1, this._updatePaths()); }, _initPath: function (t) { this._updateDashArray(t), this._layers[o.stamp(t)] = t; var e = t._order = { layer: t, prev: this._drawLast, next: null }; this._drawLast && (this._drawLast.next = e), this._drawLast = e, this._drawFirst = this._drawFirst || this._drawLast; }, _addPath: function (t) { this._requestRedraw(t); }, _removePath: function (t) { var e = t._order, i = e.next, n = e.prev; i ? i.prev = n : this._drawLast = n, n ? n.next = i : this._drawFirst = i, delete t._order, delete this._layers[o.stamp(t)], this._requestRedraw(t); }, _updatePath: function (t) { this._extendRedrawBounds(t), t._project(), t._update(), this._requestRedraw(t); }, _updateStyle: function (t) { this._updateDashArray(t), this._requestRedraw(t); }, _updateDashArray: function (t) { if (t.options.dashArray) {
            var e, i = t.options.dashArray.split(","), n = [];
            for (e = 0; e < i.length; e++)
                n.push(Number(i[e]));
            t.options._dashArray = n;
        } }, _requestRedraw: function (t) { this._map && (this._extendRedrawBounds(t), this._redrawRequest = this._redrawRequest || o.Util.requestAnimFrame(this._redraw, this)); }, _extendRedrawBounds: function (t) { var e = (t.options.weight || 0) + 1; this._redrawBounds = this._redrawBounds || new o.Bounds, this._redrawBounds.extend(t._pxBounds.min.subtract([e, e])), this._redrawBounds.extend(t._pxBounds.max.add([e, e])); }, _redraw: function () { this._redrawRequest = null, this._redrawBounds && (this._redrawBounds.min._floor(), this._redrawBounds.max._ceil()), this._clear(), this._draw(), this._redrawBounds = null; }, _clear: function () { var t = this._redrawBounds; if (t) {
            var e = t.getSize();
            this._ctx.clearRect(t.min.x, t.min.y, e.x, e.y);
        }
        else
            this._ctx.clearRect(0, 0, this._container.width, this._container.height); }, _draw: function () { var t, e = this._redrawBounds; if (this._ctx.save(), e) {
            var i = e.getSize();
            this._ctx.beginPath(), this._ctx.rect(e.min.x, e.min.y, i.x, i.y), this._ctx.clip();
        } this._drawing = !0; for (var n = this._drawFirst; n; n = n.next)
            t = n.layer, (!e || t._pxBounds && t._pxBounds.intersects(e)) && t._updatePath(); this._drawing = !1, this._ctx.restore(); }, _updatePoly: function (t, e) { if (this._drawing) {
            var i, n, o, s, r = t._parts, a = r.length, h = this._ctx;
            if (a) {
                for (this._drawnLayers[t._leaflet_id] = t, h.beginPath(), h.setLineDash && h.setLineDash(t.options && t.options._dashArray || []), i = 0; i < a; i++) {
                    for (n = 0, o = r[i].length; n < o; n++)
                        s = r[i][n], h[n ? "lineTo" : "moveTo"](s.x, s.y);
                    e && h.closePath();
                }
                this._fillStroke(h, t);
            }
        } }, _updateCircle: function (t) { if (this._drawing && !t._empty()) {
            var e = t._point, i = this._ctx, n = t._radius, o = (t._radiusY || n) / n;
            this._drawnLayers[t._leaflet_id] = t, 1 !== o && (i.save(), i.scale(1, o)), i.beginPath(), i.arc(e.x, e.y / o, n, 0, 2 * Math.PI, !1), 1 !== o && i.restore(), this._fillStroke(i, t);
        } }, _fillStroke: function (t, e) { var i = e.options; i.fill && (t.globalAlpha = i.fillOpacity, t.fillStyle = i.fillColor || i.color, t.fill(i.fillRule || "evenodd")), i.stroke && 0 !== i.weight && (t.globalAlpha = i.opacity, t.lineWidth = i.weight, t.strokeStyle = i.color, t.lineCap = i.lineCap, t.lineJoin = i.lineJoin, t.stroke()); }, _onClick: function (t) { for (var e, i, n = this._map.mouseEventToLayerPoint(t), s = this._drawFirst; s; s = s.next)
            e = s.layer, e.options.interactive && e._containsPoint(n) && !this._map._draggableMoved(e) && (i = e); i && (o.DomEvent._fakeStop(t), this._fireEvent([i], t)); }, _onMouseMove: function (t) { if (this._map && !this._map.dragging.moving() && !this._map._animatingZoom) {
            var e = this._map.mouseEventToLayerPoint(t);
            this._handleMouseHover(t, e);
        } }, _handleMouseOut: function (t) { var e = this._hoveredLayer; e && (o.DomUtil.removeClass(this._container, "leaflet-interactive"), this._fireEvent([e], t, "mouseout"), this._hoveredLayer = null); }, _handleMouseHover: function (t, e) { for (var i, n, s = this._drawFirst; s; s = s.next)
            i = s.layer, i.options.interactive && i._containsPoint(e) && (n = i); n !== this._hoveredLayer && (this._handleMouseOut(t), n && (o.DomUtil.addClass(this._container, "leaflet-interactive"), this._fireEvent([n], t, "mouseover"), this._hoveredLayer = n)), this._hoveredLayer && this._fireEvent([this._hoveredLayer], t); }, _fireEvent: function (t, e, i) { this._map._fireDOMEvent(e, i || e.type, t); }, _bringToFront: function (t) { var e = t._order, i = e.next, n = e.prev; i && (i.prev = n, n ? n.next = i : i && (this._drawFirst = i), e.prev = this._drawLast, this._drawLast.next = e, e.next = null, this._drawLast = e, this._requestRedraw(t)); }, _bringToBack: function (t) { var e = t._order, i = e.next, n = e.prev; n && (n.next = i, i ? i.prev = n : n && (this._drawLast = n), e.prev = null, e.next = this._drawFirst, this._drawFirst.prev = e, this._drawFirst = e, this._requestRedraw(t)); } }), o.Browser.canvas = function () { return !!e.createElement("canvas").getContext; }(), o.canvas = function (t) { return o.Browser.canvas ? new o.Canvas(t) : null; }, o.Polyline.prototype._containsPoint = function (t, e) { var i, n, s, r, a, h, l = this._clickTolerance(); if (!this._pxBounds.contains(t))
        return !1; for (i = 0, r = this._parts.length; i < r; i++)
        for (h = this._parts[i], n = 0, a = h.length, s = a - 1; n < a; s = n++)
            if ((e || 0 !== n) && o.LineUtil.pointToSegmentDistance(t, h[s], h[n]) <= l)
                return !0; return !1; }, o.Polygon.prototype._containsPoint = function (t) { var e, i, n, s, r, a, h, l, u = !1; if (!this._pxBounds.contains(t))
        return !1; for (s = 0, h = this._parts.length; s < h; s++)
        for (e = this._parts[s], r = 0, l = e.length, a = l - 1; r < l; a = r++)
            i = e[r], n = e[a], i.y > t.y != n.y > t.y && t.x < (n.x - i.x) * (t.y - i.y) / (n.y - i.y) + i.x && (u = !u); return u || o.Polyline.prototype._containsPoint.call(this, t, !0); }, o.CircleMarker.prototype._containsPoint = function (t) { return t.distanceTo(this._point) <= this._radius + this._clickTolerance(); }, o.GeoJSON = o.FeatureGroup.extend({ initialize: function (t, e) { o.setOptions(this, e), this._layers = {}, t && this.addData(t); }, addData: function (t) { var e, i, n, s = o.Util.isArray(t) ? t : t.features; if (s) {
            for (e = 0, i = s.length; e < i; e++)
                n = s[e], (n.geometries || n.geometry || n.features || n.coordinates) && this.addData(n);
            return this;
        } var r = this.options; if (r.filter && !r.filter(t))
            return this; var a = o.GeoJSON.geometryToLayer(t, r); return a ? (a.feature = o.GeoJSON.asFeature(t), a.defaultOptions = a.options, this.resetStyle(a), r.onEachFeature && r.onEachFeature(t, a), this.addLayer(a)) : this; }, resetStyle: function (t) { return t.options = o.Util.extend({}, t.defaultOptions), this._setLayerStyle(t, this.options.style), this; }, setStyle: function (t) { return this.eachLayer(function (e) { this._setLayerStyle(e, t); }, this); }, _setLayerStyle: function (t, e) { "function" == typeof e && (e = e(t.feature)), t.setStyle && t.setStyle(e); } }), o.extend(o.GeoJSON, { geometryToLayer: function (t, e) { var i, n, s, r, a = "Feature" === t.type ? t.geometry : t, h = a ? a.coordinates : null, l = [], u = e && e.pointToLayer, c = e && e.coordsToLatLng || this.coordsToLatLng; if (!h && !a)
            return null; switch (a.type) {
            case "Point": return i = c(h), u ? u(t, i) : new o.Marker(i);
            case "MultiPoint":
                for (s = 0, r = h.length; s < r; s++)
                    i = c(h[s]), l.push(u ? u(t, i) : new o.Marker(i));
                return new o.FeatureGroup(l);
            case "LineString":
            case "MultiLineString": return n = this.coordsToLatLngs(h, "LineString" === a.type ? 0 : 1, c), new o.Polyline(n, e);
            case "Polygon":
            case "MultiPolygon": return n = this.coordsToLatLngs(h, "Polygon" === a.type ? 1 : 2, c), new o.Polygon(n, e);
            case "GeometryCollection":
                for (s = 0, r = a.geometries.length; s < r; s++) {
                    var d = this.geometryToLayer({ geometry: a.geometries[s], type: "Feature", properties: t.properties }, e);
                    d && l.push(d);
                }
                return new o.FeatureGroup(l);
            default: throw new Error("Invalid GeoJSON object.");
        } }, coordsToLatLng: function (t) { return new o.LatLng(t[1], t[0], t[2]); }, coordsToLatLngs: function (t, e, i) { for (var n, o = [], s = 0, r = t.length; s < r; s++)
            n = e ? this.coordsToLatLngs(t[s], e - 1, i) : (i || this.coordsToLatLng)(t[s]), o.push(n); return o; }, latLngToCoords: function (t) { return t.alt !== i ? [t.lng, t.lat, t.alt] : [t.lng, t.lat]; }, latLngsToCoords: function (t, e, i) { for (var n = [], s = 0, r = t.length; s < r; s++)
            n.push(e ? o.GeoJSON.latLngsToCoords(t[s], e - 1, i) : o.GeoJSON.latLngToCoords(t[s])); return !e && i && n.push(n[0]), n; }, getFeature: function (t, e) { return t.feature ? o.extend({}, t.feature, { geometry: e }) : o.GeoJSON.asFeature(e); }, asFeature: function (t) { return "Feature" === t.type || "FeatureCollection" === t.type ? t : { type: "Feature", properties: {}, geometry: t }; } });
    var a = { toGeoJSON: function () { return o.GeoJSON.getFeature(this, { type: "Point", coordinates: o.GeoJSON.latLngToCoords(this.getLatLng()) }); } };
    o.Marker.include(a), o.Circle.include(a), o.CircleMarker.include(a), o.Polyline.prototype.toGeoJSON = function () { var t = !o.Polyline._flat(this._latlngs), e = o.GeoJSON.latLngsToCoords(this._latlngs, t ? 1 : 0); return o.GeoJSON.getFeature(this, { type: (t ? "Multi" : "") + "LineString", coordinates: e }); }, o.Polygon.prototype.toGeoJSON = function () { var t = !o.Polyline._flat(this._latlngs), e = t && !o.Polyline._flat(this._latlngs[0]), i = o.GeoJSON.latLngsToCoords(this._latlngs, e ? 2 : t ? 1 : 0, !0); return t || (i = [i]), o.GeoJSON.getFeature(this, { type: (e ? "Multi" : "") + "Polygon", coordinates: i }); }, o.LayerGroup.include({ toMultiPoint: function () { var t = []; return this.eachLayer(function (e) { t.push(e.toGeoJSON().geometry.coordinates); }), o.GeoJSON.getFeature(this, { type: "MultiPoint", coordinates: t }); }, toGeoJSON: function () { var t = this.feature && this.feature.geometry && this.feature.geometry.type; if ("MultiPoint" === t)
            return this.toMultiPoint(); var e = "GeometryCollection" === t, i = []; return this.eachLayer(function (t) { if (t.toGeoJSON) {
            var n = t.toGeoJSON();
            i.push(e ? n.geometry : o.GeoJSON.asFeature(n));
        } }), e ? o.GeoJSON.getFeature(this, { geometries: i, type: "GeometryCollection" }) : { type: "FeatureCollection", features: i }; } }), o.geoJSON = function (t, e) { return new o.GeoJSON(t, e); }, o.geoJson = o.geoJSON, o.Draggable = o.Evented.extend({ options: { clickTolerance: 3 }, statics: { START: o.Browser.touch ? ["touchstart", "mousedown"] : ["mousedown"], END: { mousedown: "mouseup", touchstart: "touchend", pointerdown: "touchend", MSPointerDown: "touchend" }, MOVE: { mousedown: "mousemove", touchstart: "touchmove", pointerdown: "touchmove", MSPointerDown: "touchmove" } }, initialize: function (t, e, i) { this._element = t, this._dragStartTarget = e || t, this._preventOutline = i; }, enable: function () { this._enabled || (o.DomEvent.on(this._dragStartTarget, o.Draggable.START.join(" "), this._onDown, this), this._enabled = !0); }, disable: function () { this._enabled && (o.Draggable._dragging === this && this.finishDrag(), o.DomEvent.off(this._dragStartTarget, o.Draggable.START.join(" "), this._onDown, this), this._enabled = !1, this._moved = !1); }, _onDown: function (t) { if (!t._simulated && this._enabled && (this._moved = !1, !o.DomUtil.hasClass(this._element, "leaflet-zoom-anim") && !(o.Draggable._dragging || t.shiftKey || 1 !== t.which && 1 !== t.button && !t.touches || (o.Draggable._dragging = this, this._preventOutline && o.DomUtil.preventOutline(this._element), o.DomUtil.disableImageDrag(), o.DomUtil.disableTextSelection(), this._moving)))) {
            this.fire("down");
            var i = t.touches ? t.touches[0] : t;
            this._startPoint = new o.Point(i.clientX, i.clientY), o.DomEvent.on(e, o.Draggable.MOVE[t.type], this._onMove, this).on(e, o.Draggable.END[t.type], this._onUp, this);
        } }, _onMove: function (i) { if (!i._simulated && this._enabled) {
            if (i.touches && i.touches.length > 1)
                return void (this._moved = !0);
            var n = i.touches && 1 === i.touches.length ? i.touches[0] : i, s = new o.Point(n.clientX, n.clientY), r = s.subtract(this._startPoint);
            (r.x || r.y) && (Math.abs(r.x) + Math.abs(r.y) < this.options.clickTolerance || (o.DomEvent.preventDefault(i), this._moved || (this.fire("dragstart"), this._moved = !0, this._startPos = o.DomUtil.getPosition(this._element).subtract(r), o.DomUtil.addClass(e.body, "leaflet-dragging"), this._lastTarget = i.target || i.srcElement, t.SVGElementInstance && this._lastTarget instanceof SVGElementInstance && (this._lastTarget = this._lastTarget.correspondingUseElement), o.DomUtil.addClass(this._lastTarget, "leaflet-drag-target")), this._newPos = this._startPos.add(r), this._moving = !0, o.Util.cancelAnimFrame(this._animRequest), this._lastEvent = i, this._animRequest = o.Util.requestAnimFrame(this._updatePosition, this, !0)));
        } }, _updatePosition: function () { var t = { originalEvent: this._lastEvent }; this.fire("predrag", t), o.DomUtil.setPosition(this._element, this._newPos), this.fire("drag", t); }, _onUp: function (t) { !t._simulated && this._enabled && this.finishDrag(); }, finishDrag: function () { o.DomUtil.removeClass(e.body, "leaflet-dragging"), this._lastTarget && (o.DomUtil.removeClass(this._lastTarget, "leaflet-drag-target"), this._lastTarget = null); for (var t in o.Draggable.MOVE)
            o.DomEvent.off(e, o.Draggable.MOVE[t], this._onMove, this).off(e, o.Draggable.END[t], this._onUp, this); o.DomUtil.enableImageDrag(), o.DomUtil.enableTextSelection(), this._moved && this._moving && (o.Util.cancelAnimFrame(this._animRequest), this.fire("dragend", { distance: this._newPos.distanceTo(this._startPos) })), this._moving = !1, o.Draggable._dragging = !1; } }), o.Handler = o.Class.extend({ initialize: function (t) { this._map = t; }, enable: function () { return this._enabled ? this : (this._enabled = !0, this.addHooks(), this); }, disable: function () { return this._enabled ? (this._enabled = !1, this.removeHooks(), this) : this; }, enabled: function () { return !!this._enabled; } }), o.Map.mergeOptions({ dragging: !0, inertia: !o.Browser.android23, inertiaDeceleration: 3400, inertiaMaxSpeed: 1 / 0, easeLinearity: .2, worldCopyJump: !1, maxBoundsViscosity: 0 }), o.Map.Drag = o.Handler.extend({ addHooks: function () { if (!this._draggable) {
            var t = this._map;
            this._draggable = new o.Draggable(t._mapPane, t._container), this._draggable.on({ down: this._onDown, dragstart: this._onDragStart, drag: this._onDrag, dragend: this._onDragEnd }, this), this._draggable.on("predrag", this._onPreDragLimit, this), t.options.worldCopyJump && (this._draggable.on("predrag", this._onPreDragWrap, this), t.on("zoomend", this._onZoomEnd, this), t.whenReady(this._onZoomEnd, this));
        } o.DomUtil.addClass(this._map._container, "leaflet-grab leaflet-touch-drag"), this._draggable.enable(), this._positions = [], this._times = []; }, removeHooks: function () { o.DomUtil.removeClass(this._map._container, "leaflet-grab"), o.DomUtil.removeClass(this._map._container, "leaflet-touch-drag"), this._draggable.disable(); }, moved: function () { return this._draggable && this._draggable._moved; }, moving: function () { return this._draggable && this._draggable._moving; }, _onDown: function () { this._map._stop(); }, _onDragStart: function () { var t = this._map; if (this._map.options.maxBounds && this._map.options.maxBoundsViscosity) {
            var e = o.latLngBounds(this._map.options.maxBounds);
            this._offsetLimit = o.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1), this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())), this._viscosity = Math.min(1, Math.max(0, this._map.options.maxBoundsViscosity));
        }
        else
            this._offsetLimit = null; t.fire("movestart").fire("dragstart"), t.options.inertia && (this._positions = [], this._times = []); }, _onDrag: function (t) { if (this._map.options.inertia) {
            var e = this._lastTime = +new Date, i = this._lastPos = this._draggable._absPos || this._draggable._newPos;
            this._positions.push(i), this._times.push(e), e - this._times[0] > 50 && (this._positions.shift(), this._times.shift());
        } this._map.fire("move", t).fire("drag", t); }, _onZoomEnd: function () { var t = this._map.getSize().divideBy(2), e = this._map.latLngToLayerPoint([0, 0]); this._initialWorldOffset = e.subtract(t).x, this._worldWidth = this._map.getPixelWorldBounds().getSize().x; }, _viscousLimit: function (t, e) { return t - (t - e) * this._viscosity; }, _onPreDragLimit: function () { if (this._viscosity && this._offsetLimit) {
            var t = this._draggable._newPos.subtract(this._draggable._startPos), e = this._offsetLimit;
            t.x < e.min.x && (t.x = this._viscousLimit(t.x, e.min.x)), t.y < e.min.y && (t.y = this._viscousLimit(t.y, e.min.y)), t.x > e.max.x && (t.x = this._viscousLimit(t.x, e.max.x)), t.y > e.max.y && (t.y = this._viscousLimit(t.y, e.max.y)), this._draggable._newPos = this._draggable._startPos.add(t);
        } }, _onPreDragWrap: function () { var t = this._worldWidth, e = Math.round(t / 2), i = this._initialWorldOffset, n = this._draggable._newPos.x, o = (n - e + i) % t + e - i, s = (n + e + i) % t - e - i, r = Math.abs(o + i) < Math.abs(s + i) ? o : s; this._draggable._absPos = this._draggable._newPos.clone(), this._draggable._newPos.x = r; }, _onDragEnd: function (t) { var e = this._map, i = e.options, n = !i.inertia || this._times.length < 2; if (e.fire("dragend", t), n)
            e.fire("moveend");
        else {
            var s = this._lastPos.subtract(this._positions[0]), r = (this._lastTime - this._times[0]) / 1e3, a = i.easeLinearity, h = s.multiplyBy(a / r), l = h.distanceTo([0, 0]), u = Math.min(i.inertiaMaxSpeed, l), c = h.multiplyBy(u / l), d = u / (i.inertiaDeceleration * a), _ = c.multiplyBy(-d / 2).round();
            _.x || _.y ? (_ = e._limitOffset(_, e.options.maxBounds), o.Util.requestAnimFrame(function () { e.panBy(_, { duration: d, easeLinearity: a, noMoveStart: !0, animate: !0 }); })) : e.fire("moveend");
        } } }), o.Map.addInitHook("addHandler", "dragging", o.Map.Drag), o.Map.mergeOptions({ doubleClickZoom: !0 }), o.Map.DoubleClickZoom = o.Handler.extend({ addHooks: function () { this._map.on("dblclick", this._onDoubleClick, this); }, removeHooks: function () { this._map.off("dblclick", this._onDoubleClick, this); }, _onDoubleClick: function (t) { var e = this._map, i = e.getZoom(), n = e.options.zoomDelta, o = t.originalEvent.shiftKey ? i - n : i + n; "center" === e.options.doubleClickZoom ? e.setZoom(o) : e.setZoomAround(t.containerPoint, o); } }), o.Map.addInitHook("addHandler", "doubleClickZoom", o.Map.DoubleClickZoom), o.Map.mergeOptions({ scrollWheelZoom: !0, wheelDebounceTime: 40, wheelPxPerZoomLevel: 60 }), o.Map.ScrollWheelZoom = o.Handler.extend({ addHooks: function () { o.DomEvent.on(this._map._container, "mousewheel", this._onWheelScroll, this), this._delta = 0; }, removeHooks: function () { o.DomEvent.off(this._map._container, "mousewheel", this._onWheelScroll, this); }, _onWheelScroll: function (t) { var e = o.DomEvent.getWheelDelta(t), i = this._map.options.wheelDebounceTime; this._delta += e, this._lastMousePos = this._map.mouseEventToContainerPoint(t), this._startTime || (this._startTime = +new Date); var n = Math.max(i - (+new Date - this._startTime), 0); clearTimeout(this._timer), this._timer = setTimeout(o.bind(this._performZoom, this), n), o.DomEvent.stop(t); }, _performZoom: function () { var t = this._map, e = t.getZoom(), i = this._map.options.zoomSnap || 0; t._stop(); var n = this._delta / (4 * this._map.options.wheelPxPerZoomLevel), o = 4 * Math.log(2 / (1 + Math.exp(-Math.abs(n)))) / Math.LN2, s = i ? Math.ceil(o / i) * i : o, r = t._limitZoom(e + (this._delta > 0 ? s : -s)) - e; this._delta = 0, this._startTime = null, r && ("center" === t.options.scrollWheelZoom ? t.setZoom(e + r) : t.setZoomAround(this._lastMousePos, e + r)); } }), o.Map.addInitHook("addHandler", "scrollWheelZoom", o.Map.ScrollWheelZoom), o.extend(o.DomEvent, { _touchstart: o.Browser.msPointer ? "MSPointerDown" : o.Browser.pointer ? "pointerdown" : "touchstart", _touchend: o.Browser.msPointer ? "MSPointerUp" : o.Browser.pointer ? "pointerup" : "touchend", addDoubleTapListener: function (t, e, i) { function n(t) { var e; if (o.Browser.pointer) {
            if (!o.Browser.edge || "mouse" === t.pointerType)
                return;
            e = o.DomEvent._pointersCount;
        }
        else
            e = t.touches.length; if (!(e > 1)) {
            var i = Date.now(), n = i - (r || i);
            a = t.touches ? t.touches[0] : t, h = n > 0 && n <= l, r = i;
        } } function s(t) { if (h && !a.cancelBubble) {
            if (o.Browser.pointer) {
                if (!o.Browser.edge || "mouse" === t.pointerType)
                    return;
                var i, n, s = {};
                for (n in a)
                    i = a[n], s[n] = i && i.bind ? i.bind(a) : i;
                a = s;
            }
            a.type = "dblclick", e(a), r = null;
        } } var r, a, h = !1, l = 250, u = "_leaflet_", c = this._touchstart, d = this._touchend; return t[u + c + i] = n, t[u + d + i] = s, t[u + "dblclick" + i] = e, t.addEventListener(c, n, !1), t.addEventListener(d, s, !1), t.addEventListener("dblclick", e, !1), this; }, removeDoubleTapListener: function (t, e) { var i = "_leaflet_", n = t[i + this._touchstart + e], s = t[i + this._touchend + e], r = t[i + "dblclick" + e]; return t.removeEventListener(this._touchstart, n, !1), t.removeEventListener(this._touchend, s, !1), o.Browser.edge || t.removeEventListener("dblclick", r, !1), this; } }), o.extend(o.DomEvent, { POINTER_DOWN: o.Browser.msPointer ? "MSPointerDown" : "pointerdown", POINTER_MOVE: o.Browser.msPointer ? "MSPointerMove" : "pointermove", POINTER_UP: o.Browser.msPointer ? "MSPointerUp" : "pointerup", POINTER_CANCEL: o.Browser.msPointer ? "MSPointerCancel" : "pointercancel", TAG_WHITE_LIST: ["INPUT", "SELECT", "OPTION"], _pointers: {}, _pointersCount: 0, addPointerListener: function (t, e, i, n) { return "touchstart" === e ? this._addPointerStart(t, i, n) : "touchmove" === e ? this._addPointerMove(t, i, n) : "touchend" === e && this._addPointerEnd(t, i, n), this; }, removePointerListener: function (t, e, i) { var n = t["_leaflet_" + e + i]; return "touchstart" === e ? t.removeEventListener(this.POINTER_DOWN, n, !1) : "touchmove" === e ? t.removeEventListener(this.POINTER_MOVE, n, !1) : "touchend" === e && (t.removeEventListener(this.POINTER_UP, n, !1), t.removeEventListener(this.POINTER_CANCEL, n, !1)), this; }, _addPointerStart: function (t, i, n) { var s = o.bind(function (t) { if ("mouse" !== t.pointerType && t.MSPOINTER_TYPE_MOUSE && t.pointerType !== t.MSPOINTER_TYPE_MOUSE) {
            if (!(this.TAG_WHITE_LIST.indexOf(t.target.tagName) < 0))
                return;
            o.DomEvent.preventDefault(t);
        } this._handlePointer(t, i); }, this); if (t["_leaflet_touchstart" + n] = s, t.addEventListener(this.POINTER_DOWN, s, !1), !this._pointerDocListener) {
            var r = o.bind(this._globalPointerUp, this);
            e.documentElement.addEventListener(this.POINTER_DOWN, o.bind(this._globalPointerDown, this), !0), e.documentElement.addEventListener(this.POINTER_MOVE, o.bind(this._globalPointerMove, this), !0), e.documentElement.addEventListener(this.POINTER_UP, r, !0), e.documentElement.addEventListener(this.POINTER_CANCEL, r, !0), this._pointerDocListener = !0;
        } }, _globalPointerDown: function (t) { this._pointers[t.pointerId] = t, this._pointersCount++; }, _globalPointerMove: function (t) { this._pointers[t.pointerId] && (this._pointers[t.pointerId] = t); }, _globalPointerUp: function (t) { delete this._pointers[t.pointerId], this._pointersCount--; }, _handlePointer: function (t, e) { t.touches = []; for (var i in this._pointers)
            t.touches.push(this._pointers[i]); t.changedTouches = [t], e(t); }, _addPointerMove: function (t, e, i) { var n = o.bind(function (t) { (t.pointerType !== t.MSPOINTER_TYPE_MOUSE && "mouse" !== t.pointerType || 0 !== t.buttons) && this._handlePointer(t, e); }, this); t["_leaflet_touchmove" + i] = n, t.addEventListener(this.POINTER_MOVE, n, !1); }, _addPointerEnd: function (t, e, i) { var n = o.bind(function (t) { this._handlePointer(t, e); }, this); t["_leaflet_touchend" + i] = n, t.addEventListener(this.POINTER_UP, n, !1), t.addEventListener(this.POINTER_CANCEL, n, !1); } }), o.Map.mergeOptions({ touchZoom: o.Browser.touch && !o.Browser.android23, bounceAtZoomLimits: !0 }), o.Map.TouchZoom = o.Handler.extend({ addHooks: function () { o.DomUtil.addClass(this._map._container, "leaflet-touch-zoom"), o.DomEvent.on(this._map._container, "touchstart", this._onTouchStart, this); }, removeHooks: function () { o.DomUtil.removeClass(this._map._container, "leaflet-touch-zoom"), o.DomEvent.off(this._map._container, "touchstart", this._onTouchStart, this); }, _onTouchStart: function (t) { var i = this._map; if (t.touches && 2 === t.touches.length && !i._animatingZoom && !this._zooming) {
            var n = i.mouseEventToContainerPoint(t.touches[0]), s = i.mouseEventToContainerPoint(t.touches[1]);
            this._centerPoint = i.getSize()._divideBy(2), this._startLatLng = i.containerPointToLatLng(this._centerPoint), "center" !== i.options.touchZoom && (this._pinchStartLatLng = i.containerPointToLatLng(n.add(s)._divideBy(2))), this._startDist = n.distanceTo(s), this._startZoom = i.getZoom(), this._moved = !1, this._zooming = !0, i._stop(), o.DomEvent.on(e, "touchmove", this._onTouchMove, this).on(e, "touchend", this._onTouchEnd, this), o.DomEvent.preventDefault(t);
        } }, _onTouchMove: function (t) { if (t.touches && 2 === t.touches.length && this._zooming) {
            var e = this._map, i = e.mouseEventToContainerPoint(t.touches[0]), n = e.mouseEventToContainerPoint(t.touches[1]), s = i.distanceTo(n) / this._startDist;
            if (this._zoom = e.getScaleZoom(s, this._startZoom), !e.options.bounceAtZoomLimits && (this._zoom < e.getMinZoom() && s < 1 || this._zoom > e.getMaxZoom() && s > 1) && (this._zoom = e._limitZoom(this._zoom)), "center" === e.options.touchZoom) {
                if (this._center = this._startLatLng, 1 === s)
                    return;
            }
            else {
                var r = i._add(n)._divideBy(2)._subtract(this._centerPoint);
                if (1 === s && 0 === r.x && 0 === r.y)
                    return;
                this._center = e.unproject(e.project(this._pinchStartLatLng, this._zoom).subtract(r), this._zoom);
            }
            this._moved || (e._moveStart(!0), this._moved = !0), o.Util.cancelAnimFrame(this._animRequest);
            var a = o.bind(e._move, e, this._center, this._zoom, { pinch: !0, round: !1 });
            this._animRequest = o.Util.requestAnimFrame(a, this, !0), o.DomEvent.preventDefault(t);
        } }, _onTouchEnd: function () { return this._moved && this._zooming ? (this._zooming = !1, o.Util.cancelAnimFrame(this._animRequest), o.DomEvent.off(e, "touchmove", this._onTouchMove).off(e, "touchend", this._onTouchEnd), void (this._map.options.zoomAnimation ? this._map._animateZoom(this._center, this._map._limitZoom(this._zoom), !0, this._map.options.zoomSnap) : this._map._resetView(this._center, this._map._limitZoom(this._zoom)))) : void (this._zooming = !1); } }), o.Map.addInitHook("addHandler", "touchZoom", o.Map.TouchZoom), o.Map.mergeOptions({ tap: !0, tapTolerance: 15 }), o.Map.Tap = o.Handler.extend({ addHooks: function () { o.DomEvent.on(this._map._container, "touchstart", this._onDown, this); }, removeHooks: function () { o.DomEvent.off(this._map._container, "touchstart", this._onDown, this); }, _onDown: function (t) { if (t.touches) {
            if (o.DomEvent.preventDefault(t), this._fireClick = !0, t.touches.length > 1)
                return this._fireClick = !1, void clearTimeout(this._holdTimeout);
            var i = t.touches[0], n = i.target;
            this._startPos = this._newPos = new o.Point(i.clientX, i.clientY), n.tagName && "a" === n.tagName.toLowerCase() && o.DomUtil.addClass(n, "leaflet-active"), this._holdTimeout = setTimeout(o.bind(function () { this._isTapValid() && (this._fireClick = !1, this._onUp(), this._simulateEvent("contextmenu", i)); }, this), 1e3), this._simulateEvent("mousedown", i), o.DomEvent.on(e, { touchmove: this._onMove, touchend: this._onUp }, this);
        } }, _onUp: function (t) { if (clearTimeout(this._holdTimeout), o.DomEvent.off(e, { touchmove: this._onMove, touchend: this._onUp }, this), this._fireClick && t && t.changedTouches) {
            var i = t.changedTouches[0], n = i.target;
            n && n.tagName && "a" === n.tagName.toLowerCase() && o.DomUtil.removeClass(n, "leaflet-active"), this._simulateEvent("mouseup", i), this._isTapValid() && this._simulateEvent("click", i);
        } }, _isTapValid: function () { return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance; }, _onMove: function (t) {
            var e = t.touches[0];
            this._newPos = new o.Point(e.clientX, e.clientY),
                this._simulateEvent("mousemove", e);
        }, _simulateEvent: function (i, n) { var o = e.createEvent("MouseEvents"); o._simulated = !0, n.target._simulatedClick = !0, o.initMouseEvent(i, !0, !0, t, 1, n.screenX, n.screenY, n.clientX, n.clientY, !1, !1, !1, !1, 0, null), n.target.dispatchEvent(o); } }), o.Browser.touch && !o.Browser.pointer && o.Map.addInitHook("addHandler", "tap", o.Map.Tap), o.Map.mergeOptions({ boxZoom: !0 }), o.Map.BoxZoom = o.Handler.extend({ initialize: function (t) { this._map = t, this._container = t._container, this._pane = t._panes.overlayPane; }, addHooks: function () { o.DomEvent.on(this._container, "mousedown", this._onMouseDown, this); }, removeHooks: function () { o.DomEvent.off(this._container, "mousedown", this._onMouseDown, this); }, moved: function () { return this._moved; }, _resetState: function () { this._moved = !1; }, _onMouseDown: function (t) { return !(!t.shiftKey || 1 !== t.which && 1 !== t.button) && (this._resetState(), o.DomUtil.disableTextSelection(), o.DomUtil.disableImageDrag(), this._startPoint = this._map.mouseEventToContainerPoint(t), void o.DomEvent.on(e, { contextmenu: o.DomEvent.stop, mousemove: this._onMouseMove, mouseup: this._onMouseUp, keydown: this._onKeyDown }, this)); }, _onMouseMove: function (t) { this._moved || (this._moved = !0, this._box = o.DomUtil.create("div", "leaflet-zoom-box", this._container), o.DomUtil.addClass(this._container, "leaflet-crosshair"), this._map.fire("boxzoomstart")), this._point = this._map.mouseEventToContainerPoint(t); var e = new o.Bounds(this._point, this._startPoint), i = e.getSize(); o.DomUtil.setPosition(this._box, e.min), this._box.style.width = i.x + "px", this._box.style.height = i.y + "px"; }, _finish: function () { this._moved && (o.DomUtil.remove(this._box), o.DomUtil.removeClass(this._container, "leaflet-crosshair")), o.DomUtil.enableTextSelection(), o.DomUtil.enableImageDrag(), o.DomEvent.off(e, { contextmenu: o.DomEvent.stop, mousemove: this._onMouseMove, mouseup: this._onMouseUp, keydown: this._onKeyDown }, this); }, _onMouseUp: function (t) { if ((1 === t.which || 1 === t.button) && (this._finish(), this._moved)) {
            setTimeout(o.bind(this._resetState, this), 0);
            var e = new o.LatLngBounds(this._map.containerPointToLatLng(this._startPoint), this._map.containerPointToLatLng(this._point));
            this._map.fitBounds(e).fire("boxzoomend", { boxZoomBounds: e });
        } }, _onKeyDown: function (t) { 27 === t.keyCode && this._finish(); } }), o.Map.addInitHook("addHandler", "boxZoom", o.Map.BoxZoom), o.Map.mergeOptions({ keyboard: !0, keyboardPanDelta: 80 }), o.Map.Keyboard = o.Handler.extend({ keyCodes: { left: [37], right: [39], down: [40], up: [38], zoomIn: [187, 107, 61, 171], zoomOut: [189, 109, 54, 173] }, initialize: function (t) { this._map = t, this._setPanDelta(t.options.keyboardPanDelta), this._setZoomDelta(t.options.zoomDelta); }, addHooks: function () { var t = this._map._container; t.tabIndex <= 0 && (t.tabIndex = "0"), o.DomEvent.on(t, { focus: this._onFocus, blur: this._onBlur, mousedown: this._onMouseDown }, this), this._map.on({ focus: this._addHooks, blur: this._removeHooks }, this); }, removeHooks: function () { this._removeHooks(), o.DomEvent.off(this._map._container, { focus: this._onFocus, blur: this._onBlur, mousedown: this._onMouseDown }, this), this._map.off({ focus: this._addHooks, blur: this._removeHooks }, this); }, _onMouseDown: function () { if (!this._focused) {
            var i = e.body, n = e.documentElement, o = i.scrollTop || n.scrollTop, s = i.scrollLeft || n.scrollLeft;
            this._map._container.focus(), t.scrollTo(s, o);
        } }, _onFocus: function () { this._focused = !0, this._map.fire("focus"); }, _onBlur: function () { this._focused = !1, this._map.fire("blur"); }, _setPanDelta: function (t) { var e, i, n = this._panKeys = {}, o = this.keyCodes; for (e = 0, i = o.left.length; e < i; e++)
            n[o.left[e]] = [-1 * t, 0]; for (e = 0, i = o.right.length; e < i; e++)
            n[o.right[e]] = [t, 0]; for (e = 0, i = o.down.length; e < i; e++)
            n[o.down[e]] = [0, t]; for (e = 0, i = o.up.length; e < i; e++)
            n[o.up[e]] = [0, -1 * t]; }, _setZoomDelta: function (t) { var e, i, n = this._zoomKeys = {}, o = this.keyCodes; for (e = 0, i = o.zoomIn.length; e < i; e++)
            n[o.zoomIn[e]] = t; for (e = 0, i = o.zoomOut.length; e < i; e++)
            n[o.zoomOut[e]] = -t; }, _addHooks: function () { o.DomEvent.on(e, "keydown", this._onKeyDown, this); }, _removeHooks: function () { o.DomEvent.off(e, "keydown", this._onKeyDown, this); }, _onKeyDown: function (t) { if (!(t.altKey || t.ctrlKey || t.metaKey)) {
            var e, i = t.keyCode, n = this._map;
            if (i in this._panKeys) {
                if (n._panAnim && n._panAnim._inProgress)
                    return;
                e = this._panKeys[i], t.shiftKey && (e = o.point(e).multiplyBy(3)), n.panBy(e), n.options.maxBounds && n.panInsideBounds(n.options.maxBounds);
            }
            else if (i in this._zoomKeys)
                n.setZoom(n.getZoom() + (t.shiftKey ? 3 : 1) * this._zoomKeys[i]);
            else {
                if (27 !== i)
                    return;
                n.closePopup();
            }
            o.DomEvent.stop(t);
        } } }), o.Map.addInitHook("addHandler", "keyboard", o.Map.Keyboard), o.Handler.MarkerDrag = o.Handler.extend({ initialize: function (t) { this._marker = t; }, addHooks: function () { var t = this._marker._icon; this._draggable || (this._draggable = new o.Draggable(t, t, !0)), this._draggable.on({ dragstart: this._onDragStart, drag: this._onDrag, dragend: this._onDragEnd }, this).enable(), o.DomUtil.addClass(t, "leaflet-marker-draggable"); }, removeHooks: function () { this._draggable.off({ dragstart: this._onDragStart, drag: this._onDrag, dragend: this._onDragEnd }, this).disable(), this._marker._icon && o.DomUtil.removeClass(this._marker._icon, "leaflet-marker-draggable"); }, moved: function () { return this._draggable && this._draggable._moved; }, _onDragStart: function () { this._oldLatLng = this._marker.getLatLng(), this._marker.closePopup().fire("movestart").fire("dragstart"); }, _onDrag: function (t) { var e = this._marker, i = e._shadow, n = o.DomUtil.getPosition(e._icon), s = e._map.layerPointToLatLng(n); i && o.DomUtil.setPosition(i, n), e._latlng = s, t.latlng = s, t.oldLatLng = this._oldLatLng, e.fire("move", t).fire("drag", t); }, _onDragEnd: function (t) { delete this._oldLatLng, this._marker.fire("moveend").fire("dragend", t); } }), o.Control = o.Class.extend({ options: { position: "topright" }, initialize: function (t) { o.setOptions(this, t); }, getPosition: function () { return this.options.position; }, setPosition: function (t) { var e = this._map; return e && e.removeControl(this), this.options.position = t, e && e.addControl(this), this; }, getContainer: function () { return this._container; }, addTo: function (t) { this.remove(), this._map = t; var e = this._container = this.onAdd(t), i = this.getPosition(), n = t._controlCorners[i]; return o.DomUtil.addClass(e, "leaflet-control"), i.indexOf("bottom") !== -1 ? n.insertBefore(e, n.firstChild) : n.appendChild(e), this; }, remove: function () { return this._map ? (o.DomUtil.remove(this._container), this.onRemove && this.onRemove(this._map), this._map = null, this) : this; }, _refocusOnMap: function (t) { this._map && t && t.screenX > 0 && t.screenY > 0 && this._map.getContainer().focus(); } }), o.control = function (t) { return new o.Control(t); }, o.Map.include({ addControl: function (t) { return t.addTo(this), this; }, removeControl: function (t) { return t.remove(), this; }, _initControlPos: function () { function t(t, s) { var r = i + t + " " + i + s; e[t + s] = o.DomUtil.create("div", r, n); } var e = this._controlCorners = {}, i = "leaflet-", n = this._controlContainer = o.DomUtil.create("div", i + "control-container", this._container); t("top", "left"), t("top", "right"), t("bottom", "left"), t("bottom", "right"); }, _clearControlPos: function () { o.DomUtil.remove(this._controlContainer); } }), o.Control.Zoom = o.Control.extend({ options: { position: "topleft", zoomInText: "+", zoomInTitle: "Zoom in", zoomOutText: "-", zoomOutTitle: "Zoom out" }, onAdd: function (t) { var e = "leaflet-control-zoom", i = o.DomUtil.create("div", e + " leaflet-bar"), n = this.options; return this._zoomInButton = this._createButton(n.zoomInText, n.zoomInTitle, e + "-in", i, this._zoomIn), this._zoomOutButton = this._createButton(n.zoomOutText, n.zoomOutTitle, e + "-out", i, this._zoomOut), this._updateDisabled(), t.on("zoomend zoomlevelschange", this._updateDisabled, this), i; }, onRemove: function (t) { t.off("zoomend zoomlevelschange", this._updateDisabled, this); }, disable: function () { return this._disabled = !0, this._updateDisabled(), this; }, enable: function () { return this._disabled = !1, this._updateDisabled(), this; }, _zoomIn: function (t) { !this._disabled && this._map._zoom < this._map.getMaxZoom() && this._map.zoomIn(this._map.options.zoomDelta * (t.shiftKey ? 3 : 1)); }, _zoomOut: function (t) { !this._disabled && this._map._zoom > this._map.getMinZoom() && this._map.zoomOut(this._map.options.zoomDelta * (t.shiftKey ? 3 : 1)); }, _createButton: function (t, e, i, n, s) { var r = o.DomUtil.create("a", i, n); return r.innerHTML = t, r.href = "#", r.title = e, r.setAttribute("role", "button"), r.setAttribute("aria-label", e), o.DomEvent.on(r, "mousedown dblclick", o.DomEvent.stopPropagation).on(r, "click", o.DomEvent.stop).on(r, "click", s, this).on(r, "click", this._refocusOnMap, this), r; }, _updateDisabled: function () { var t = this._map, e = "leaflet-disabled"; o.DomUtil.removeClass(this._zoomInButton, e), o.DomUtil.removeClass(this._zoomOutButton, e), (this._disabled || t._zoom === t.getMinZoom()) && o.DomUtil.addClass(this._zoomOutButton, e), (this._disabled || t._zoom === t.getMaxZoom()) && o.DomUtil.addClass(this._zoomInButton, e); } }), o.Map.mergeOptions({ zoomControl: !0 }), o.Map.addInitHook(function () { this.options.zoomControl && (this.zoomControl = new o.Control.Zoom, this.addControl(this.zoomControl)); }), o.control.zoom = function (t) { return new o.Control.Zoom(t); }, o.Control.Attribution = o.Control.extend({ options: { position: "bottomright", prefix: '<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>' }, initialize: function (t) { o.setOptions(this, t), this._attributions = {}; }, onAdd: function (t) { t.attributionControl = this, this._container = o.DomUtil.create("div", "leaflet-control-attribution"), o.DomEvent && o.DomEvent.disableClickPropagation(this._container); for (var e in t._layers)
            t._layers[e].getAttribution && this.addAttribution(t._layers[e].getAttribution()); return this._update(), this._container; }, setPrefix: function (t) { return this.options.prefix = t, this._update(), this; }, addAttribution: function (t) { return t ? (this._attributions[t] || (this._attributions[t] = 0), this._attributions[t]++, this._update(), this) : this; }, removeAttribution: function (t) { return t ? (this._attributions[t] && (this._attributions[t]--, this._update()), this) : this; }, _update: function () { if (this._map) {
            var t = [];
            for (var e in this._attributions)
                this._attributions[e] && t.push(e);
            var i = [];
            this.options.prefix && i.push(this.options.prefix), t.length && i.push(t.join(", ")), this._container.innerHTML = i.join(" | ");
        } } }), o.Map.mergeOptions({ attributionControl: !0 }), o.Map.addInitHook(function () { this.options.attributionControl && (new o.Control.Attribution).addTo(this); }), o.control.attribution = function (t) { return new o.Control.Attribution(t); }, o.Control.Scale = o.Control.extend({ options: { position: "bottomleft", maxWidth: 100, metric: !0, imperial: !0 }, onAdd: function (t) { var e = "leaflet-control-scale", i = o.DomUtil.create("div", e), n = this.options; return this._addScales(n, e + "-line", i), t.on(n.updateWhenIdle ? "moveend" : "move", this._update, this), t.whenReady(this._update, this), i; }, onRemove: function (t) { t.off(this.options.updateWhenIdle ? "moveend" : "move", this._update, this); }, _addScales: function (t, e, i) { t.metric && (this._mScale = o.DomUtil.create("div", e, i)), t.imperial && (this._iScale = o.DomUtil.create("div", e, i)); }, _update: function () { var t = this._map, e = t.getSize().y / 2, i = t.distance(t.containerPointToLatLng([0, e]), t.containerPointToLatLng([this.options.maxWidth, e])); this._updateScales(i); }, _updateScales: function (t) { this.options.metric && t && this._updateMetric(t), this.options.imperial && t && this._updateImperial(t); }, _updateMetric: function (t) { var e = this._getRoundNum(t), i = e < 1e3 ? e + " m" : e / 1e3 + " km"; this._updateScale(this._mScale, i, e / t); }, _updateImperial: function (t) { var e, i, n, o = 3.2808399 * t; o > 5280 ? (e = o / 5280, i = this._getRoundNum(e), this._updateScale(this._iScale, i + " mi", i / e)) : (n = this._getRoundNum(o), this._updateScale(this._iScale, n + " ft", n / o)); }, _updateScale: function (t, e, i) { t.style.width = Math.round(this.options.maxWidth * i) + "px", t.innerHTML = e; }, _getRoundNum: function (t) { var e = Math.pow(10, (Math.floor(t) + "").length - 1), i = t / e; return i = i >= 10 ? 10 : i >= 5 ? 5 : i >= 3 ? 3 : i >= 2 ? 2 : 1, e * i; } }), o.control.scale = function (t) { return new o.Control.Scale(t); }, o.Control.Layers = o.Control.extend({ options: { collapsed: !0, position: "topright", autoZIndex: !0, hideSingleBase: !1, sortLayers: !1, sortFunction: function (t, e, i, n) { return i < n ? -1 : n < i ? 1 : 0; } }, initialize: function (t, e, i) { o.setOptions(this, i), this._layers = [], this._lastZIndex = 0, this._handlingClick = !1; for (var n in t)
            this._addLayer(t[n], n); for (n in e)
            this._addLayer(e[n], n, !0); }, onAdd: function (t) { return this._initLayout(), this._update(), this._map = t, t.on("zoomend", this._checkDisabledLayers, this), this._container; }, onRemove: function () { this._map.off("zoomend", this._checkDisabledLayers, this); for (var t = 0; t < this._layers.length; t++)
            this._layers[t].layer.off("add remove", this._onLayerChange, this); }, addBaseLayer: function (t, e) { return this._addLayer(t, e), this._map ? this._update() : this; }, addOverlay: function (t, e) { return this._addLayer(t, e, !0), this._map ? this._update() : this; }, removeLayer: function (t) { t.off("add remove", this._onLayerChange, this); var e = this._getLayer(o.stamp(t)); return e && this._layers.splice(this._layers.indexOf(e), 1), this._map ? this._update() : this; }, expand: function () { o.DomUtil.addClass(this._container, "leaflet-control-layers-expanded"), this._form.style.height = null; var t = this._map.getSize().y - (this._container.offsetTop + 50); return t < this._form.clientHeight ? (o.DomUtil.addClass(this._form, "leaflet-control-layers-scrollbar"), this._form.style.height = t + "px") : o.DomUtil.removeClass(this._form, "leaflet-control-layers-scrollbar"), this._checkDisabledLayers(), this; }, collapse: function () { return o.DomUtil.removeClass(this._container, "leaflet-control-layers-expanded"), this; }, _initLayout: function () { var t = "leaflet-control-layers", e = this._container = o.DomUtil.create("div", t), i = this.options.collapsed; e.setAttribute("aria-haspopup", !0), o.DomEvent.disableClickPropagation(e), o.Browser.touch || o.DomEvent.disableScrollPropagation(e); var n = this._form = o.DomUtil.create("form", t + "-list"); i && (this._map.on("click", this.collapse, this), o.Browser.android || o.DomEvent.on(e, { mouseenter: this.expand, mouseleave: this.collapse }, this)); var s = this._layersLink = o.DomUtil.create("a", t + "-toggle", e); s.href = "#", s.title = "Layers", o.Browser.touch ? o.DomEvent.on(s, "click", o.DomEvent.stop).on(s, "click", this.expand, this) : o.DomEvent.on(s, "focus", this.expand, this), o.DomEvent.on(n, "click", function () { setTimeout(o.bind(this._onInputClick, this), 0); }, this), i || this.expand(), this._baseLayersList = o.DomUtil.create("div", t + "-base", n), this._separator = o.DomUtil.create("div", t + "-separator", n), this._overlaysList = o.DomUtil.create("div", t + "-overlays", n), e.appendChild(n); }, _getLayer: function (t) { for (var e = 0; e < this._layers.length; e++)
            if (this._layers[e] && o.stamp(this._layers[e].layer) === t)
                return this._layers[e]; }, _addLayer: function (t, e, i) { t.on("add remove", this._onLayerChange, this), this._layers.push({ layer: t, name: e, overlay: i }), this.options.sortLayers && this._layers.sort(o.bind(function (t, e) { return this.options.sortFunction(t.layer, e.layer, t.name, e.name); }, this)), this.options.autoZIndex && t.setZIndex && (this._lastZIndex++, t.setZIndex(this._lastZIndex)); }, _update: function () { if (!this._container)
            return this; o.DomUtil.empty(this._baseLayersList), o.DomUtil.empty(this._overlaysList); var t, e, i, n, s = 0; for (i = 0; i < this._layers.length; i++)
            n = this._layers[i], this._addItem(n), e = e || n.overlay, t = t || !n.overlay, s += n.overlay ? 0 : 1; return this.options.hideSingleBase && (t = t && s > 1, this._baseLayersList.style.display = t ? "" : "none"), this._separator.style.display = e && t ? "" : "none", this; }, _onLayerChange: function (t) { this._handlingClick || this._update(); var e = this._getLayer(o.stamp(t.target)), i = e.overlay ? "add" === t.type ? "overlayadd" : "overlayremove" : "add" === t.type ? "baselayerchange" : null; i && this._map.fire(i, e); }, _createRadioElement: function (t, i) { var n = '<input type="radio" class="leaflet-control-layers-selector" name="' + t + '"' + (i ? ' checked="checked"' : "") + "/>", o = e.createElement("div"); return o.innerHTML = n, o.firstChild; }, _addItem: function (t) { var i, n = e.createElement("label"), s = this._map.hasLayer(t.layer); t.overlay ? (i = e.createElement("input"), i.type = "checkbox", i.className = "leaflet-control-layers-selector", i.defaultChecked = s) : i = this._createRadioElement("leaflet-base-layers", s), i.layerId = o.stamp(t.layer), o.DomEvent.on(i, "click", this._onInputClick, this); var r = e.createElement("span"); r.innerHTML = " " + t.name; var a = e.createElement("div"); n.appendChild(a), a.appendChild(i), a.appendChild(r); var h = t.overlay ? this._overlaysList : this._baseLayersList; return h.appendChild(n), this._checkDisabledLayers(), n; }, _onInputClick: function () { var t, e, i, n = this._form.getElementsByTagName("input"), o = [], s = []; this._handlingClick = !0; for (var r = n.length - 1; r >= 0; r--)
            t = n[r], e = this._getLayer(t.layerId).layer, i = this._map.hasLayer(e), t.checked && !i ? o.push(e) : !t.checked && i && s.push(e); for (r = 0; r < s.length; r++)
            this._map.removeLayer(s[r]); for (r = 0; r < o.length; r++)
            this._map.addLayer(o[r]); this._handlingClick = !1, this._refocusOnMap(); }, _checkDisabledLayers: function () { for (var t, e, n = this._form.getElementsByTagName("input"), o = this._map.getZoom(), s = n.length - 1; s >= 0; s--)
            t = n[s], e = this._getLayer(t.layerId).layer, t.disabled = e.options.minZoom !== i && o < e.options.minZoom || e.options.maxZoom !== i && o > e.options.maxZoom; }, _expand: function () { return this.expand(); }, _collapse: function () { return this.collapse(); } }), o.control.layers = function (t, e, i) { return new o.Control.Layers(t, e, i); };
}(window, document);
!function () {
    "use strict";
    function e(e) { return H ? Symbol() : "@@" + e; }
    function t(e, t) { B || (t = t.replace(J ? /file:\/\/\//g : /file:\/\//g, "")); var r, n = (e.message || e) + "\n  " + t; r = V && e.fileName ? new Error(n, e.fileName, e.lineNumber) : new Error(n); var o = e.originalErr ? e.originalErr.stack : e.stack; return F ? r.stack = n + "\n  " + o : r.stack = o, r.originalErr = e.originalErr || e, r; }
    function r(e, t) { throw new RangeError('Unable to resolve "' + e + '" to ' + t); }
    function n(e, t) { e = e.trim(); var n = t && t.substr(0, t.indexOf(":") + 1), o = e[0], i = e[1]; if ("/" === o && "/" === i)
        return n || r(e, t), n + e; if ("." === o && ("/" === i || "." === i && ("/" === e[2] || 2 === e.length) || 1 === e.length) || "/" === o) {
        var s, a = !n || "/" !== t[n.length];
        if (a ? (void 0 === t && r(e, t), s = t) : "/" === t[n.length + 1] ? "file:" !== n ? (s = t.substr(n.length + 2), s = s.substr(s.indexOf("/") + 1)) : s = t.substr(8) : s = t.substr(n.length + 1), "/" === o) {
            if (!a)
                return t.substr(0, t.length - s.length - 1) + e;
            r(e, t);
        }
        for (var u = s.substr(0, s.lastIndexOf("/") + 1) + e, c = [], l = void 0, d = 0; d < u.length; d++)
            if (void 0 === l)
                if ("." !== u[d])
                    l = d;
                else {
                    if ("." !== u[d + 1] || "/" !== u[d + 2] && d !== u.length - 2) {
                        if ("/" !== u[d + 1] && d !== u.length - 1) {
                            l = d;
                            continue;
                        }
                        d += 1;
                    }
                    else
                        c.pop(), d += 2;
                    a && 0 === c.length && r(e, t), d === u.length && c.push("");
                }
            else
                "/" === u[d] && (c.push(u.substr(l, d - l + 1)), l = void 0);
        return void 0 !== l && c.push(u.substr(l, u.length - l)), t.substr(0, t.length - s.length) + c.join("");
    } var f = e.indexOf(":"); return -1 !== f ? F && ":" === e[1] && "\\" === e[2] && e[0].match(/[a-z]/i) ? "file:///" + e.replace(/\\/g, "/") : e : void 0; }
    function o(e) { if (e.values)
        return e.values(); if ("undefined" == typeof Symbol || !Symbol.iterator)
        throw new Error("Symbol.iterator not supported in this browser"); var t = {}; return t[Symbol.iterator] = function () { var t = Object.keys(e), r = 0; return { next: function () { return r < t.length ? { value: e[t[r++]], done: !1 } : { value: void 0, done: !0 }; } }; }, t; }
    function i() { this.registry = new u; }
    function s(e) { if (!(e instanceof c))
        throw new TypeError("Module instantiation did not return a valid namespace object."); return e; }
    function a(e) { if (void 0 === e)
        throw new RangeError("No resolution found."); return e; }
    function u() { this[ee] = {}, this._registry = ee; }
    function c(e) { Object.defineProperty(this, te, { value: e }), Object.keys(e).forEach(l, this); }
    function l(e) { Object.defineProperty(this, e, { enumerable: !0, get: function () { return this[te][e]; } }); }
    function d() { i.call(this); var e = this.registry["delete"]; this.registry["delete"] = function (r) { var n = e.call(this, r); return t.hasOwnProperty(r) && !t[r].linkRecord && delete t[r], n; }; var t = {}; this[re] = { lastRegister: void 0, records: t }, this.trace = !1; }
    function f(e, t, r) { return e.records[t] = { key: t, registration: r, module: void 0, importerSetters: void 0, linkRecord: { instantiatePromise: void 0, dependencies: void 0, execute: void 0, executingRequire: !1, moduleObj: void 0, setters: void 0, depsInstantiatePromise: void 0, dependencyInstantiations: void 0, linked: !1, error: void 0 } }; }
    function p(e, t, r, n, o) { var i = n[t]; if (i)
        return Promise.resolve(i); var s = o.records[t]; return s && !s.module ? v(e, s, s.linkRecord, n, o) : e.resolve(t, r).then(function (t) { if (i = n[t])
        return i; s = o.records[t], (!s || s.module) && (s = f(o, t, s && s.registration)); var r = s.linkRecord; return r ? v(e, s, r, n, o) : s; }); }
    function h(e, t, r) { return function () { var e = r.lastRegister; return e ? (r.lastRegister = void 0, t.registration = e, !0) : !!t.registration; }; }
    function v(e, r, n, o, i) { return n.instantiatePromise || (n.instantiatePromise = (r.registration ? Promise.resolve() : Promise.resolve().then(function () { return i.lastRegister = void 0, e[ne](r.key, e[ne].length > 1 && h(e, r, i)); })).then(function (t) { if (void 0 !== t) {
        if (!(t instanceof c))
            throw new TypeError("Instantiate did not return a valid Module object.");
        return delete i.records[r.key], e.trace && m(e, r, n), o[r.key] = t;
    } var s = r.registration; if (r.registration = void 0, !s)
        throw new TypeError("Module instantiation did not call an anonymous or correctly named System.register."); return n.dependencies = s[0], r.importerSetters = [], n.moduleObj = {}, s[2] ? (n.moduleObj["default"] = {}, n.moduleObj.__useDefault = !0, n.executingRequire = s[1], n.execute = s[2]) : b(e, r, n, s[1]), n.dependencies.length || (n.linked = !0, e.trace && m(e, r, n)), r; })["catch"](function (e) { throw n.error = t(e, "Instantiating " + r.key); })); }
    function y(e, t, r, n, o, i) { return e.resolve(t, r).then(function (r) { i && (i[t] = r); var s = o.records[r], a = n[r]; if (a && (!s || s.module && a !== s.module))
        return a; (!s || !a && s.module) && (s = f(o, r, s && s.registration)); var u = s.linkRecord; return u ? v(e, s, u, n, o) : s; }); }
    function m(e, t, r) { e.loads = e.loads || {}, e.loads[t.key] = { key: t.key, deps: r.dependencies, dynamicDeps: [], depMap: r.depMap || {} }; }
    function g(e, t, r) { e.loads[t].dynamicDeps.push(r); }
    function b(e, t, r, n) { var o = r.moduleObj, i = t.importerSetters, s = !1, a = n.call(G, function (e, t) { if (!s) {
        if ("object" == typeof e)
            for (var r in e)
                "__useDefault" !== r && (o[r] = e[r]);
        else
            o[e] = t;
        s = !0;
        for (var n = 0; n < i.length; n++)
            i[n](o);
        return s = !1, t;
    } }, new O(e, t.key)); r.setters = a.setters, r.execute = a.execute, a.exports && (r.moduleObj = o = a.exports); }
    function w(e, r, n, o, i, s) { return (n.depsInstantiatePromise || (n.depsInstantiatePromise = Promise.resolve().then(function () { for (var t = Array(n.dependencies.length), s = 0; s < n.dependencies.length; s++)
        t[s] = y(e, n.dependencies[s], r.key, o, i, e.trace && n.depMap || (n.depMap = {})); return Promise.all(t); }).then(function (e) { if (n.dependencyInstantiations = e, n.setters)
        for (var t = 0; t < e.length; t++) {
            var r = n.setters[t];
            if (r) {
                var o = e[t];
                o instanceof c ? r(o) : (r(o.module || o.linkRecord.moduleObj), o.importerSetters && o.importerSetters.push(r));
            }
        } }))).then(function () { for (var t = [], r = 0; r < n.dependencies.length; r++) {
        var a = n.dependencyInstantiations[r], u = a.linkRecord;
        u && !u.linked && -1 === s.indexOf(a) && (s.push(a), t.push(w(e, a, a.linkRecord, o, i, s)));
    } return Promise.all(t); }).then(function () { return n.linked = !0, e.trace && m(e, r, n), r; })["catch"](function (e) { throw e = t(e, "Loading " + r.key), n.error = n.error || e, e; }); }
    function k(e, t) { var r = e[re]; r.records[t.key] === t && delete r.records[t.key]; var n = t.linkRecord; n && n.dependencyInstantiations && n.dependencyInstantiations.forEach(function (t, o) { if (t && !(t instanceof c) && t.linkRecord && (t.linkRecord.error && r.records[t.key] === t && k(e, t), n.setters && t.importerSetters)) {
        var i = t.importerSetters.indexOf(n.setters[o]);
        t.importerSetters.splice(i, 1);
    } }); }
    function O(e, t) { this.loader = e, this.key = this.id = t; }
    function R(e, t, r, n, o, i) { if (t.module)
        return t.module; if (r.error)
        throw r.error; if (i && -1 !== i.indexOf(t))
        return t.linkRecord.moduleObj; var s = j(e, t, r, n, o, r.setters ? [] : i || []); if (s)
        throw k(e, t), s; return t.module; }
    function S(e, t, r, n, o, i, s) { return function (a) { for (var u = 0; u < r.length; u++)
        if (r[u] === a) {
            var l, d = n[u];
            return l = d instanceof c ? d : R(e, d, d.linkRecord, o, i, s), l.__useDefault ? l["default"] : l;
        } throw new Error("Module " + a + " not declared as a System.registerDynamic dependency of " + t); }; }
    function j(e, r, n, o, i, s) { s.push(r); var a; if (n.setters)
        for (var u, l, d = 0; d < n.dependencies.length; d++)
            if (u = n.dependencyInstantiations[d], !(u instanceof c) && (l = u.linkRecord, l && -1 === s.indexOf(u) && (a = l.error ? l.error : j(e, u, l, o, i, l.setters ? s : [])), a))
                return n.error = t(a, "Evaluating " + r.key); if (n.execute)
        if (n.setters)
            a = x(n.execute);
        else {
            var f = { id: r.key }, p = n.moduleObj;
            Object.defineProperty(f, "exports", { configurable: !0, set: function (e) { p["default"] = e; }, get: function () { return p["default"]; } });
            var h = S(e, r.key, n.dependencies, n.dependencyInstantiations, o, i, s);
            if (!n.executingRequire)
                for (var d = 0; d < n.dependencies.length; d++)
                    h(n.dependencies[d]);
            a = E(n.execute, h, p["default"], f), f.exports !== p["default"] && (p["default"] = f.exports);
            var v = p["default"];
            if (v && v.__esModule) {
                p.__useDefault && delete p.__useDefault;
                for (var y in v)
                    Object.hasOwnProperty.call(v, y) && (p[y] = v[y]);
                p.__esModule = !0;
            }
        } if (a)
        return n.error = t(a, "Evaluating " + r.key); if (o[r.key] = r.module = new c(n.moduleObj), !n.setters) {
        if (r.importerSetters)
            for (var d = 0; d < r.importerSetters.length; d++)
                r.importerSetters[d](r.module);
        r.importerSetters = void 0;
    } r.linkRecord = void 0; }
    function x(e) { try {
        e.call(oe);
    }
    catch (e) {
        return e;
    } }
    function E(e, t, r, n) { try {
        var o = e.call(G, t, r, n);
        void 0 !== o && (n.exports = o);
    }
    catch (e) {
        return e;
    } }
    function P(e) { return void 0 === ie && (ie = "undefined" != typeof Symbol && !!Symbol.toStringTag), e instanceof c || ie && "[object Module]" == Object.prototype.toString.call(e); }
    function L(e, t) { for (var r in t)
        Object.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e; }
    function I(e) { if (!fe && !pe) {
        var t = new Image;
        return void (t.src = e);
    } var r = document.createElement("link"); fe ? (r.rel = "preload", r.as = "script") : r.rel = "prefetch", r.href = e, document.head.appendChild(r), document.head.removeChild(r); }
    function _(e, t, r) { try {
        importScripts(e);
    }
    catch (e) {
        r(e);
    } t(); }
    function U(e, t, r, n, o) { function i() { n(), a(); } function s(t) { a(), o(new Error("Fetching " + e)); } function a() { for (var e = 0; e < he.length; e++)
        if (he[e].err === s) {
            he.splice(e, 1);
            break;
        } u.removeEventListener("load", i, !1), u.removeEventListener("error", s, !1), document.head.removeChild(u); } if (e = e.replace(/#/g, "%23"), de)
        return _(e, n, o); var u = document.createElement("script"); u.type = "text/javascript", u.charset = "utf-8", u.async = !0, t && (u.crossOrigin = t), r && (u.integrity = r), u.addEventListener("load", i, !1), u.addEventListener("error", s, !1), u.src = e, document.head.appendChild(u); }
    function M(e, t, r) { var o = T(t, r); if (o) {
        var i = t[o] + r.substr(o.length), s = n(i, z);
        return void 0 !== s ? s : e + i;
    } return -1 !== r.indexOf(":") ? r : e + r; }
    function C(e) { var t = this.name; if (t.substr(0, e.length) === e && (t.length === e.length || "/" === t[e.length] || "/" === e[e.length - 1] || ":" === e[e.length - 1])) {
        var r = e.split("/").length;
        r > this.len && (this.match = e, this.len = r);
    } }
    function T(e, t) { if (Object.hasOwnProperty.call(e, t))
        return t; var r = { name: t, match: void 0, len: 0 }; return Object.keys(e).forEach(C, r), r.match; }
    function D() { d.call(this), this[ue] = { baseURL: z, paths: {}, map: {}, submap: {}, bundles: {}, depCache: {}, wasm: !1 }, this.registry.set("@empty", ae); }
    function N(e, t) { var r = this[ue]; if (t) {
        var o = T(r.submap, t), i = r.submap[o], s = i && T(i, e);
        if (s) {
            var a = i[s] + e.substr(s.length);
            return n(a, o) || a;
        }
    } var u = r.map, s = T(u, e); if (s) {
        var a = u[s] + e.substr(s.length);
        return n(a, o) || a;
    } }
    function A(e, t) { return fetch(t).then(function (e) { if (e.ok)
        return e.arrayBuffer(); throw new Error("Fetch error: " + e.status + " " + e.statusText); }).then(function (t) { var r = new Uint8Array(t); return 0 === r[0] && 97 === r[1] && 115 === r[2] ? WebAssembly.compile(r).then(function (t) { var r = [], n = [], o = {}; WebAssembly.Module.imports && WebAssembly.Module.imports(t).forEach(function (e) { var t = e.module; n.push(function (e) { o[t] = e; }), -1 === r.indexOf(t) && r.push(t); }), e.register(r, function (e) { return { setters: n, execute: function () { e(new WebAssembly.Instance(t, o).exports); } }; }); }) : new TextDecoder("utf-8").decode(r); }); }
    function W(e, t) { return new Promise(function (r, n) { return U(e, "anonymous", void 0, function () { t(), r(); }, n); }); }
    function q(e, t) { var r = this[ue], n = r.wasm, o = r.bundles[e]; if (o) {
        var i = this, s = i.resolveSync(o, void 0);
        if (i.registry.has(s))
            return;
        return me[s] || (me[s] = W(s, t).then(function () { i.registry.has(s) || i.registry.set(s, i.newModule({})), delete me[s]; }));
    } var a = r.depCache[e]; if (a)
        for (var u = n ? fetch : I, c = 0; c < a.length; c++)
            this.resolve(a[c], e).then(u); return n ? A(this, e).then(function (r) { "string" == typeof r && (0, eval)(r + "\n//# sourceURL=" + e), t(); }) : W(e, t); }
    var z, B = "undefined" != typeof window && "undefined" != typeof document, F = "undefined" != typeof process && process.versions && process.versions.node, J = "undefined" != typeof process && "string" == typeof process.platform && process.platform.match(/^win/), G = "undefined" != typeof self ? self : global, H = "undefined" != typeof Symbol;
    if ("undefined" != typeof document && document.getElementsByTagName) {
        if (z = document.baseURI, !z) {
            var K = document.getElementsByTagName("base");
            z = K[0] && K[0].href || window.location.href;
        }
    }
    else
        "undefined" != typeof location && (z = location.href);
    if (z) {
        z = z.split("#")[0].split("?")[0];
        var Q = z.lastIndexOf("/");
        -1 !== Q && (z = z.substr(0, Q + 1));
    }
    else {
        if ("undefined" == typeof process || !process.cwd)
            throw new TypeError("No environment baseURI");
        z = "file://" + (J ? "/" : "") + process.cwd(), J && (z = z.replace(/\\/g, "/"));
    }
    "/" !== z[z.length - 1] && (z += "/");
    var V = "_" == new Error(0, "_").fileName, X = Promise.resolve();
    i.prototype.constructor = i, i.prototype["import"] = function (e, r) { if ("string" != typeof e)
        throw new TypeError("Loader import method must be passed a module key string"); var n = this; return X.then(function () { return n[Z](e, r); }).then(s)["catch"](function (n) { throw t(n, "Loading " + e + (r ? " from " + r : "")); }); };
    var Y = i.resolve = e("resolve"), Z = i.resolveInstantiate = e("resolveInstantiate");
    i.prototype[Z] = function (e, t) { var r = this; return r.resolve(e, t).then(function (e) { return r.registry.get(e); }); }, i.prototype.resolve = function (e, r) { var n = this; return X.then(function () { return n[Y](e, r); }).then(a)["catch"](function (n) { throw t(n, "Resolving " + e + (r ? " to " + r : "")); }); };
    var $ = "undefined" != typeof Symbol && Symbol.iterator, ee = e("registry");
    $ && (u.prototype[Symbol.iterator] = function () { return this.entries()[Symbol.iterator](); }, u.prototype.entries = function () { var e = this[ee]; return o(Object.keys(e).map(function (t) { return [t, e[t]]; })); }), u.prototype.keys = function () { return o(Object.keys(this[ee])); }, u.prototype.values = function () { var e = this[ee]; return o(Object.keys(e).map(function (t) { return e[t]; })); }, u.prototype.get = function (e) { return this[ee][e]; }, u.prototype.set = function (e, t) { if (!(t instanceof c))
        throw new Error("Registry must be set with an instance of Module Namespace"); return this[ee][e] = t, this; }, u.prototype.has = function (e) { return Object.hasOwnProperty.call(this[ee], e); }, u.prototype["delete"] = function (e) { return Object.hasOwnProperty.call(this[ee], e) ? (delete this[ee][e], !0) : !1; };
    var te = e("baseObject");
    c.prototype = Object.create(null), "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(c.prototype, Symbol.toStringTag, { value: "Module" });
    var re = e("register-internal");
    d.prototype = Object.create(i.prototype), d.prototype.constructor = d;
    var ne = d.instantiate = e("instantiate");
    d.prototype[d.resolve = i.resolve] = function (e, t) { return n(e, t || z); }, d.prototype[ne] = function (e, t) { }, d.prototype[i.resolveInstantiate] = function (e, t) { var r = this, n = this[re], o = r.registry[r.registry._registry]; return p(r, e, t, o, n).then(function (e) { return e instanceof c ? e : e.module ? e.module : e.linkRecord.linked ? R(r, e, e.linkRecord, o, n, void 0) : w(r, e, e.linkRecord, o, n, [e]).then(function () { return R(r, e, e.linkRecord, o, n, void 0); })["catch"](function (t) { throw k(r, e), t; }); }); }, d.prototype.register = function (e, t, r) { var n = this[re]; if (void 0 === r)
        n.lastRegister = [e, t, void 0];
    else {
        var o = n.records[e] || f(n, e, void 0);
        o.registration = [t, r, void 0];
    } }, d.prototype.registerDynamic = function (e, t, r, n) { var o = this[re]; if ("string" != typeof e)
        o.lastRegister = [e, t, r];
    else {
        var i = o.records[e] || f(o, e, void 0);
        i.registration = [t, r, n];
    } }, O.prototype["import"] = function (e) { return this.loader.trace && g(this.loader, this.key, e), this.loader["import"](e, this.key); };
    var oe = {};
    Object.freeze && Object.freeze(oe);
    var ie, se = Promise.resolve(), ae = new c({}), ue = e("loader-config"), ce = e("plain-resolve"), le = e("plain-resolve-sync"), de = "undefined" == typeof window && "undefined" != typeof self && "undefined" != typeof importScripts, fe = !1, pe = !1;
    if (B && function () { var e = document.createElement("link").relList; if (e && e.supports) {
        pe = !0;
        try {
            fe = e.supports("preload");
        }
        catch (e) { }
    } }(), B) {
        var he = [], ve = window.onerror;
        window.onerror = function (e, t) { for (var r = 0; r < he.length; r++)
            if (he[r].src === t)
                return void he[r].err(e); ve && ve.apply(this, arguments); };
    }
    D.plainResolve = ce, D.plainResolveSync = le;
    var ye = D.prototype = Object.create(d.prototype);
    ye.constructor = D, ye[D.resolve = d.resolve] = function (e, t) { var r = n(e, t || z); if (void 0 !== r)
        return Promise.resolve(r); var o = this; return se.then(function () { return o[ce](e, t); }).then(function (t) { if (t = t || e, o.registry.has(t))
        return t; var r = o[ue]; return M(r.baseURL, r.paths, t); }); }, ye.newModule = function (e) { return new c(e); }, ye.isModule = P, ye.resolveSync = function (e, t) { var r = n(e, t || z); if (void 0 !== r)
        return r; if (r = this[le](e, t) || e, this.registry.has(r))
        return r; var o = this[ue]; return M(o.baseURL, o.paths, r); }, ye["import"] = function () { return d.prototype["import"].apply(this, arguments).then(function (e) { return e.__useDefault ? e["default"] : e; }); }, ye[ce] = ye[le] = N, ye[D.instantiate = d.instantiate] = q, ye.config = function (e) { var t = this[ue]; if (e.baseURL && (t.baseURL = n(e.baseURL, z) || n("./" + e.baseURL, z), "/" !== t.baseURL[t.baseURL.length - 1] && (t.baseURL += "/")), e.paths && L(t.paths, e.paths), e.map) {
        var r = e.map;
        for (var o in r)
            if (Object.hasOwnProperty.call(r, o)) {
                var i = r[o];
                if ("string" == typeof i)
                    t.map[o] = i;
                else {
                    var s = n(o, z) || M(t.baseURL, t.paths, o);
                    L(t.submap[s] || (t.submap[s] = {}), i);
                }
            }
    } for (var o in e)
        if (Object.hasOwnProperty.call(e, o)) {
            var r = e[o];
            switch (o) {
                case "baseURL":
                case "paths":
                case "map": break;
                case "bundles":
                    for (var o in r)
                        if (Object.hasOwnProperty.call(r, o))
                            for (var i = r[o], a = 0; a < i.length; a++)
                                t.bundles[this.resolveSync(i[a], void 0)] = o;
                    break;
                case "depCache":
                    for (var o in r)
                        if (Object.hasOwnProperty.call(r, o)) {
                            var s = this.resolveSync(o, void 0);
                            t.depCache[s] = (t.depCache[s] || []).concat(r[o]);
                        }
                    break;
                case "wasm":
                    t.wasm = "undefined" != typeof WebAssembly && !!r;
                    break;
                default: throw new TypeError('The SystemJS production build does not support the "' + o + '" configuration option.');
            }
        } }, ye.getConfig = function (e) { var t = this[ue], r = {}; L(r, t.map); for (var n in t.submap)
        Object.hasOwnProperty.call(t.submap, n) && (r[n] = L({}, t.submap[n])); var o = {}; for (var n in t.depCache)
        Object.hasOwnProperty.call(t.depCache, n) && (o[n] = [].concat(t.depCache[n])); var i = {}; for (var n in t.bundles)
        Object.hasOwnProperty.call(t.bundles, n) && (i[t.bundles[n]] = i[t.bundles[n]] || []).push(n); return { baseURL: t.baseURL, paths: L({}, t.paths), depCache: o, bundles: cloneArrays(t.bundles), map: r, wasm: t.wasm }; }, ye.register = function (e, t, r) { return "string" == typeof e && (e = this.resolveSync(e, void 0)), d.prototype.register.call(this, e, t, r); }, ye.registerDynamic = function (e, t, r, n) { return "string" == typeof e && (e = this.resolveSync(e, void 0)), d.prototype.registerDynamic.call(this, e, t, r, n); };
    var me = {};
    D.prototype.version = "0.20.10 Production";
    var ge = new D;
    if (B || de)
        if (G.SystemJS = ge, G.System) {
            var be = G.System.register;
            G.System.register = function () { be && be.apply(this, arguments), ge.register.apply(this, arguments); };
        }
        else
            G.System = ge;
    "undefined" != typeof module && module.exports && (module.exports = ge);
}();
(function () {
    'use strict';
    var isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';
    var isNode = typeof process !== 'undefined' && process.versions && process.versions.node;
    var isWindows = typeof process !== 'undefined' && typeof process.platform === 'string' && process.platform.match(/^win/);
    var envGlobal = typeof self !== 'undefined' ? self : global;
    var hasSymbol = typeof Symbol !== 'undefined';
    function createSymbol(name) {
        return hasSymbol ? Symbol() : '@@' + name;
    }
    var baseURI;
    if (typeof document != 'undefined' && document.getElementsByTagName) {
        baseURI = document.baseURI;
        if (!baseURI) {
            var bases = document.getElementsByTagName('base');
            baseURI = bases[0] && bases[0].href || window.location.href;
        }
    }
    else if (typeof location != 'undefined') {
        baseURI = location.href;
    }
    if (baseURI) {
        baseURI = baseURI.split('#')[0].split('?')[0];
        var slashIndex = baseURI.lastIndexOf('/');
        if (slashIndex !== -1)
            baseURI = baseURI.substr(0, slashIndex + 1);
    }
    else if (typeof process !== 'undefined' && process.cwd) {
        baseURI = 'file://' + (isWindows ? '/' : '') + process.cwd();
        if (isWindows)
            baseURI = baseURI.replace(/\\/g, '/');
    }
    else {
        throw new TypeError('No environment baseURI');
    }
    if (baseURI[baseURI.length - 1] !== '/')
        baseURI += '/';
    var errArgs = new Error(0, '_').fileName == '_';
    function LoaderError__Check_error_message_for_loader_stack(childErr, newMessage) {
        if (!isBrowser)
            newMessage = newMessage.replace(isWindows ? /file:\/\/\//g : /file:\/\//g, '');
        var message = (childErr.message || childErr) + '\n  ' + newMessage;
        var err;
        if (errArgs && childErr.fileName)
            err = new Error(message, childErr.fileName, childErr.lineNumber);
        else
            err = new Error(message);
        var stack = childErr.originalErr ? childErr.originalErr.stack : childErr.stack;
        if (isNode)
            err.stack = message + '\n  ' + stack;
        else
            err.stack = stack;
        err.originalErr = childErr.originalErr || childErr;
        return err;
    }
    function throwResolveError(relUrl, parentUrl) {
        throw new RangeError('Unable to resolve "' + relUrl + '" to ' + parentUrl);
    }
    function resolveIfNotPlain(relUrl, parentUrl) {
        relUrl = relUrl.trim();
        var parentProtocol = parentUrl && parentUrl.substr(0, parentUrl.indexOf(':') + 1);
        var firstChar = relUrl[0];
        var secondChar = relUrl[1];
        if (firstChar === '/' && secondChar === '/') {
            if (!parentProtocol)
                throwResolveError(relUrl, parentUrl);
            return parentProtocol + relUrl;
        }
        else if (firstChar === '.' && (secondChar === '/' || secondChar === '.' && (relUrl[2] === '/' || relUrl.length === 2) || relUrl.length === 1)
            || firstChar === '/') {
            var parentIsPlain = !parentProtocol || parentUrl[parentProtocol.length] !== '/';
            var pathname;
            if (parentIsPlain) {
                if (parentUrl === undefined)
                    throwResolveError(relUrl, parentUrl);
                pathname = parentUrl;
            }
            else if (parentUrl[parentProtocol.length + 1] === '/') {
                if (parentProtocol !== 'file:') {
                    pathname = parentUrl.substr(parentProtocol.length + 2);
                    pathname = pathname.substr(pathname.indexOf('/') + 1);
                }
                else {
                    pathname = parentUrl.substr(8);
                }
            }
            else {
                pathname = parentUrl.substr(parentProtocol.length + 1);
            }
            if (firstChar === '/') {
                if (parentIsPlain)
                    throwResolveError(relUrl, parentUrl);
                else
                    return parentUrl.substr(0, parentUrl.length - pathname.length - 1) + relUrl;
            }
            var segmented = pathname.substr(0, pathname.lastIndexOf('/') + 1) + relUrl;
            var output = [];
            var segmentIndex = undefined;
            for (var i = 0; i < segmented.length; i++) {
                if (segmentIndex !== undefined) {
                    if (segmented[i] === '/') {
                        output.push(segmented.substr(segmentIndex, i - segmentIndex + 1));
                        segmentIndex = undefined;
                    }
                    continue;
                }
                if (segmented[i] === '.') {
                    if (segmented[i + 1] === '.' && (segmented[i + 2] === '/' || i === segmented.length - 2)) {
                        output.pop();
                        i += 2;
                    }
                    else if (segmented[i + 1] === '/' || i === segmented.length - 1) {
                        i += 1;
                    }
                    else {
                        segmentIndex = i;
                        continue;
                    }
                    if (parentIsPlain && output.length === 0)
                        throwResolveError(relUrl, parentUrl);
                    if (i === segmented.length)
                        output.push('');
                    continue;
                }
                segmentIndex = i;
            }
            if (segmentIndex !== undefined)
                output.push(segmented.substr(segmentIndex, segmented.length - segmentIndex));
            return parentUrl.substr(0, parentUrl.length - pathname.length) + output.join('');
        }
        var protocolIndex = relUrl.indexOf(':');
        if (protocolIndex !== -1) {
            if (isNode) {
                if (relUrl[1] === ':' && relUrl[2] === '\\' && relUrl[0].match(/[a-z]/i))
                    return 'file:///' + relUrl.replace(/\\/g, '/');
            }
            return relUrl;
        }
    }
    var resolvedPromise$1 = Promise.resolve();
    function arrayValues(arr) {
        if (arr.values)
            return arr.values();
        if (typeof Symbol === 'undefined' || !Symbol.iterator)
            throw new Error('Symbol.iterator not supported in this browser');
        var iterable = {};
        iterable[Symbol.iterator] = function () {
            var keys = Object.keys(arr);
            var keyIndex = 0;
            return {
                next: function () {
                    if (keyIndex < keys.length)
                        return {
                            value: arr[keys[keyIndex++]],
                            done: false
                        };
                    else
                        return {
                            value: undefined,
                            done: true
                        };
                }
            };
        };
        return iterable;
    }
    function Loader() {
        this.registry = new Registry();
    }
    Loader.prototype.constructor = Loader;
    function ensureInstantiated(module) {
        if (!(module instanceof ModuleNamespace))
            throw new TypeError('Module instantiation did not return a valid namespace object.');
        return module;
    }
    Loader.prototype["import"] = function (key, parent) {
        if (typeof key !== 'string')
            throw new TypeError('Loader import method must be passed a module key string');
        var loader = this;
        return resolvedPromise$1
            .then(function () {
            return loader[RESOLVE_INSTANTIATE](key, parent);
        })
            .then(ensureInstantiated)["catch"](function (err) {
            throw LoaderError__Check_error_message_for_loader_stack(err, 'Loading ' + key + (parent ? ' from ' + parent : ''));
        });
    };
    var RESOLVE = Loader.resolve = createSymbol('resolve');
    var RESOLVE_INSTANTIATE = Loader.resolveInstantiate = createSymbol('resolveInstantiate');
    Loader.prototype[RESOLVE_INSTANTIATE] = function (key, parent) {
        var loader = this;
        return loader.resolve(key, parent)
            .then(function (resolved) {
            return loader.registry.get(resolved);
        });
    };
    function ensureResolution(resolvedKey) {
        if (resolvedKey === undefined)
            throw new RangeError('No resolution found.');
        return resolvedKey;
    }
    Loader.prototype.resolve = function (key, parent) {
        var loader = this;
        return resolvedPromise$1
            .then(function () {
            return loader[RESOLVE](key, parent);
        })
            .then(ensureResolution)["catch"](function (err) {
            throw LoaderError__Check_error_message_for_loader_stack(err, 'Resolving ' + key + (parent ? ' to ' + parent : ''));
        });
    };
    var iteratorSupport = typeof Symbol !== 'undefined' && Symbol.iterator;
    var REGISTRY = createSymbol('registry');
    function Registry() {
        this[REGISTRY] = {};
        this._registry = REGISTRY;
    }
    if (iteratorSupport) {
        Registry.prototype[Symbol.iterator] = function () {
            return this.entries()[Symbol.iterator]();
        };
        Registry.prototype.entries = function () {
            var registry = this[REGISTRY];
            return arrayValues(Object.keys(registry).map(function (key) {
                return [key, registry[key]];
            }));
        };
    }
    Registry.prototype.keys = function () {
        return arrayValues(Object.keys(this[REGISTRY]));
    };
    Registry.prototype.values = function () {
        var registry = this[REGISTRY];
        return arrayValues(Object.keys(registry).map(function (key) {
            return registry[key];
        }));
    };
    Registry.prototype.get = function (key) {
        return this[REGISTRY][key];
    };
    Registry.prototype.set = function (key, namespace) {
        if (!(namespace instanceof ModuleNamespace))
            throw new Error('Registry must be set with an instance of Module Namespace');
        this[REGISTRY][key] = namespace;
        return this;
    };
    Registry.prototype.has = function (key) {
        return Object.hasOwnProperty.call(this[REGISTRY], key);
    };
    Registry.prototype["delete"] = function (key) {
        if (Object.hasOwnProperty.call(this[REGISTRY], key)) {
            delete this[REGISTRY][key];
            return true;
        }
        return false;
    };
    var BASE_OBJECT = createSymbol('baseObject');
    function ModuleNamespace(baseObject) {
        Object.defineProperty(this, BASE_OBJECT, {
            value: baseObject
        });
        Object.keys(baseObject).forEach(extendNamespace, this);
    }
    ModuleNamespace.prototype = Object.create(null);
    if (typeof Symbol !== 'undefined' && Symbol.toStringTag)
        Object.defineProperty(ModuleNamespace.prototype, Symbol.toStringTag, {
            value: 'Module'
        });
    function extendNamespace(key) {
        Object.defineProperty(this, key, {
            enumerable: true,
            get: function () {
                return this[BASE_OBJECT][key];
            }
        });
    }
    var REGISTER_INTERNAL = createSymbol('register-internal');
    function RegisterLoader$1() {
        Loader.call(this);
        var registryDelete = this.registry["delete"];
        this.registry["delete"] = function (key) {
            var deleted = registryDelete.call(this, key);
            if (records.hasOwnProperty(key) && !records[key].linkRecord)
                delete records[key];
            return deleted;
        };
        var records = {};
        this[REGISTER_INTERNAL] = {
            lastRegister: undefined,
            records: records
        };
        this.trace = false;
    }
    RegisterLoader$1.prototype = Object.create(Loader.prototype);
    RegisterLoader$1.prototype.constructor = RegisterLoader$1;
    var INSTANTIATE = RegisterLoader$1.instantiate = createSymbol('instantiate');
    RegisterLoader$1.prototype[RegisterLoader$1.resolve = Loader.resolve] = function (key, parentKey) {
        return resolveIfNotPlain(key, parentKey || baseURI);
    };
    RegisterLoader$1.prototype[INSTANTIATE] = function (key, processAnonRegister) { };
    function createLoadRecord(state, key, registration) {
        return state.records[key] = {
            key: key,
            registration: registration,
            module: undefined,
            importerSetters: undefined,
            linkRecord: {
                instantiatePromise: undefined,
                dependencies: undefined,
                execute: undefined,
                executingRequire: false,
                moduleObj: undefined,
                setters: undefined,
                depsInstantiatePromise: undefined,
                dependencyInstantiations: undefined,
                linked: false,
                error: undefined
            }
        };
    }
    RegisterLoader$1.prototype[Loader.resolveInstantiate] = function (key, parentKey) {
        var loader = this;
        var state = this[REGISTER_INTERNAL];
        var registry = loader.registry[loader.registry._registry];
        return resolveInstantiate(loader, key, parentKey, registry, state)
            .then(function (instantiated) {
            if (instantiated instanceof ModuleNamespace)
                return instantiated;
            if (instantiated.module)
                return instantiated.module;
            if (instantiated.linkRecord.linked)
                return ensureEvaluate(loader, instantiated, instantiated.linkRecord, registry, state, undefined);
            return instantiateDeps(loader, instantiated, instantiated.linkRecord, registry, state, [instantiated])
                .then(function () {
                return ensureEvaluate(loader, instantiated, instantiated.linkRecord, registry, state, undefined);
            })["catch"](function (err) {
                clearLoadErrors(loader, instantiated);
                throw err;
            });
        });
    };
    function resolveInstantiate(loader, key, parentKey, registry, state) {
        var module = registry[key];
        if (module)
            return Promise.resolve(module);
        var load = state.records[key];
        if (load && !load.module)
            return instantiate(loader, load, load.linkRecord, registry, state);
        return loader.resolve(key, parentKey)
            .then(function (resolvedKey) {
            module = registry[resolvedKey];
            if (module)
                return module;
            load = state.records[resolvedKey];
            if (!load || load.module)
                load = createLoadRecord(state, resolvedKey, load && load.registration);
            var link = load.linkRecord;
            if (!link)
                return load;
            return instantiate(loader, load, link, registry, state);
        });
    }
    function createProcessAnonRegister(loader, load, state) {
        return function () {
            var lastRegister = state.lastRegister;
            if (!lastRegister)
                return !!load.registration;
            state.lastRegister = undefined;
            load.registration = lastRegister;
            return true;
        };
    }
    function instantiate(loader, load, link, registry, state) {
        return link.instantiatePromise || (link.instantiatePromise =
            (load.registration ? Promise.resolve() : Promise.resolve().then(function () {
                state.lastRegister = undefined;
                return loader[INSTANTIATE](load.key, loader[INSTANTIATE].length > 1 && createProcessAnonRegister(loader, load, state));
            }))
                .then(function (instantiation) {
                if (instantiation !== undefined) {
                    if (!(instantiation instanceof ModuleNamespace))
                        throw new TypeError('Instantiate did not return a valid Module object.');
                    delete state.records[load.key];
                    if (loader.trace)
                        traceLoad(loader, load, link);
                    return registry[load.key] = instantiation;
                }
                var registration = load.registration;
                load.registration = undefined;
                if (!registration)
                    throw new TypeError('Module instantiation did not call an anonymous or correctly named System.register.');
                link.dependencies = registration[0];
                load.importerSetters = [];
                link.moduleObj = {};
                if (registration[2]) {
                    link.moduleObj["default"] = {};
                    link.moduleObj.__useDefault = true;
                    link.executingRequire = registration[1];
                    link.execute = registration[2];
                }
                else {
                    registerDeclarative(loader, load, link, registration[1]);
                }
                if (!link.dependencies.length) {
                    link.linked = true;
                    if (loader.trace)
                        traceLoad(loader, load, link);
                }
                return load;
            })["catch"](function (err) {
                throw link.error = LoaderError__Check_error_message_for_loader_stack(err, 'Instantiating ' + load.key);
            }));
    }
    function resolveInstantiateDep(loader, key, parentKey, registry, state, traceDepMap) {
        return loader.resolve(key, parentKey)
            .then(function (resolvedKey) {
            if (traceDepMap)
                traceDepMap[key] = resolvedKey;
            var load = state.records[resolvedKey];
            var module = registry[resolvedKey];
            if (module && (!load || load.module && module !== load.module))
                return module;
            if (!load || !module && load.module)
                load = createLoadRecord(state, resolvedKey, load && load.registration);
            var link = load.linkRecord;
            if (!link)
                return load;
            return instantiate(loader, load, link, registry, state);
        });
    }
    function traceLoad(loader, load, link) {
        loader.loads = loader.loads || {};
        loader.loads[load.key] = {
            key: load.key,
            deps: link.dependencies,
            dynamicDeps: [],
            depMap: link.depMap || {}
        };
    }
    function traceDynamicLoad(loader, parentKey, key) {
        loader.loads[parentKey].dynamicDeps.push(key);
    }
    function registerDeclarative(loader, load, link, declare) {
        var moduleObj = link.moduleObj;
        var importerSetters = load.importerSetters;
        var locked = false;
        var declared = declare.call(envGlobal, function (name, value) {
            if (locked)
                return;
            if (typeof name === 'object') {
                for (var p in name)
                    if (p !== '__useDefault')
                        moduleObj[p] = name[p];
            }
            else {
                moduleObj[name] = value;
            }
            locked = true;
            for (var i = 0; i < importerSetters.length; i++)
                importerSetters[i](moduleObj);
            locked = false;
            return value;
        }, new ContextualLoader(loader, load.key));
        link.setters = declared.setters;
        link.execute = declared.execute;
        if (declared.exports)
            link.moduleObj = moduleObj = declared.exports;
    }
    function instantiateDeps(loader, load, link, registry, state, seen) {
        return (link.depsInstantiatePromise || (link.depsInstantiatePromise = Promise.resolve()
            .then(function () {
            var depsInstantiatePromises = Array(link.dependencies.length);
            for (var i = 0; i < link.dependencies.length; i++)
                depsInstantiatePromises[i] = resolveInstantiateDep(loader, link.dependencies[i], load.key, registry, state, loader.trace && link.depMap || (link.depMap = {}));
            return Promise.all(depsInstantiatePromises);
        })
            .then(function (dependencyInstantiations) {
            link.dependencyInstantiations = dependencyInstantiations;
            if (link.setters) {
                for (var i = 0; i < dependencyInstantiations.length; i++) {
                    var setter = link.setters[i];
                    if (setter) {
                        var instantiation = dependencyInstantiations[i];
                        if (instantiation instanceof ModuleNamespace) {
                            setter(instantiation);
                        }
                        else {
                            setter(instantiation.module || instantiation.linkRecord.moduleObj);
                            if (instantiation.importerSetters)
                                instantiation.importerSetters.push(setter);
                        }
                    }
                }
            }
        })))
            .then(function () {
            var deepDepsInstantiatePromises = [];
            for (var i = 0; i < link.dependencies.length; i++) {
                var depLoad = link.dependencyInstantiations[i];
                var depLink = depLoad.linkRecord;
                if (!depLink || depLink.linked)
                    continue;
                if (seen.indexOf(depLoad) !== -1)
                    continue;
                seen.push(depLoad);
                deepDepsInstantiatePromises.push(instantiateDeps(loader, depLoad, depLoad.linkRecord, registry, state, seen));
            }
            return Promise.all(deepDepsInstantiatePromises);
        })
            .then(function () {
            link.linked = true;
            if (loader.trace)
                traceLoad(loader, load, link);
            return load;
        })["catch"](function (err) {
            err = LoaderError__Check_error_message_for_loader_stack(err, 'Loading ' + load.key);
            link.error = link.error || err;
            throw err;
        });
    }
    function clearLoadErrors(loader, load) {
        var state = loader[REGISTER_INTERNAL];
        if (state.records[load.key] === load)
            delete state.records[load.key];
        var link = load.linkRecord;
        if (!link)
            return;
        if (link.dependencyInstantiations)
            link.dependencyInstantiations.forEach(function (depLoad, index) {
                if (!depLoad || depLoad instanceof ModuleNamespace)
                    return;
                if (depLoad.linkRecord) {
                    if (depLoad.linkRecord.error) {
                        if (state.records[depLoad.key] === depLoad)
                            clearLoadErrors(loader, depLoad);
                    }
                    if (link.setters && depLoad.importerSetters) {
                        var setterIndex = depLoad.importerSetters.indexOf(link.setters[index]);
                        depLoad.importerSetters.splice(setterIndex, 1);
                    }
                }
            });
    }
    RegisterLoader$1.prototype.register = function (key, deps, declare) {
        var state = this[REGISTER_INTERNAL];
        if (declare === undefined) {
            state.lastRegister = [key, deps, undefined];
        }
        else {
            var load = state.records[key] || createLoadRecord(state, key, undefined);
            load.registration = [deps, declare, undefined];
        }
    };
    RegisterLoader$1.prototype.registerDynamic = function (key, deps, executingRequire, execute) {
        var state = this[REGISTER_INTERNAL];
        if (typeof key !== 'string') {
            state.lastRegister = [key, deps, executingRequire];
        }
        else {
            var load = state.records[key] || createLoadRecord(state, key, undefined);
            load.registration = [deps, executingRequire, execute];
        }
    };
    function ContextualLoader(loader, key) {
        this.loader = loader;
        this.key = this.id = key;
    }
    ContextualLoader.prototype["import"] = function (key) {
        if (this.loader.trace)
            traceDynamicLoad(this.loader, this.key, key);
        return this.loader["import"](key, this.key);
    };
    function ensureEvaluate(loader, load, link, registry, state, seen) {
        if (load.module)
            return load.module;
        if (link.error)
            throw link.error;
        if (seen && seen.indexOf(load) !== -1)
            return load.linkRecord.moduleObj;
        var err = doEvaluate(loader, load, link, registry, state, link.setters ? [] : seen || []);
        if (err) {
            clearLoadErrors(loader, load);
            throw err;
        }
        return load.module;
    }
    function makeDynamicRequire(loader, key, dependencies, dependencyInstantiations, registry, state, seen) {
        return function (name) {
            for (var i = 0; i < dependencies.length; i++) {
                if (dependencies[i] === name) {
                    var depLoad = dependencyInstantiations[i];
                    var module;
                    if (depLoad instanceof ModuleNamespace)
                        module = depLoad;
                    else
                        module = ensureEvaluate(loader, depLoad, depLoad.linkRecord, registry, state, seen);
                    return module.__useDefault ? module["default"] : module;
                }
            }
            throw new Error('Module ' + name + ' not declared as a System.registerDynamic dependency of ' + key);
        };
    }
    function doEvaluate(loader, load, link, registry, state, seen) {
        seen.push(load);
        var err;
        if (link.setters) {
            var depLoad, depLink;
            for (var i = 0; i < link.dependencies.length; i++) {
                depLoad = link.dependencyInstantiations[i];
                if (depLoad instanceof ModuleNamespace)
                    continue;
                depLink = depLoad.linkRecord;
                if (depLink && seen.indexOf(depLoad) === -1) {
                    if (depLink.error)
                        err = depLink.error;
                    else
                        err = doEvaluate(loader, depLoad, depLink, registry, state, depLink.setters ? seen : []);
                }
                if (err)
                    return link.error = LoaderError__Check_error_message_for_loader_stack(err, 'Evaluating ' + load.key);
            }
        }
        if (link.execute) {
            if (link.setters) {
                err = declarativeExecute(link.execute);
            }
            else {
                var module = { id: load.key };
                var moduleObj = link.moduleObj;
                Object.defineProperty(module, 'exports', {
                    configurable: true,
                    set: function (exports) {
                        moduleObj["default"] = exports;
                    },
                    get: function () {
                        return moduleObj["default"];
                    }
                });
                var require = makeDynamicRequire(loader, load.key, link.dependencies, link.dependencyInstantiations, registry, state, seen);
                if (!link.executingRequire)
                    for (var i = 0; i < link.dependencies.length; i++)
                        require(link.dependencies[i]);
                err = dynamicExecute(link.execute, require, moduleObj["default"], module);
                if (module.exports !== moduleObj["default"])
                    moduleObj["default"] = module.exports;
                var moduleDefault = moduleObj["default"];
                if (moduleDefault && moduleDefault.__esModule) {
                    if (moduleObj.__useDefault)
                        delete moduleObj.__useDefault;
                    for (var p in moduleDefault) {
                        if (Object.hasOwnProperty.call(moduleDefault, p))
                            moduleObj[p] = moduleDefault[p];
                    }
                    moduleObj.__esModule = true;
                }
            }
        }
        if (err)
            return link.error = LoaderError__Check_error_message_for_loader_stack(err, 'Evaluating ' + load.key);
        registry[load.key] = load.module = new ModuleNamespace(link.moduleObj);
        if (!link.setters) {
            if (load.importerSetters)
                for (var i = 0; i < load.importerSetters.length; i++)
                    load.importerSetters[i](load.module);
            load.importerSetters = undefined;
        }
        load.linkRecord = undefined;
    }
    var nullContext = {};
    if (Object.freeze)
        Object.freeze(nullContext);
    function declarativeExecute(execute) {
        try {
            execute.call(nullContext);
        }
        catch (e) {
            return e;
        }
    }
    function dynamicExecute(execute, require, exports, module) {
        try {
            var output = execute.call(envGlobal, require, exports, module);
            if (output !== undefined)
                module.exports = output;
        }
        catch (e) {
            return e;
        }
    }
    var resolvedPromise = Promise.resolve();
    var emptyModule = new ModuleNamespace({});
    var hasStringTag;
    function isModule(m) {
        if (hasStringTag === undefined)
            hasStringTag = typeof Symbol !== 'undefined' && !!Symbol.toStringTag;
        return m instanceof ModuleNamespace || hasStringTag && Object.prototype.toString.call(m) == '[object Module]';
    }
    var CONFIG = createSymbol('loader-config');
    var PLAIN_RESOLVE = createSymbol('plain-resolve');
    var PLAIN_RESOLVE_SYNC = createSymbol('plain-resolve-sync');
    var isWorker = typeof window === 'undefined' && typeof self !== 'undefined' && typeof importScripts !== 'undefined';
    function extend(a, b) {
        for (var p in b) {
            if (!Object.hasOwnProperty.call(b, p))
                continue;
            a[p] = b[p];
        }
        return a;
    }
    var supportsPreload = false;
    var supportsPrefetch = false;
    if (isBrowser)
        (function () {
            var relList = document.createElement('link').relList;
            if (relList && relList.supports) {
                supportsPrefetch = true;
                try {
                    supportsPreload = relList.supports('preload');
                }
                catch (e) { }
            }
        })();
    function preloadScript(url) {
        if (!supportsPreload && !supportsPrefetch) {
            var preloadImage = new Image();
            preloadImage.src = url;
            return;
        }
        var link = document.createElement('link');
        if (supportsPreload) {
            link.rel = 'preload';
            link.as = 'script';
        }
        else {
            link.rel = 'prefetch';
        }
        link.href = url;
        document.head.appendChild(link);
        document.head.removeChild(link);
    }
    function workerImport(src, resolve, reject) {
        try {
            importScripts(src);
        }
        catch (e) {
            reject(e);
        }
        resolve();
    }
    if (isBrowser) {
        var loadingScripts = [];
        var onerror = window.onerror;
        window.onerror = function globalOnerror(msg, src) {
            for (var i = 0; i < loadingScripts.length; i++) {
                if (loadingScripts[i].src !== src)
                    continue;
                loadingScripts[i].err(msg);
                return;
            }
            if (onerror)
                onerror.apply(this, arguments);
        };
    }
    function scriptLoad(src, crossOrigin, integrity, resolve, reject) {
        src = src.replace(/#/g, '%23');
        if (isWorker)
            return workerImport(src, resolve, reject);
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.charset = 'utf-8';
        script.async = true;
        if (crossOrigin)
            script.crossOrigin = crossOrigin;
        if (integrity)
            script.integrity = integrity;
        script.addEventListener('load', load, false);
        script.addEventListener('error', error, false);
        script.src = src;
        document.head.appendChild(script);
        function load() {
            resolve();
            cleanup();
        }
        function error(err) {
            cleanup();
            reject(new Error('Fetching ' + src));
        }
        function cleanup() {
            for (var i = 0; i < loadingScripts.length; i++) {
                if (loadingScripts[i].err === error) {
                    loadingScripts.splice(i, 1);
                    break;
                }
            }
            script.removeEventListener('load', load, false);
            script.removeEventListener('error', error, false);
            document.head.removeChild(script);
        }
    }
    function applyPaths(baseURL, paths, key) {
        var mapMatch = getMapMatch(paths, key);
        if (mapMatch) {
            var target = paths[mapMatch] + key.substr(mapMatch.length);
            var resolved = resolveIfNotPlain(target, baseURI);
            if (resolved !== undefined)
                return resolved;
            return baseURL + target;
        }
        else if (key.indexOf(':') !== -1) {
            return key;
        }
        else {
            return baseURL + key;
        }
    }
    function checkMap(p) {
        var name = this.name;
        if (name.substr(0, p.length) === p && (name.length === p.length || name[p.length] === '/' || p[p.length - 1] === '/' || p[p.length - 1] === ':')) {
            var curLen = p.split('/').length;
            if (curLen > this.len) {
                this.match = p;
                this.len = curLen;
            }
        }
    }
    function getMapMatch(map, name) {
        if (Object.hasOwnProperty.call(map, name))
            return name;
        var bestMatch = {
            name: name,
            match: undefined,
            len: 0
        };
        Object.keys(map).forEach(checkMap, bestMatch);
        return bestMatch.match;
    }
    function SystemJSProductionLoader$1() {
        RegisterLoader$1.call(this);
        this[CONFIG] = {
            baseURL: baseURI,
            paths: {},
            map: {},
            submap: {},
            bundles: {},
            depCache: {},
            wasm: false
        };
        this.registry.set('@empty', emptyModule);
    }
    SystemJSProductionLoader$1.plainResolve = PLAIN_RESOLVE;
    SystemJSProductionLoader$1.plainResolveSync = PLAIN_RESOLVE_SYNC;
    var systemJSPrototype = SystemJSProductionLoader$1.prototype = Object.create(RegisterLoader$1.prototype);
    systemJSPrototype.constructor = SystemJSProductionLoader$1;
    systemJSPrototype[SystemJSProductionLoader$1.resolve = RegisterLoader$1.resolve] = function (key, parentKey) {
        var resolved = resolveIfNotPlain(key, parentKey || baseURI);
        if (resolved !== undefined)
            return Promise.resolve(resolved);
        var loader = this;
        return resolvedPromise
            .then(function () {
            return loader[PLAIN_RESOLVE](key, parentKey);
        })
            .then(function (resolved) {
            resolved = resolved || key;
            if (loader.registry.has(resolved))
                return resolved;
            var config = loader[CONFIG];
            return applyPaths(config.baseURL, config.paths, resolved);
        });
    };
    systemJSPrototype.newModule = function (bindings) {
        return new ModuleNamespace(bindings);
    };
    systemJSPrototype.isModule = isModule;
    systemJSPrototype.resolveSync = function (key, parentKey) {
        var resolved = resolveIfNotPlain(key, parentKey || baseURI);
        if (resolved !== undefined)
            return resolved;
        resolved = this[PLAIN_RESOLVE_SYNC](key, parentKey) || key;
        if (this.registry.has(resolved))
            return resolved;
        var config = this[CONFIG];
        return applyPaths(config.baseURL, config.paths, resolved);
    };
    systemJSPrototype["import"] = function () {
        return RegisterLoader$1.prototype["import"].apply(this, arguments)
            .then(function (m) {
            return m.__useDefault ? m["default"] : m;
        });
    };
    systemJSPrototype[PLAIN_RESOLVE] = systemJSPrototype[PLAIN_RESOLVE_SYNC] = plainResolve;
    systemJSPrototype[SystemJSProductionLoader$1.instantiate = RegisterLoader$1.instantiate] = coreInstantiate;
    systemJSPrototype.config = function (cfg) {
        var config = this[CONFIG];
        if (cfg.baseURL) {
            config.baseURL = resolveIfNotPlain(cfg.baseURL, baseURI) || resolveIfNotPlain('./' + cfg.baseURL, baseURI);
            if (config.baseURL[config.baseURL.length - 1] !== '/')
                config.baseURL += '/';
        }
        if (cfg.paths)
            extend(config.paths, cfg.paths);
        if (cfg.map) {
            var val = cfg.map;
            for (var p in val) {
                if (!Object.hasOwnProperty.call(val, p))
                    continue;
                var v = val[p];
                if (typeof v === 'string') {
                    config.map[p] = v;
                }
                else {
                    var resolvedParent = resolveIfNotPlain(p, baseURI) || applyPaths(config.baseURL, config.paths, p);
                    extend(config.submap[resolvedParent] || (config.submap[resolvedParent] = {}), v);
                }
            }
        }
        for (var p in cfg) {
            if (!Object.hasOwnProperty.call(cfg, p))
                continue;
            var val = cfg[p];
            switch (p) {
                case 'baseURL':
                case 'paths':
                case 'map':
                    break;
                case 'bundles':
                    for (var p in val) {
                        if (!Object.hasOwnProperty.call(val, p))
                            continue;
                        var v = val[p];
                        for (var i = 0; i < v.length; i++)
                            config.bundles[this.resolveSync(v[i], undefined)] = p;
                    }
                    break;
                case 'depCache':
                    for (var p in val) {
                        if (!Object.hasOwnProperty.call(val, p))
                            continue;
                        var resolvedParent = this.resolveSync(p, undefined);
                        config.depCache[resolvedParent] = (config.depCache[resolvedParent] || []).concat(val[p]);
                    }
                    break;
                case 'wasm':
                    config.wasm = typeof WebAssembly !== 'undefined' && !!val;
                    break;
                default:
                    throw new TypeError('The SystemJS production build does not support the "' + p + '" configuration option.');
            }
        }
    };
    systemJSPrototype.getConfig = function (name) {
        var config = this[CONFIG];
        var map = {};
        extend(map, config.map);
        for (var p in config.submap) {
            if (!Object.hasOwnProperty.call(config.submap, p))
                continue;
            map[p] = extend({}, config.submap[p]);
        }
        var depCache = {};
        for (var p in config.depCache) {
            if (!Object.hasOwnProperty.call(config.depCache, p))
                continue;
            depCache[p] = [].concat(config.depCache[p]);
        }
        var bundles = {};
        for (var p in config.bundles) {
            if (!Object.hasOwnProperty.call(config.bundles, p))
                continue;
            (bundles[config.bundles[p]] = bundles[config.bundles[p]] || []).push(p);
        }
        return {
            baseURL: config.baseURL,
            paths: extend({}, config.paths),
            depCache: depCache,
            bundles: cloneArrays(config.bundles),
            map: map,
            wasm: config.wasm
        };
    };
    systemJSPrototype.register = function (key, deps, declare) {
        if (typeof key === 'string')
            key = this.resolveSync(key, undefined);
        return RegisterLoader$1.prototype.register.call(this, key, deps, declare);
    };
    systemJSPrototype.registerDynamic = function (key, deps, executingRequire, execute) {
        if (typeof key === 'string')
            key = this.resolveSync(key, undefined);
        return RegisterLoader$1.prototype.registerDynamic.call(this, key, deps, executingRequire, execute);
    };
    function plainResolve(key, parentKey) {
        var config = this[CONFIG];
        if (parentKey) {
            var parent = getMapMatch(config.submap, parentKey);
            var submap = config.submap[parent];
            var mapMatch = submap && getMapMatch(submap, key);
            if (mapMatch) {
                var target = submap[mapMatch] + key.substr(mapMatch.length);
                return resolveIfNotPlain(target, parent) || target;
            }
        }
        var map = config.map;
        var mapMatch = getMapMatch(map, key);
        if (mapMatch) {
            var target = map[mapMatch] + key.substr(mapMatch.length);
            return resolveIfNotPlain(target, parent) || target;
        }
    }
    function instantiateIfWasm(loader, url) {
        return fetch(url)
            .then(function (res) {
            if (res.ok)
                return res.arrayBuffer();
            else
                throw new Error('Fetch error: ' + res.status + ' ' + res.statusText);
        })
            .then(function (fetched) {
            var bytes = new Uint8Array(fetched);
            if (bytes[0] === 0 && bytes[1] === 97 && bytes[2] === 115) {
                return WebAssembly.compile(bytes).then(function (m) {
                    var deps = [];
                    var setters = [];
                    var importObj = {};
                    if (WebAssembly.Module.imports)
                        WebAssembly.Module.imports(m).forEach(function (i) {
                            var key = i.module;
                            setters.push(function (m) {
                                importObj[key] = m;
                            });
                            if (deps.indexOf(key) === -1)
                                deps.push(key);
                        });
                    loader.register(deps, function (_export) {
                        return {
                            setters: setters,
                            execute: function () {
                                _export(new WebAssembly.Instance(m, importObj).exports);
                            }
                        };
                    });
                });
            }
            return new TextDecoder('utf-8').decode(bytes);
        });
    }
    function doScriptLoad(url, processAnonRegister) {
        return new Promise(function (resolve, reject) {
            return scriptLoad(url, 'anonymous', undefined, function () {
                processAnonRegister();
                resolve();
            }, reject);
        });
    }
    var loadedBundles = {};
    function coreInstantiate(key, processAnonRegister) {
        var config = this[CONFIG];
        var wasm = config.wasm;
        var bundle = config.bundles[key];
        if (bundle) {
            var loader = this;
            var bundleUrl = loader.resolveSync(bundle, undefined);
            if (loader.registry.has(bundleUrl))
                return;
            return loadedBundles[bundleUrl] || (loadedBundles[bundleUrl] = doScriptLoad(bundleUrl, processAnonRegister).then(function () {
                if (!loader.registry.has(bundleUrl))
                    loader.registry.set(bundleUrl, loader.newModule({}));
                delete loadedBundles[bundleUrl];
            }));
        }
        var depCache = config.depCache[key];
        if (depCache) {
            var preloadFn = wasm ? fetch : preloadScript;
            for (var i = 0; i < depCache.length; i++)
                this.resolve(depCache[i], key).then(preloadFn);
        }
        if (wasm)
            return instantiateIfWasm(this, key)
                .then(function (sourceOrModule) {
                if (typeof sourceOrModule === 'string') {
                    (0, eval)(sourceOrModule + '\n//# sourceURL=' + key);
                }
                processAnonRegister();
            });
        return doScriptLoad(key, processAnonRegister);
    }
    SystemJSProductionLoader$1.prototype.version = "0.20.10 Production";
    var System = new SystemJSProductionLoader$1();
    if (isBrowser || isWorker) {
        envGlobal.SystemJS = System;
        if (!envGlobal.System) {
            envGlobal.System = System;
        }
        else {
            var register = envGlobal.System.register;
            envGlobal.System.register = function () {
                if (register)
                    register.apply(this, arguments);
                System.register.apply(this, arguments);
            };
        }
    }
    if (typeof module !== 'undefined' && module.exports)
        module.exports = System;
}());
!function () {
    "use strict";
    function e(e) { return ut ? Symbol() : "@@" + e; }
    function t(e, t) { ot || (t = t.replace(at ? /file:\/\/\//g : /file:\/\//g, "")); var r, n = (e.message || e) + "\n  " + t; r = ft && e.fileName ? new Error(n, e.fileName, e.lineNumber) : new Error(n); var o = e.originalErr ? e.originalErr.stack : e.stack; return it ? r.stack = n + "\n  " + o : r.stack = o, r.originalErr = e.originalErr || e, r; }
    function r(e, t) { throw new RangeError('Unable to resolve "' + e + '" to ' + t); }
    function n(e, t) { e = e.trim(); var n = t && t.substr(0, t.indexOf(":") + 1), o = e[0], i = e[1]; if ("/" === o && "/" === i)
        return n || r(e, t), n + e; if ("." === o && ("/" === i || "." === i && ("/" === e[2] || 2 === e.length) || 1 === e.length) || "/" === o) {
        var a, s = !n || "/" !== t[n.length];
        if (s ? (void 0 === t && r(e, t), a = t) : "/" === t[n.length + 1] ? "file:" !== n ? (a = t.substr(n.length + 2), a = a.substr(a.indexOf("/") + 1)) : a = t.substr(8) : a = t.substr(n.length + 1), "/" === o) {
            if (!s)
                return t.substr(0, t.length - a.length - 1) + e;
            r(e, t);
        }
        for (var u = a.substr(0, a.lastIndexOf("/") + 1) + e, l = [], c = void 0, f = 0; f < u.length; f++)
            if (void 0 === c)
                if ("." !== u[f])
                    c = f;
                else {
                    if ("." !== u[f + 1] || "/" !== u[f + 2] && f !== u.length - 2) {
                        if ("/" !== u[f + 1] && f !== u.length - 1) {
                            c = f;
                            continue;
                        }
                        f += 1;
                    }
                    else
                        l.pop(), f += 2;
                    s && 0 === l.length && r(e, t), f === u.length && l.push("");
                }
            else
                "/" === u[f] && (l.push(u.substr(c, f - c + 1)), c = void 0);
        return void 0 !== c && l.push(u.substr(c, u.length - c)), t.substr(0, t.length - a.length) + l.join("");
    } var d = e.indexOf(":"); return -1 !== d ? it && ":" === e[1] && "\\" === e[2] && e[0].match(/[a-z]/i) ? "file:///" + e.replace(/\\/g, "/") : e : void 0; }
    function o(e) { if (e.values)
        return e.values(); if ("undefined" == typeof Symbol || !Symbol.iterator)
        throw new Error("Symbol.iterator not supported in this browser"); var t = {}; return t[Symbol.iterator] = function () { var t = Object.keys(e), r = 0; return { next: function () { return r < t.length ? { value: e[t[r++]], done: !1 } : { value: void 0, done: !0 }; } }; }, t; }
    function i() { this.registry = new u; }
    function a(e) { if (!(e instanceof l))
        throw new TypeError("Module instantiation did not return a valid namespace object."); return e; }
    function s(e) { if (void 0 === e)
        throw new RangeError("No resolution found."); return e; }
    function u() { this[mt] = {}, this._registry = mt; }
    function l(e) { Object.defineProperty(this, vt, { value: e }), Object.keys(e).forEach(c, this); }
    function c(e) { Object.defineProperty(this, e, { enumerable: !0, get: function () { return this[vt][e]; } }); }
    function f() { i.call(this); var e = this.registry["delete"]; this.registry["delete"] = function (r) { var n = e.call(this, r); return t.hasOwnProperty(r) && !t[r].linkRecord && delete t[r], n; }; var t = {}; this[yt] = { lastRegister: void 0, records: t }, this.trace = !1; }
    function d(e, t, r) { return e.records[t] = { key: t, registration: r, module: void 0, importerSetters: void 0, linkRecord: { instantiatePromise: void 0, dependencies: void 0, execute: void 0, executingRequire: !1, moduleObj: void 0, setters: void 0, depsInstantiatePromise: void 0, dependencyInstantiations: void 0, linked: !1, error: void 0 } }; }
    function p(e, t, r, n, o) { var i = n[t]; if (i)
        return Promise.resolve(i); var a = o.records[t]; return a && !a.module ? h(e, a, a.linkRecord, n, o) : e.resolve(t, r).then(function (t) { if (i = n[t])
        return i; a = o.records[t], (!a || a.module) && (a = d(o, t, a && a.registration)); var r = a.linkRecord; return r ? h(e, a, r, n, o) : a; }); }
    function g(e, t, r) { return function () { var e = r.lastRegister; return e ? (r.lastRegister = void 0, t.registration = e, !0) : !!t.registration; }; }
    function h(e, r, n, o, i) { return n.instantiatePromise || (n.instantiatePromise = (r.registration ? Promise.resolve() : Promise.resolve().then(function () { return i.lastRegister = void 0, e[bt](r.key, e[bt].length > 1 && g(e, r, i)); })).then(function (t) { if (void 0 !== t) {
        if (!(t instanceof l))
            throw new TypeError("Instantiate did not return a valid Module object.");
        return delete i.records[r.key], e.trace && v(e, r, n), o[r.key] = t;
    } var a = r.registration; if (r.registration = void 0, !a)
        throw new TypeError("Module instantiation did not call an anonymous or correctly named System.register."); return n.dependencies = a[0], r.importerSetters = [], n.moduleObj = {}, a[2] ? (n.moduleObj["default"] = {}, n.moduleObj.__useDefault = !0, n.executingRequire = a[1], n.execute = a[2]) : b(e, r, n, a[1]), n.dependencies.length || (n.linked = !0, e.trace && v(e, r, n)), r; })["catch"](function (e) { throw n.error = t(e, "Instantiating " + r.key); })); }
    function m(e, t, r, n, o, i) { return e.resolve(t, r).then(function (r) { i && (i[t] = r); var a = o.records[r], s = n[r]; if (s && (!a || a.module && s !== a.module))
        return s; (!a || !s && a.module) && (a = d(o, r, a && a.registration)); var u = a.linkRecord; return u ? h(e, a, u, n, o) : a; }); }
    function v(e, t, r) { e.loads = e.loads || {}, e.loads[t.key] = { key: t.key, deps: r.dependencies, dynamicDeps: [], depMap: r.depMap || {} }; }
    function y(e, t, r) { e.loads[t].dynamicDeps.push(r); }
    function b(e, t, r, n) { var o = r.moduleObj, i = t.importerSetters, a = !1, s = n.call(st, function (e, t) { if (!a) {
        if ("object" == typeof e)
            for (var r in e)
                "__useDefault" !== r && (o[r] = e[r]);
        else
            o[e] = t;
        a = !0;
        for (var n = 0; n < i.length; n++)
            i[n](o);
        return a = !1, t;
    } }, new x(e, t.key)); r.setters = s.setters, r.execute = s.execute, s.exports && (r.moduleObj = o = s.exports); }
    function w(e, r, n, o, i, a) { return (n.depsInstantiatePromise || (n.depsInstantiatePromise = Promise.resolve().then(function () { for (var t = Array(n.dependencies.length), a = 0; a < n.dependencies.length; a++)
        t[a] = m(e, n.dependencies[a], r.key, o, i, e.trace && n.depMap || (n.depMap = {})); return Promise.all(t); }).then(function (e) { if (n.dependencyInstantiations = e, n.setters)
        for (var t = 0; t < e.length; t++) {
            var r = n.setters[t];
            if (r) {
                var o = e[t];
                o instanceof l ? r(o) : (r(o.module || o.linkRecord.moduleObj), o.importerSetters && o.importerSetters.push(r));
            }
        } }))).then(function () { for (var t = [], r = 0; r < n.dependencies.length; r++) {
        var s = n.dependencyInstantiations[r], u = s.linkRecord;
        u && !u.linked && -1 === a.indexOf(s) && (a.push(s), t.push(w(e, s, s.linkRecord, o, i, a)));
    } return Promise.all(t); }).then(function () { return n.linked = !0, e.trace && v(e, r, n), r; })["catch"](function (e) { throw e = t(e, "Loading " + r.key), n.error = n.error || e, e; }); }
    function k(e, t) { var r = e[yt]; r.records[t.key] === t && delete r.records[t.key]; var n = t.linkRecord; n && n.dependencyInstantiations && n.dependencyInstantiations.forEach(function (t, o) { if (t && !(t instanceof l) && t.linkRecord && (t.linkRecord.error && r.records[t.key] === t && k(e, t), n.setters && t.importerSetters)) {
        var i = t.importerSetters.indexOf(n.setters[o]);
        t.importerSetters.splice(i, 1);
    } }); }
    function x(e, t) { this.loader = e, this.key = this.id = t; }
    function O(e, t, r, n, o, i) { if (t.module)
        return t.module; if (r.error)
        throw r.error; if (i && -1 !== i.indexOf(t))
        return t.linkRecord.moduleObj; var a = E(e, t, r, n, o, r.setters ? [] : i || []); if (a)
        throw k(e, t), a; return t.module; }
    function S(e, t, r, n, o, i, a) { return function (s) { for (var u = 0; u < r.length; u++)
        if (r[u] === s) {
            var c, f = n[u];
            return c = f instanceof l ? f : O(e, f, f.linkRecord, o, i, a), c.__useDefault ? c["default"] : c;
        } throw new Error("Module " + s + " not declared as a System.registerDynamic dependency of " + t); }; }
    function E(e, r, n, o, i, a) { a.push(r); var s; if (n.setters)
        for (var u, c, f = 0; f < n.dependencies.length; f++)
            if (u = n.dependencyInstantiations[f], !(u instanceof l) && (c = u.linkRecord, c && -1 === a.indexOf(u) && (s = c.error ? c.error : E(e, u, c, o, i, c.setters ? a : [])), s))
                return n.error = t(s, "Evaluating " + r.key); if (n.execute)
        if (n.setters)
            s = j(n.execute);
        else {
            var d = { id: r.key }, p = n.moduleObj;
            Object.defineProperty(d, "exports", { configurable: !0, set: function (e) { p["default"] = e; }, get: function () { return p["default"]; } });
            var g = S(e, r.key, n.dependencies, n.dependencyInstantiations, o, i, a);
            if (!n.executingRequire)
                for (var f = 0; f < n.dependencies.length; f++)
                    g(n.dependencies[f]);
            s = _(n.execute, g, p["default"], d), d.exports !== p["default"] && (p["default"] = d.exports);
            var h = p["default"];
            if (h && h.__esModule) {
                p.__useDefault && delete p.__useDefault;
                for (var m in h)
                    Object.hasOwnProperty.call(h, m) && (p[m] = h[m]);
                p.__esModule = !0;
            }
        } if (s)
        return n.error = t(s, "Evaluating " + r.key); if (o[r.key] = r.module = new l(n.moduleObj), !n.setters) {
        if (r.importerSetters)
            for (var f = 0; f < r.importerSetters.length; f++)
                r.importerSetters[f](r.module);
        r.importerSetters = void 0;
    } r.linkRecord = void 0; }
    function j(e) { try {
        e.call(wt);
    }
    catch (e) {
        return e;
    } }
    function _(e, t, r, n) { try {
        var o = e.call(st, t, r, n);
        void 0 !== o && (n.exports = o);
    }
    catch (e) {
        return e;
    } }
    function R() { }
    function M(e) { return e instanceof l ? e : new l(e && e.__esModule ? e : { "default": e, __useDefault: !0 }); }
    function P(e) { return void 0 === kt && (kt = "undefined" != typeof Symbol && !!Symbol.toStringTag), e instanceof l || kt && "[object Module]" == Object.prototype.toString.call(e); }
    function C(e, t) { (t || this.warnings && "undefined" != typeof console && console.warn) && console.warn(e); }
    function L(e, t) { if ("." === e[0])
        throw new Error("Node module " + e + " can't be loaded as it is not a package require."); if (!xt) {
        var r = this._nodeRequire("module"), n = t.substr(at ? 8 : 7);
        xt = new r(n), xt.paths = r._nodeModulePaths(n);
    } return xt.require(e); }
    function A(e, t) { for (var r in t)
        Object.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e; }
    function I(e, t) { for (var r in t)
        Object.hasOwnProperty.call(t, r) && void 0 === e[r] && (e[r] = t[r]); return e; }
    function F(e, t, r) { for (var n in t)
        if (Object.hasOwnProperty.call(t, n)) {
            var o = t[n];
            void 0 === e[n] ? e[n] = o : o instanceof Array && e[n] instanceof Array ? e[n] = [].concat(r ? o : e[n]).concat(r ? e[n] : o) : "object" == typeof o && null !== o && "object" == typeof e[n] ? e[n] = (r ? I : A)(A({}, e[n]), o) : r || (e[n] = o);
        } }
    function K(e) { if (!Rt && !Mt) {
        var t = new Image;
        return void (t.src = e);
    } var r = document.createElement("link"); Rt ? (r.rel = "preload", r.as = "script") : r.rel = "prefetch", r.href = e, document.head.appendChild(r), document.head.removeChild(r); }
    function D(e, t, r) { try {
        importScripts(e);
    }
    catch (e) {
        r(e);
    } t(); }
    function q(e, t, r, n, o) { function i() { n(), s(); } function a(t) { s(), o(new Error("Fetching " + e)); } function s() { for (var e = 0; e < Pt.length; e++)
        if (Pt[e].err === a) {
            Pt.splice(e, 1);
            break;
        } u.removeEventListener("load", i, !1), u.removeEventListener("error", a, !1), document.head.removeChild(u); } if (e = e.replace(/#/g, "%23"), _t)
        return D(e, n, o); var u = document.createElement("script"); u.type = "text/javascript", u.charset = "utf-8", u.async = !0, t && (u.crossOrigin = t), r && (u.integrity = r), u.addEventListener("load", i, !1), u.addEventListener("error", a, !1), u.src = e, document.head.appendChild(u); }
    function T(e, t) { for (var r = e.split("."); r.length;)
        t = t[r.shift()]; return t; }
    function U(e, t, r) { var o = N(t, r); if (o) {
        var i = t[o] + r.substr(o.length), a = n(i, nt);
        return void 0 !== a ? a : e + i;
    } return -1 !== r.indexOf(":") ? r : e + r; }
    function z(e) { var t = this.name; if (t.substr(0, e.length) === e && (t.length === e.length || "/" === t[e.length] || "/" === e[e.length - 1] || ":" === e[e.length - 1])) {
        var r = e.split("/").length;
        r > this.len && (this.match = e, this.len = r);
    } }
    function N(e, t) { if (Object.hasOwnProperty.call(e, t))
        return t; var r = { name: t, match: void 0, len: 0 }; return Object.keys(e).forEach(z, r), r.match; }
    function J(e, t, r, n) { if ("file:///" === e.substr(0, 8)) {
        if (Ft)
            return $(e, t, r, n);
        throw new Error("Unable to fetch file URLs in this environment.");
    } e = e.replace(/#/g, "%23"); var o = { headers: { Accept: "application/x-es-module, */*" } }; return r && (o.integrity = r), t && ("string" == typeof t && (o.headers.Authorization = t), o.credentials = "include"), fetch(e, o).then(function (e) { if (e.ok)
        return n ? e.arrayBuffer() : e.text(); throw new Error("Fetch error: " + e.status + " " + e.statusText); }); }
    function $(e, t, r, n) { return new Promise(function (r, o) { function i() { r(n ? s.response : s.responseText); } function a() { o(new Error("XHR error: " + (s.status ? " (" + s.status + (s.statusText ? " " + s.statusText : "") + ")" : "") + " loading " + e)); } e = e.replace(/#/g, "%23"); var s = new XMLHttpRequest; n && (s.responseType = "arraybuffer"), s.onreadystatechange = function () { 4 === s.readyState && (0 == s.status ? s.response ? i() : (s.addEventListener("error", a), s.addEventListener("load", i)) : 200 === s.status ? i() : a()); }, s.open("GET", e, !0), s.setRequestHeader && (s.setRequestHeader("Accept", "application/x-es-module, */*"), t && ("string" == typeof t && s.setRequestHeader("Authorization", t), s.withCredentials = !0)), s.send(null); }); }
    function B(e, t, r, n) { return "file:///" != e.substr(0, 8) ? Promise.reject(new Error('Unable to fetch "' + e + '". Only file URLs of the form file:/// supported running in Node.')) : (Lt = Lt || require("fs"), e = at ? e.replace(/\//g, "\\").substr(8) : e.substr(7), new Promise(function (t, r) { Lt.readFile(e, function (e, o) { if (e)
        return r(e); if (n)
        t(o);
    else {
        var i = o + "";
        "\ufeff" === i[0] && (i = i.substr(1)), t(i);
    } }); })); }
    function W() { throw new Error("No fetch method is defined for this environment."); }
    function G() { return { pluginKey: void 0, pluginArgument: void 0, pluginModule: void 0, packageKey: void 0, packageConfig: void 0, load: void 0 }; }
    function H(e, t, r) { var n = G(); if (r) {
        var o;
        t.pluginFirst ? -1 !== (o = r.lastIndexOf("!")) && (n.pluginArgument = n.pluginKey = r.substr(0, o)) : -1 !== (o = r.indexOf("!")) && (n.pluginArgument = n.pluginKey = r.substr(o + 1)), n.packageKey = N(t.packages, r), n.packageKey && (n.packageConfig = t.packages[n.packageKey]);
    } return n; }
    function Z(e, t) { var r = this[Et], n = G(), o = H(this, r, t), i = this; return Promise.resolve().then(function () { var r = e.lastIndexOf("#?"); if (-1 === r)
        return Promise.resolve(e); var n = he.call(i, e.substr(r + 2)); return me.call(i, n, t, !0).then(function (t) { return t ? e.substr(0, r) : "@empty"; }); }).then(function (e) { var a = ne(r.pluginFirst, e); return a ? (n.pluginKey = a.plugin, Promise.all([ee.call(i, r, a.argument, o && o.pluginArgument || t, n, o, !0), i.resolve(a.plugin, t)]).then(function (e) { if (n.pluginArgument = e[0], n.pluginKey = e[1], n.pluginArgument === n.pluginKey)
        throw new Error("Plugin " + n.pluginArgument + " cannot load itself, make sure it is excluded from any wildcard meta configuration via a custom loader: false rule."); return oe(r.pluginFirst, e[0], e[1]); })) : ee.call(i, r, e, o && o.pluginArgument || t, n, o, !1); }).then(function (e) { return ve.call(i, e, t, o); }).then(function (e) { return re.call(i, r, e, n), n.pluginKey || !n.load.loader ? e : i.resolve(n.load.loader, e).then(function (t) { return n.pluginKey = t, n.pluginArgument = e, e; }); }).then(function (e) { return i[jt][e] = n, e; }); }
    function X(e, t) { var r = ne(e.pluginFirst, t); if (r) {
        var n = X.call(this, e, r.plugin);
        return oe(e.pluginFirst, Q.call(this, e, r.argument, void 0, !1, !1), n);
    } return Q.call(this, e, t, void 0, !1, !1); }
    function Y(e, t) { var r = this[Et], n = G(), o = o || H(this, r, t), i = ne(r.pluginFirst, e); return i ? (n.pluginKey = Y.call(this, i.plugin, t), oe(r.pluginFirst, V.call(this, r, i.argument, o.pluginArgument || t, n, o, !!n.pluginKey), n.pluginKey)) : V.call(this, r, e, o.pluginArgument || t, n, o, !!n.pluginKey); }
    function Q(e, t, r, o, i) { var a = n(t, r || nt); if (a)
        return U(e.baseURL, e.paths, a); if (o) {
        var s = N(e.map, t);
        if (s && (t = e.map[s] + t.substr(s.length), a = n(t, nt)))
            return U(e.baseURL, e.paths, a);
    } if (this.registry.has(t))
        return t; if ("@node/" === t.substr(0, 6))
        return t; var u = i && "/" !== t[t.length - 1], l = U(e.baseURL, e.paths, u ? t + "/" : t); return u ? l.substr(0, l.length - 1) : l; }
    function V(e, t, r, n, o, i) { if (o && o.packageConfig && "." !== t[0]) {
        var a = o.packageConfig.map, s = a && N(a, t);
        if (s && "string" == typeof a[s]) {
            var u = ue(this, e, o.packageConfig, o.packageKey, s, t, n, i);
            if (u)
                return u;
        }
    } var l = Q.call(this, e, t, r, !0, !0), c = de(e, l); if (n.packageKey = c && c.packageKey || N(e.packages, l), !n.packageKey)
        return l; if (-1 !== e.packageConfigKeys.indexOf(l))
        return n.packageKey = void 0, l; n.packageConfig = e.packages[n.packageKey] || (e.packages[n.packageKey] = Oe()); var f = l.substr(n.packageKey.length + 1); return ae(this, e, n.packageConfig, n.packageKey, f, n, i); }
    function ee(e, t, r, n, o, i) { var a = this; return Ot.then(function () { if (o && o.packageConfig && "./" !== t.substr(0, 2)) {
        var r = o.packageConfig.map, s = r && N(r, t);
        if (s)
            return ce(a, e, o.packageConfig, o.packageKey, s, t, n, i);
    } return Ot; }).then(function (o) { if (o)
        return o; var s = Q.call(a, e, t, r, !0, !0), u = de(e, s); if (n.packageKey = u && u.packageKey || N(e.packages, s), !n.packageKey)
        return Promise.resolve(s); if (-1 !== e.packageConfigKeys.indexOf(s))
        return n.packageKey = void 0, n.load = te(), n.load.format = "json", n.load.loader = "", Promise.resolve(s); n.packageConfig = e.packages[n.packageKey] || (e.packages[n.packageKey] = Oe()); var l = u && !n.packageConfig.configured; return (l ? pe(a, e, u.configPath, n) : Ot).then(function () { var t = s.substr(n.packageKey.length + 1); return le(a, e, n.packageConfig, n.packageKey, t, n, i); }); }); }
    function te() { return { extension: "", deps: void 0, format: void 0, loader: void 0, scriptLoad: void 0, globals: void 0, nonce: void 0, integrity: void 0, sourceMap: void 0, exports: void 0, encapsulateGlobal: !1, crossOrigin: void 0, cjsRequireDetection: !0, cjsDeferDepsExecute: !1, esModule: !1 }; }
    function re(e, t, r) { r.load = r.load || te(); var n, o = 0; for (var i in e.meta)
        if (n = i.indexOf("*"), -1 !== n && i.substr(0, n) === t.substr(0, n) && i.substr(n + 1) === t.substr(t.length - i.length + n + 1)) {
            var a = i.split("/").length;
            a > o && (o = a), F(r.load, e.meta[i], o !== a);
        } if (e.meta[t] && F(r.load, e.meta[t], !1), r.packageKey) {
        var s = t.substr(r.packageKey.length + 1), u = {};
        if (r.packageConfig.meta) {
            var o = 0;
            ge(r.packageConfig.meta, s, function (e, t, r) { r > o && (o = r), F(u, t, r && o > r); }), F(r.load, u, !1);
        }
        !r.packageConfig.format || r.pluginKey || r.load.loader || (r.load.format = r.load.format || r.packageConfig.format);
    } }
    function ne(e, t) { var r, n, o = e ? t.indexOf("!") : t.lastIndexOf("!"); return -1 !== o ? (e ? (r = t.substr(o + 1), n = t.substr(0, o)) : (r = t.substr(0, o), n = t.substr(o + 1) || r.substr(r.lastIndexOf(".") + 1)), { argument: r, plugin: n }) : void 0; }
    function oe(e, t, r) { return e ? r + "!" + t : t + "!" + r; }
    function ie(e, t, r, n, o) { if (!n || !t.defaultExtension || "/" === n[n.length - 1] || o)
        return n; var i = !1; if (t.meta && ge(t.meta, n, function (e, t, r) { return 0 === r || e.lastIndexOf("*") !== e.length - 1 ? i = !0 : void 0; }), !i && e.meta && ge(e.meta, r + "/" + n, function (e, t, r) { return 0 === r || e.lastIndexOf("*") !== e.length - 1 ? i = !0 : void 0; }), i)
        return n; var a = "." + t.defaultExtension; return n.substr(n.length - a.length) !== a ? n + a : n; }
    function ae(e, t, r, n, o, i, a) { if (!o) {
        if (!r.main)
            return n;
        o = "./" === r.main.substr(0, 2) ? r.main.substr(2) : r.main;
    } if (r.map) {
        var s = "./" + o, u = N(r.map, s);
        if (u || (s = "./" + ie(e, r, n, o, a), s !== "./" + o && (u = N(r.map, s))), u) {
            var l = ue(e, t, r, n, u, s, i, a);
            if (l)
                return l;
        }
    } return n + "/" + ie(e, r, n, o, a); }
    function se(e, t, r) { return t.substr(0, e.length) === e && r.length > e.length ? !1 : !0; }
    function ue(e, t, r, n, o, i, a, s) { "/" === i[i.length - 1] && (i = i.substr(0, i.length - 1)); var u = r.map[o]; if ("object" == typeof u)
        throw new Error("Synchronous conditional normalization not supported sync normalizing " + o + " in " + n); if (se(o, u, i) && "string" == typeof u)
        return V.call(this, t, u + i.substr(o.length), n + "/", a, a, s); }
    function le(e, t, r, n, o, i, a) { if (!o) {
        if (!r.main)
            return Promise.resolve(n);
        o = "./" === r.main.substr(0, 2) ? r.main.substr(2) : r.main;
    } var s, u; return r.map && (s = "./" + o, u = N(r.map, s), u || (s = "./" + ie(e, r, n, o, a), s !== "./" + o && (u = N(r.map, s)))), (u ? ce(e, t, r, n, u, s, i, a) : Ot).then(function (t) { return t ? Promise.resolve(t) : Promise.resolve(n + "/" + ie(e, r, n, o, a)); }); }
    function ce(e, t, r, n, o, i, a, s) { "/" === i[i.length - 1] && (i = i.substr(0, i.length - 1)); var u = r.map[o]; if ("string" == typeof u)
        return se(o, u, i) ? ee.call(e, t, u + i.substr(o.length), n + "/", a, a, s).then(function (t) { return ve.call(e, t, n + "/", a); }) : Ot; var l = [], c = []; for (var d in u) {
        var p = he(d);
        c.push({ condition: p, map: u[d] }), l.push(f.prototype["import"].call(e, p.module, n));
    } return Promise.all(l).then(function (e) { for (var t = 0; t < c.length; t++) {
        var r = c[t].condition, n = T(r.prop, e[t].__useDefault ? e[t]["default"] : e[t]);
        if (!r.negate && n || r.negate && !n)
            return c[t].map;
    } }).then(function (r) { return r ? se(o, r, i) ? ee.call(e, t, r + i.substr(o.length), n + "/", a, a, s).then(function (t) { return ve.call(e, t, n + "/", a); }) : Ot : void 0; }); }
    function fe(e) { var t = e.lastIndexOf("*"), r = Math.max(t + 1, e.lastIndexOf("/")); return { length: r, regEx: new RegExp("^(" + e.substr(0, r).replace(/[.+?^${}()|[\]\\]/g, "\\$&").replace(/\*/g, "[^\\/]+") + ")(\\/|$)"), wildcard: -1 !== t }; }
    function de(e, t) { for (var r, n, o = !1, i = 0; i < e.packageConfigPaths.length; i++) {
        var a = e.packageConfigPaths[i], s = Dt[a] || (Dt[a] = fe(a));
        if (!(t.length < s.length)) {
            var u = t.match(s.regEx);
            !u || r && (o && s.wildcard || !(r.length < u[1].length)) || (r = u[1], o = !s.wildcard, n = r + a.substr(s.length));
        }
    } return r ? { packageKey: r, configPath: n } : void 0; }
    function pe(e, r, n, o, i) { var a = e.pluginLoader || e; return -1 === r.packageConfigKeys.indexOf(n) && r.packageConfigKeys.push(n), a["import"](n).then(function (e) { Se(o.packageConfig, e, o.packageKey, !0, r), o.packageConfig.configured = !0; })["catch"](function (e) { throw t(e, "Unable to fetch package configuration file " + n); }); }
    function ge(e, t, r) { var n; for (var o in e) {
        var i = "./" === o.substr(0, 2) ? "./" : "";
        if (i && (o = o.substr(2)), n = o.indexOf("*"), -1 !== n && o.substr(0, n) === t.substr(0, n) && o.substr(n + 1) === t.substr(t.length - o.length + n + 1) && r(o, e[i + o], o.split("/").length))
            return;
    } var a = e[t] && Object.hasOwnProperty.call(e, t) ? e[t] : e["./" + t]; a && r(a, a, 0); }
    function he(e) { var t, r, n, n, o = e.lastIndexOf("|"); return -1 !== o ? (t = e.substr(o + 1), r = e.substr(0, o), "~" === t[0] && (n = !0, t = t.substr(1))) : (n = "~" === e[0], t = "default", r = e.substr(n), -1 !== qt.indexOf(r) && (t = r, r = null)), { module: r || "@system-env", prop: t, negate: n }; }
    function me(e, t, r) { return f.prototype["import"].call(this, e.module, t).then(function (t) { var n = T(e.prop, t); if (r && "boolean" != typeof n)
        throw new TypeError("Condition did not resolve to a boolean."); return e.negate ? !n : n; }); }
    function ve(e, t, r) { var n = e.match(Tt); if (!n)
        return Promise.resolve(e); var o = he.call(this, n[0].substr(2, n[0].length - 3)); return me.call(this, o, t, !1).then(function (r) { if ("string" != typeof r)
        throw new TypeError("The condition value for " + e + " doesn't resolve to a string."); if (-1 !== r.indexOf("/"))
        throw new TypeError("Unabled to interpolate conditional " + e + (t ? " in " + t : "") + "\n	The condition value " + r + ' cannot contain a "/" separator.'); return e.replace(Tt, r); }); }
    function ye(e, t, r) { for (var n = 0; n < Ut.length; n++) {
        var o = Ut[n];
        t[o] && Or[o.substr(0, o.length - 6)] && r(t[o]);
    } }
    function be(e, t) { var r = {}; for (var n in e) {
        var o = e[n];
        t > 1 ? o instanceof Array ? r[n] = [].concat(o) : "object" == typeof o ? r[n] = be(o, t - 1) : "packageConfig" !== n && (r[n] = o) : r[n] = o;
    } return r; }
    function we(e, t) { var r = e[t]; return r instanceof Array ? e[t].concat([]) : "object" == typeof r ? be(r, 3) : e[t]; }
    function ke(e) { if (e) {
        if (-1 !== Sr.indexOf(e))
            return we(this[Et], e);
        throw new Error('"' + e + '" is not a valid configuration name. Must be one of ' + Sr.join(", ") + ".");
    } for (var t = {}, r = 0; r < Sr.length; r++) {
        var n = Sr[r], o = we(this[Et], n);
        void 0 !== o && (t[n] = o);
    } return t; }
    function xe(e, t) { var r = this, o = this[Et]; if ("warnings" in e && (o.warnings = e.warnings), "wasm" in e && (o.wasm = "undefined" != typeof WebAssembly && e.wasm), ("production" in e || "build" in e) && tt.call(r, !!e.production, !!(e.build || Or && Or.build)), !t) {
        var i;
        ye(r, e, function (e) { i = i || e.baseURL; }), i = i || e.baseURL, i && (o.baseURL = n(i, nt) || n("./" + i, nt), "/" !== o.baseURL[o.baseURL.length - 1] && (o.baseURL += "/")), e.paths && A(o.paths, e.paths), ye(r, e, function (e) { e.paths && A(o.paths, e.paths); });
        for (var a in o.paths)
            -1 !== o.paths[a].indexOf("*") && (C.call(o, "Path config " + a + " -> " + o.paths[a] + " is no longer supported as wildcards are deprecated."), delete o.paths[a]);
    } if (e.defaultJSExtensions && C.call(o, "The defaultJSExtensions configuration option is deprecated.\n  Use packages defaultExtension instead.", !0), "boolean" == typeof e.pluginFirst && (o.pluginFirst = e.pluginFirst), e.map)
        for (var a in e.map) {
            var s = e.map[a];
            if ("string" == typeof s) {
                var u = Q.call(r, o, s, void 0, !1, !1);
                "/" === u[u.length - 1] && ":" !== a[a.length - 1] && "/" !== a[a.length - 1] && (u = u.substr(0, u.length - 1)), o.map[a] = u;
            }
            else {
                var l = Q.call(r, o, "/" !== a[a.length - 1] ? a + "/" : a, void 0, !0, !0);
                l = l.substr(0, l.length - 1);
                var c = o.packages[l];
                c || (c = o.packages[l] = Oe(), c.defaultExtension = ""), Se(c, { map: s }, l, !1, o);
            }
        } if (e.packageConfigPaths) {
        for (var f = [], d = 0; d < e.packageConfigPaths.length; d++) {
            var p = e.packageConfigPaths[d], g = Math.max(p.lastIndexOf("*") + 1, p.lastIndexOf("/")), h = Q.call(r, o, p.substr(0, g), void 0, !1, !1);
            f[d] = h + p.substr(g);
        }
        o.packageConfigPaths = f;
    } if (e.bundles)
        for (var a in e.bundles) {
            for (var m = [], d = 0; d < e.bundles[a].length; d++)
                m.push(r.normalizeSync(e.bundles[a][d]));
            o.bundles[a] = m;
        } if (e.packages)
        for (var a in e.packages) {
            if (a.match(/^([^\/]+:)?\/\/$/))
                throw new TypeError('"' + a + '" is not a valid package name.');
            var l = Q.call(r, o, "/" !== a[a.length - 1] ? a + "/" : a, void 0, !0, !0);
            l = l.substr(0, l.length - 1), Se(o.packages[l] = o.packages[l] || Oe(), e.packages[a], l, !1, o);
        } if (e.depCache)
        for (var a in e.depCache)
            o.depCache[r.normalizeSync(a)] = [].concat(e.depCache[a]); if (e.meta)
        for (var a in e.meta)
            if ("*" === a[0])
                A(o.meta[a] = o.meta[a] || {}, e.meta[a]);
            else {
                var v = Q.call(r, o, a, void 0, !0, !0);
                A(o.meta[v] = o.meta[v] || {}, e.meta[a]);
            } "transpiler" in e && (o.transpiler = e.transpiler); for (var y in e)
        -1 === Sr.indexOf(y) && -1 === Ut.indexOf(y) && (r[y] = e[y]); ye(r, e, function (e) { r.config(e, !0); }); }
    function Oe() { return { defaultExtension: void 0, main: void 0, format: void 0, meta: void 0, map: void 0, packageConfig: void 0, configured: !1 }; }
    function Se(e, t, r, n, o) { for (var i in t)
        "main" === i || "format" === i || "defaultExtension" === i || "configured" === i ? n && void 0 !== e[i] || (e[i] = t[i]) : "map" === i ? (n ? I : A)(e.map = e.map || {}, t.map) : "meta" === i ? (n ? I : A)(e.meta = e.meta || {}, t.meta) : Object.hasOwnProperty.call(t, i) && C.call(o, '"' + i + '" is not a valid package configuration option in package ' + r); return void 0 === e.defaultExtension && (e.defaultExtension = "js"), void 0 === e.main && e.map && e.map["."] ? (e.main = e.map["."], delete e.map["."]) : "object" == typeof e.main && (e.map = e.map || {}, e.map["./@main"] = e.main, e.main["default"] = e.main["default"] || "./", e.main = "@main"), e; }
    function Ee(e) { return zt ? Wt + new Buffer(e).toString("base64") : "undefined" != typeof btoa ? Wt + btoa(unescape(encodeURIComponent(e))) : ""; }
    function je(e, t, r, n) { var o = e.lastIndexOf("\n"); if (t) {
        if ("object" != typeof t)
            throw new TypeError("load.metadata.sourceMap must be set to an object.");
        t = JSON.stringify(t);
    } return (n ? "(function(System, SystemJS) {" : "") + e + (n ? "\n})(System, System);" : "") + ("\n//# sourceURL=" != e.substr(o, 15) ? "\n//# sourceURL=" + r + (t ? "!transpiled" : "") : "") + (t && Ee(t) || ""); }
    function _e(e, t, r, n, o) { Nt || (Nt = document.head || document.body || document.documentElement); var i = document.createElement("script"); i.text = je(t, r, n, !1); var a, s = window.onerror; return window.onerror = function (e) { a = addToError(e, "Evaluating " + n), s && s.apply(this, arguments); }, Re(e), o && i.setAttribute("nonce", o), Nt.appendChild(i), Nt.removeChild(i), Me(), window.onerror = s, a ? a : void 0; }
    function Re(e) { 0 == Gt++ && (Bt = st.System), st.System = st.SystemJS = e; }
    function Me() { 0 == --Gt && (st.System = st.SystemJS = Bt); }
    function Pe(e, t, r, n, o, i, a) { if (t) {
        if (i && Ht)
            return _e(e, t, r, n, i);
        try {
            Re(e), !Jt && e._nodeRequire && (Jt = e._nodeRequire("vm"), $t = Jt.runInThisContext("typeof System !== 'undefined' && System") === e), $t ? Jt.runInThisContext(je(t, r, n, !a), { filename: n + (r ? "!transpiled" : "") }) : (0, eval)(je(t, r, n, !a)), Me();
        }
        catch (e) {
            return Me(), e;
        }
    } }
    function Ce(e) { return "file:///" === e.substr(0, 8) ? e.substr(7 + !!at) : Zt && e.substr(0, Zt.length) === Zt ? e.substr(Zt.length) : e; }
    function Le(e, t) { return Ce(this.normalizeSync(e, t)); }
    function Ae(e) { var t, r = e.lastIndexOf("!"); t = -1 !== r ? e.substr(0, r) : e; var n = t.split("/"); return n.pop(), n = n.join("/"), { filename: Ce(t), dirname: Ce(n) }; }
    function Ie(e) { function t(e, t) { for (var r = 0; r < e.length; r++)
        if (e[r][0] < t.index && e[r][1] > t.index)
            return !0; return !1; } It.lastIndex = tr.lastIndex = rr.lastIndex = 0; var r, n = [], o = [], i = []; if (e.length / e.split("\n").length < 200) {
        for (; r = rr.exec(e);)
            o.push([r.index, r.index + r[0].length]);
        for (; r = tr.exec(e);)
            t(o, r) || i.push([r.index + r[1].length, r.index + r[0].length - 1]);
    } for (; r = It.exec(e);)
        if (!t(o, r) && !t(i, r)) {
            var a = r[1].substr(1, r[1].length - 2);
            if (a.match(/"|'/))
                continue;
            n.push(a);
        } return n; }
    function Fe(e) { if (-1 === nr.indexOf(e)) {
        try {
            var t = st[e];
        }
        catch (t) {
            nr.push(e);
        }
        this(e, t);
    } }
    function Ke(e) { if ("string" == typeof e)
        return T(e, st); if (!(e instanceof Array))
        throw new Error("Global exports must be a string or array."); for (var t = {}, r = 0; r < e.length; r++)
        t[e[r].split(".").pop()] = T(e[r], st); return t; }
    function De(e, t, r, n) { var o = st.define; st.define = void 0; var i; if (r) {
        i = {};
        for (var a in r)
            i[a] = st[a], st[a] = r[a];
    } return t || (Yt = {}, Object.keys(st).forEach(Fe, function (e, t) { Yt[e] = t; })), function () { var e, r = t ? Ke(t) : {}, a = !!t; if ((!t || n) && Object.keys(st).forEach(Fe, function (o, i) { Yt[o] !== i && void 0 !== i && (n && (st[o] = void 0), t || (r[o] = i, void 0 !== e ? a || e === i || (a = !0) : e = i)); }), r = a ? r : e, i)
        for (var s in i)
            st[s] = i[s]; return st.define = o, r; }; }
    function qe(e, t) { e = e.replace(tr, ""); var r = e.match(ar), n = (r[1].split(",")[t] || "require").replace(sr, ""), o = ur[n] || (ur[n] = new RegExp(or + n + ir, "g")); o.lastIndex = 0; for (var i, a = []; i = o.exec(e);)
        a.push(i[2] || i[3]); return a; }
    function Te(e) { return function (t, r, n) { e(t, r, n), r = n.exports, "object" != typeof r && "function" != typeof r || "__esModule" in r || Object.defineProperty(n.exports, "__esModule", { value: !0 }); }; }
    function Ue(e, t) { Vt = e, cr = t, Qt = void 0, lr = !1; }
    function ze(e) { Qt ? e.registerDynamic(Vt ? Qt[0].concat(Vt) : Qt[0], !1, cr ? Te(Qt[1]) : Qt[1]) : lr && e.registerDynamic([], !1, R); }
    function Ne(e, t) { !e.load.esModule || "object" != typeof t && "function" != typeof t || "__esModule" in t || Object.defineProperty(t, "__esModule", { value: !0 }); }
    function Je(e, t) { var r = this, n = this[Et]; return (Be(n, this, e) || Ot).then(function () { if (!t()) {
        var o = r[jt][e];
        if ("@node/" === e.substr(0, 6)) {
            if (!r._nodeRequire)
                throw new TypeError("Error loading " + e + ". Can only load node core modules in Node.");
            return r.registerDynamic([], !1, function () { return L.call(r, e.substr(6), r.baseURL); }), void t();
        }
        return o.load.scriptLoad ? (o.load.pluginKey || !fr) && (o.load.scriptLoad = !1, C.call(n, 'scriptLoad not supported for "' + e + '"')) : o.load.scriptLoad !== !1 && !o.load.pluginKey && fr && (o.load.deps || o.load.globals || !("system" === o.load.format || "register" === o.load.format || "global" === o.load.format && o.load.exports) || (o.load.scriptLoad = !0)), o.load.scriptLoad ? new Promise(function (n, i) { if ("amd" === o.load.format && st.define !== r.amdDefine)
            throw new Error("Loading AMD with scriptLoad requires setting the global `" + pr + ".define = SystemJS.amdDefine`"); q(e, o.load.crossOrigin, o.load.integrity, function () { if (!t()) {
            o.load.format = "global";
            var e = o.load.exports && Ke(o.load.exports);
            r.registerDynamic([], !1, function () { return Ne(o, e), e; }), t();
        } n(); }, i); }) : $e(r, e, o).then(function () { return We(r, e, o, t, n.wasm); });
    } }).then(function (t) { return delete r[jt][e], t; }); }
    function $e(e, t, r) { return r.pluginKey ? e["import"](r.pluginKey).then(function (e) { r.pluginModule = e, r.pluginLoad = { name: t, address: r.pluginArgument, source: void 0, metadata: r.load }, r.load.deps = r.load.deps || []; }) : Ot; }
    function Be(e, t, r) { var n = e.depCache[r]; if (n)
        for (var o = 0; o < n.length; o++)
            t.normalize(n[o], r).then(K);
    else {
        var i = !1;
        for (var a in e.bundles) {
            for (var o = 0; o < e.bundles[a].length; o++) {
                var s = e.bundles[a][o];
                if (s === r) {
                    i = !0;
                    break;
                }
                if (-1 !== s.indexOf("*")) {
                    var u = s.split("*");
                    if (2 !== u.length) {
                        e.bundles[a].splice(o--, 1);
                        continue;
                    }
                    if (r.substr(0, u[0].length) === u[0] && r.substr(r.length - u[1].length, u[1].length) === u[1]) {
                        i = !0;
                        break;
                    }
                }
            }
            if (i)
                return t["import"](a);
        }
    } }
    function We(e, t, r, n, o) { return r.load.exports && !r.load.format && (r.load.format = "global"), Ot.then(function () { return r.pluginModule && r.pluginModule.locate ? Promise.resolve(r.pluginModule.locate.call(e, r.pluginLoad)).then(function (e) { e && (r.pluginLoad.address = e); }) : void 0; }).then(function () { return r.pluginModule ? (o = !1, r.pluginModule.fetch ? r.pluginModule.fetch.call(e, r.pluginLoad, function (e) { return Kt(e.address, r.load.authorization, r.load.integrity, !1); }) : Kt(r.pluginLoad.address, r.load.authorization, r.load.integrity, !1)) : Kt(t, r.load.authorization, r.load.integrity, o); }).then(function (i) { if (!o || "string" == typeof i)
        return Ge(e, t, i, r, n); var a = new Uint8Array(i); if (0 === a[0] && 97 === a[1] && 115 === a[2])
        return WebAssembly.compile(a).then(function (t) { var r = [], o = [], i = {}; WebAssembly.Module.imports && WebAssembly.Module.imports(t).forEach(function (e) { var t = e.module; o.push(function (e) { i[t] = e; }), -1 === r.indexOf(t) && r.push(t); }), e.register(r, function (e) { return { setters: o, execute: function () { e(new WebAssembly.Instance(t, i).exports); } }; }), n(); }); var s = ot ? new TextDecoder("utf-8").decode(a) : i.toString(); return Ge(e, t, s, r, n); }); }
    function Ge(e, t, r, n, o) {
        return Promise.resolve(r).then(function (t) { return "detect" === n.load.format && (n.load.format = void 0), Ve(t, n), n.pluginModule && n.pluginModule.translate ? (n.pluginLoad.source = t, Promise.resolve(n.pluginModule.translate.call(e, n.pluginLoad, n.traceOpts)).then(function (e) { if (n.load.sourceMap) {
            if ("object" != typeof n.load.sourceMap)
                throw new Error("metadata.load.sourceMap must be set to an object.");
            Xe(n.pluginLoad.address, n.load.sourceMap);
        } return "string" == typeof e ? e : n.pluginLoad.source; })) : t; }).then(function (r) { return "register" === n.load.format || !n.load.format && He(r) ? (n.load.format = "register", r) : "esm" === n.load.format || !n.load.format && r.match(gr) ? (n.load.format = "esm", Ye(e, r, t, n, o)) : r; }).then(function (t) { if ("string" != typeof t || !n.pluginModule || !n.pluginModule.instantiate)
            return t; var r = !1; return n.pluginLoad.source = t, Promise.resolve(n.pluginModule.instantiate.call(e, n.pluginLoad, function (e) { if (t = e.source, n.load = e.metadata, r)
            throw new Error("Instantiate must only be called once."); r = !0; })).then(function (e) { return r ? t : M(e); }); }).then(function (r) {
            if ("string" != typeof r)
                return r;
            n.load.format || (n.load.format = Ze(r));
            var i = !1;
            switch (n.load.format) {
                case "esm":
                case "register":
                case "system":
                    var a = Pe(e, r, n.load.sourceMap, t, n.load.integrity, n.load.nonce, !1);
                    if (a)
                        throw a;
                    if (!o())
                        return St;
                    return;
                case "json": return e.newModule({ "default": JSON.parse(r), __useDefault: !0 });
                case "amd":
                    var s = st.define;
                    st.define = e.amdDefine, Ue(n.load.deps, n.load.esModule);
                    var a = Pe(e, r, n.load.sourceMap, t, n.load.integrity, n.load.nonce, !1);
                    if (i = o(), i || (ze(e), i = o()), st.define = s, a)
                        throw a;
                    break;
                case "cjs":
                    var u = n.load.deps, l = (n.load.deps || []).concat(n.load.cjsRequireDetection ? Ie(r) : []);
                    for (var c in n.load.globals)
                        n.load.globals[c] && l.push(n.load.globals[c]);
                    e.registerDynamic(l, !0, function (o, i, a) { if (o.resolve = function (t) { return Le.call(e, t, a.id); }, a.paths = [], a.require = o, !n.load.cjsDeferDepsExecute && u)
                        for (var s = 0; s < u.length; s++)
                            o(u[s]); var l = Ae(a.id), c = { exports: i, args: [o, i, a, l.filename, l.dirname, st, st] }, f = "(function (require, exports, module, __filename, __dirname, global, GLOBAL"; if (n.load.globals)
                        for (var d in n.load.globals)
                            c.args.push(o(n.load.globals[d])), f += ", " + d; var p = st.define; st.define = void 0, st.__cjsWrapper = c, r = f + ") {" + r.replace(yr, "") + "\n}).apply(__cjsWrapper.exports, __cjsWrapper.args);"; var g = Pe(e, r, n.load.sourceMap, t, n.load.integrity, n.load.nonce, !1); if (g)
                        throw g; Ne(n, i), st.__cjsWrapper = void 0, st.define = p; }), i = o();
                    break;
                case "global":
                    var l = n.load.deps || [];
                    for (var c in n.load.globals) {
                        var f = n.load.globals[c];
                        f && l.push(f);
                    }
                    e.registerDynamic(l, !1, function (o, i, a) { var s; if (n.load.globals) {
                        s = {};
                        for (var u in n.load.globals)
                            n.load.globals[u] && (s[u] = o(n.load.globals[u]));
                    } var l = n.load.exports; l && (r += "\n" + pr + '["' + l + '"] = ' + l + ";"); var c = De(a.id, l, s, n.load.encapsulateGlobal), f = Pe(e, r, n.load.sourceMap, t, n.load.integrity, n.load.nonce, !0); if (f)
                        throw f; var d = c(); return Ne(n, d), d; }), i = o();
                    break;
                default: throw new TypeError('Unknown module format "' + n.load.format + '" for "' + t + '".' + ("es6" === n.load.format ? ' Use "esm" instead here.' : ""));
            }
            if (!i)
                throw new Error("Module " + t + " detected as " + n.load.format + " but didn't execute correctly.");
        });
    }
    function He(e) { var t = e.match(hr); return t && "System.register" === e.substr(t[0].length, 15); }
    function Ze(e) { return e.match(mr) ? "amd" : (vr.lastIndex = 0, It.lastIndex = 0, It.exec(e) || vr.exec(e) ? "cjs" : "global"); }
    function Xe(e, t) { var r = e.split("!")[0]; t.file && t.file != e || (t.file = r + "!transpiled"), (!t.sources || t.sources.length <= 1 && (!t.sources[0] || t.sources[0] === e)) && (t.sources = [r]); }
    function Ye(e, r, n, o, i) { if (!e.transpiler)
        throw new TypeError("Unable to dynamically transpile ES module\n   A loader plugin needs to be configured via `SystemJS.config({ transpiler: 'transpiler-module' })`."); if (o.load.deps) {
        for (var a = "", s = 0; s < o.load.deps.length; s++)
            a += 'import "' + o.load.deps[s] + '"; ';
        r = a + r;
    } return e["import"].call(e, e.transpiler).then(function (t) { if (t.__useDefault && (t = t["default"]), !t.translate)
        throw new Error(e.transpiler + " is not a valid transpiler plugin."); return t === o.pluginModule ? r : ("string" == typeof o.load.sourceMap && (o.load.sourceMap = JSON.parse(o.load.sourceMap)), o.pluginLoad = o.pluginLoad || { name: n, address: n, source: r, metadata: o.load }, o.load.deps = o.load.deps || [], Promise.resolve(t.translate.call(e, o.pluginLoad, o.traceOpts)).then(function (e) { var t = o.load.sourceMap; return t && "object" == typeof t && Xe(n, t), "esm" === o.load.format && He(e) && (o.load.format = "register"), e; })); }, function (e) { throw t(e, "Unable to load transpiler to transpile " + n); }); }
    function Qe(e, t, r) { for (var n, o = t.split("."); o.length > 1;)
        n = o.shift(), e = e[n] = e[n] || {}; n = o.shift(), void 0 === e[n] && (e[n] = r); }
    function Ve(e, t) { var r = e.match(br); if (r)
        for (var n = r[0].match(wr), o = 0; o < n.length; o++) {
            var i = n[o], a = i.length, s = i.substr(0, 1);
            if (";" == i.substr(a - 1, 1) && a--, '"' == s || "'" == s) {
                var u = i.substr(1, i.length - 3), l = u.substr(0, u.indexOf(" "));
                if (l) {
                    var c = u.substr(l.length + 1, u.length - l.length - 1);
                    "deps" === l && (l = "deps[]"), "[]" === l.substr(l.length - 2, 2) ? (l = l.substr(0, l.length - 2), t.load[l] = t.load[l] || [], t.load[l].push(c)) : "use" !== l && Qe(t.load, l, c);
                }
                else
                    t.load[u] = !0;
            }
        } }
    function et() { f.call(this), this._loader = {}, this[jt] = {}, this[Et] = { baseURL: nt, paths: {}, packageConfigPaths: [], packageConfigKeys: [], map: {}, packages: {}, depCache: {}, meta: {}, bundles: {}, production: !1, transpiler: void 0, loadedBundles: {}, warnings: !1, pluginFirst: !1, wasm: !1 }, this.scriptSrc = dr, this._nodeRequire = er, this.registry.set("@empty", St), tt.call(this, !1, !1), Xt(this); }
    function tt(e, t) { this[Et].production = e, this.registry.set("@system-env", Or = this.newModule({ browser: ot, node: !!this._nodeRequire, production: !t && e, dev: t || !e, build: t, "default": !0 })); }
    function rt(e, t) { C.call(e[Et], "SystemJS." + t + " is deprecated for SystemJS.registry." + t); }
    var nt, ot = "undefined" != typeof window && "undefined" != typeof document, it = "undefined" != typeof process && process.versions && process.versions.node, at = "undefined" != typeof process && "string" == typeof process.platform && process.platform.match(/^win/), st = "undefined" != typeof self ? self : global, ut = "undefined" != typeof Symbol;
    if ("undefined" != typeof document && document.getElementsByTagName) {
        if (nt = document.baseURI, !nt) {
            var lt = document.getElementsByTagName("base");
            nt = lt[0] && lt[0].href || window.location.href;
        }
    }
    else
        "undefined" != typeof location && (nt = location.href);
    if (nt) {
        nt = nt.split("#")[0].split("?")[0];
        var ct = nt.lastIndexOf("/");
        -1 !== ct && (nt = nt.substr(0, ct + 1));
    }
    else {
        if ("undefined" == typeof process || !process.cwd)
            throw new TypeError("No environment baseURI");
        nt = "file://" + (at ? "/" : "") + process.cwd(), at && (nt = nt.replace(/\\/g, "/"));
    }
    "/" !== nt[nt.length - 1] && (nt += "/");
    var ft = "_" == new Error(0, "_").fileName, dt = Promise.resolve();
    i.prototype.constructor = i, i.prototype["import"] = function (e, r) { if ("string" != typeof e)
        throw new TypeError("Loader import method must be passed a module key string"); var n = this; return dt.then(function () { return n[gt](e, r); }).then(a)["catch"](function (n) { throw t(n, "Loading " + e + (r ? " from " + r : "")); }); };
    var pt = i.resolve = e("resolve"), gt = i.resolveInstantiate = e("resolveInstantiate");
    i.prototype[gt] = function (e, t) { var r = this; return r.resolve(e, t).then(function (e) { return r.registry.get(e); }); }, i.prototype.resolve = function (e, r) { var n = this; return dt.then(function () { return n[pt](e, r); }).then(s)["catch"](function (n) { throw t(n, "Resolving " + e + (r ? " to " + r : "")); }); };
    var ht = "undefined" != typeof Symbol && Symbol.iterator, mt = e("registry");
    ht && (u.prototype[Symbol.iterator] = function () { return this.entries()[Symbol.iterator](); }, u.prototype.entries = function () { var e = this[mt]; return o(Object.keys(e).map(function (t) { return [t, e[t]]; })); }), u.prototype.keys = function () { return o(Object.keys(this[mt])); }, u.prototype.values = function () { var e = this[mt]; return o(Object.keys(e).map(function (t) { return e[t]; })); }, u.prototype.get = function (e) { return this[mt][e]; }, u.prototype.set = function (e, t) { if (!(t instanceof l))
        throw new Error("Registry must be set with an instance of Module Namespace"); return this[mt][e] = t, this; }, u.prototype.has = function (e) { return Object.hasOwnProperty.call(this[mt], e); }, u.prototype["delete"] = function (e) { return Object.hasOwnProperty.call(this[mt], e) ? (delete this[mt][e], !0) : !1; };
    var vt = e("baseObject");
    l.prototype = Object.create(null), "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(l.prototype, Symbol.toStringTag, { value: "Module" });
    var yt = e("register-internal");
    f.prototype = Object.create(i.prototype), f.prototype.constructor = f;
    var bt = f.instantiate = e("instantiate");
    f.prototype[f.resolve = i.resolve] = function (e, t) { return n(e, t || nt); }, f.prototype[bt] = function (e, t) { }, f.prototype[i.resolveInstantiate] = function (e, t) { var r = this, n = this[yt], o = r.registry[r.registry._registry]; return p(r, e, t, o, n).then(function (e) { return e instanceof l ? e : e.module ? e.module : e.linkRecord.linked ? O(r, e, e.linkRecord, o, n, void 0) : w(r, e, e.linkRecord, o, n, [e]).then(function () { return O(r, e, e.linkRecord, o, n, void 0); })["catch"](function (t) { throw k(r, e), t; }); }); }, f.prototype.register = function (e, t, r) { var n = this[yt]; if (void 0 === r)
        n.lastRegister = [e, t, void 0];
    else {
        var o = n.records[e] || d(n, e, void 0);
        o.registration = [t, r, void 0];
    } }, f.prototype.registerDynamic = function (e, t, r, n) { var o = this[yt]; if ("string" != typeof e)
        o.lastRegister = [e, t, r];
    else {
        var i = o.records[e] || d(o, e, void 0);
        i.registration = [t, r, n];
    } }, x.prototype["import"] = function (e) { return this.loader.trace && y(this.loader, this.key, e), this.loader["import"](e, this.key); };
    var wt = {};
    Object.freeze && Object.freeze(wt);
    var kt, xt, Ot = Promise.resolve(), St = new l({}), Et = e("loader-config"), jt = e("metadata"), _t = "undefined" == typeof window && "undefined" != typeof self && "undefined" != typeof importScripts, Rt = !1, Mt = !1;
    if (ot && function () { var e = document.createElement("link").relList; if (e && e.supports) {
        Mt = !0;
        try {
            Rt = e.supports("preload");
        }
        catch (e) { }
    } }(), ot) {
        var Pt = [], Ct = window.onerror;
        window.onerror = function (e, t) { for (var r = 0; r < Pt.length; r++)
            if (Pt[r].src === t)
                return void Pt[r].err(e); Ct && Ct.apply(this, arguments); };
    }
    var Lt, At, It = /(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF."'])require\s*\(\s*("[^"\\]*(?:\\.[^"\\]*)*"|'[^'\\]*(?:\\.[^'\\]*)*')\s*\)/g, Ft = "undefined" != typeof XMLHttpRequest;
    At = "undefined" != typeof self && "undefined" != typeof self.fetch ? J : Ft ? $ : "undefined" != typeof require && "undefined" != typeof process ? B : W;
    var Kt = At, Dt = {}, qt = ["browser", "node", "dev", "build", "production", "default"], Tt = /#\{[^\}]+\}/, Ut = ["browserConfig", "nodeConfig", "devConfig", "buildConfig", "productionConfig"], zt = "undefined" != typeof Buffer;
    try {
        zt && "YQ==" !== new Buffer("a").toString("base64") && (zt = !1);
    }
    catch (e) {
        zt = !1;
    }
    var Nt, Jt, $t, Bt, Wt = "\n//# sourceMappingURL=data:application/json;base64,", Gt = 0, Ht = !1;
    ot && "undefined" != typeof document && document.getElementsByTagName && (window.chrome && window.chrome.extension || navigator.userAgent.match(/^Node\.js/) || (Ht = !0));
    var Zt, Xt = function (e) { function t(r, n, o, i) { if ("object" == typeof r && !(r instanceof Array))
        return t.apply(null, Array.prototype.splice.call(arguments, 1, arguments.length - 1)); if ("string" == typeof r && "function" == typeof n && (r = [r]), !(r instanceof Array)) {
        if ("string" == typeof r) {
            var a = e.decanonicalize(r, i), s = e.get(a);
            if (!s)
                throw new Error('Module not already loaded loading "' + r + '" as ' + a + (i ? ' from "' + i + '".' : "."));
            return s.__useDefault ? s["default"] : s;
        }
        throw new TypeError("Invalid require");
    } for (var u = [], l = 0; l < r.length; l++)
        u.push(e["import"](r[l], i)); Promise.all(u).then(function (e) { for (var t = 0; t < e.length; t++)
        e[t] = e[t].__useDefault ? e[t]["default"] : e[t]; n && n.apply(null, e); }, o); } function r(r, n, o) { function i(r, i, l) { for (var c = [], f = 0; f < n.length; f++)
        c.push(r(n[f])); if (l.uri = l.id, l.config = R, -1 !== u && c.splice(u, 0, l), -1 !== s && c.splice(s, 0, i), -1 !== a) {
        var d = function (n, o, i) { return "string" == typeof n && "function" != typeof o ? r(n) : t.call(e, n, o, i, l.id); };
        d.toUrl = function (t) { return e.normalizeSync(t, l.id); }, c.splice(a, 0, d);
    } var p = st.require; st.require = t; var g = o.apply(-1 === s ? st : i, c); st.require = p, "undefined" != typeof g && (l.exports = g); } "string" != typeof r && (o = n, n = r, r = null), n instanceof Array || (o = n, n = ["require", "exports", "module"].splice(0, o.length)), "function" != typeof o && (o = function (e) { return function () { return e; }; }(o)), r || Vt && (n = n.concat(Vt), Vt = void 0); var a, s, u; -1 !== (a = n.indexOf("require")) && (n.splice(a, 1), r || (n = n.concat(qe(o.toString(), a)))), -1 !== (s = n.indexOf("exports")) && n.splice(s, 1), -1 !== (u = n.indexOf("module")) && n.splice(u, 1), r ? (e.registerDynamic(r, n, !1, i), Qt ? (Qt = void 0, lr = !0) : lr || (Qt = [n, i])) : e.registerDynamic(n, !1, cr ? Te(i) : i); } e.set("@@cjs-helpers", e.newModule({ requireResolve: Le.bind(e), getPathVars: Ae })), e.set("@@global-helpers", e.newModule({ prepareGlobal: De })), r.amd = {}, e.amdDefine = r, e.amdRequire = t; };
    "undefined" != typeof window && "undefined" != typeof document && window.location && (Zt = location.protocol + "//" + location.hostname + (location.port ? ":" + location.port : ""));
    var Yt, Qt, Vt, er, tr = /(^|[^\\])(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm, rr = /("[^"\\\n\r]*(\\.[^"\\\n\r]*)*"|'[^'\\\n\r]*(\\.[^'\\\n\r]*)*')/g, nr = ["_g", "sessionStorage", "localStorage", "clipboardData", "frames", "frameElement", "external", "mozAnimationStartTime", "webkitStorageInfo", "webkitIndexedDB", "mozInnerScreenY", "mozInnerScreenX"], or = "(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])", ir = "\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)", ar = /\(([^\)]*)\)/, sr = /^\s+|\s+$/g, ur = {}, lr = !1, cr = !1, fr = (ot || _t) && "undefined" != typeof navigator && navigator.userAgent && !navigator.userAgent.match(/MSIE (9|10).0/);
    "undefined" == typeof require || "undefined" == typeof process || process.browser || (er = require);
    var dr, pr = "undefined" != typeof self ? "self" : "global", gr = /(^\s*|[}\);\n]\s*)(import\s*(['"]|(\*\s+as\s+)?[^"'\(\)\n;]+\s*from\s*['"]|\{)|export\s+\*\s+from\s+["']|export\s*(\{|default|function|class|var|const|let|async\s+function))/, hr = /^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)*\s*/, mr = /(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])define\s*\(\s*("[^"]+"\s*,\s*|'[^']+'\s*,\s*)?\s*(\[(\s*(("[^"]+"|'[^']+')\s*,|\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*(\s*("[^"]+"|'[^']+')\s*,?)?(\s*(\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*\s*\]|function\s*|{|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*\))/, vr = /(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])(exports\s*(\[['"]|\.)|module(\.exports|\['exports'\]|\["exports"\])\s*(\[['"]|[=,\.]))/, yr = /^\#\!.*/, br = /^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)+/, wr = /\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\/\/[^\n]*|"[^"]+"\s*;?|'[^']+'\s*;?/g;
    if ("undefined" == typeof Promise)
        throw new Error("SystemJS needs a Promise polyfill.");
    if ("undefined" != typeof document) {
        var kr = document.getElementsByTagName("script"), xr = kr[kr.length - 1];
        document.currentScript && (xr.defer || xr.async) && (xr = document.currentScript), dr = xr && xr.src;
    }
    else if ("undefined" != typeof importScripts)
        try {
            throw new Error("_");
        }
        catch (e) {
            e.stack.replace(/(?:at|@).*(http.+):[\d]+:[\d]+/, function (e, t) { dr = t; });
        }
    else
        "undefined" != typeof __filename && (dr = __filename);
    var Or;
    et.prototype = Object.create(f.prototype), et.prototype.constructor = et, et.prototype[et.resolve = f.resolve] = et.prototype.normalize = Z, et.prototype.load = function (e, t) { return C.call(this[Et], "System.load is deprecated."), this["import"](e, t); }, et.prototype.decanonicalize = et.prototype.normalizeSync = et.prototype.resolveSync = Y, et.prototype[et.instantiate = f.instantiate] = Je, et.prototype.config = xe, et.prototype.getConfig = ke, et.prototype.global = st, et.prototype["import"] = function () { return f.prototype["import"].apply(this, arguments).then(function (e) { return e.__useDefault ? e["default"] : e; }); };
    for (var Sr = ["baseURL", "map", "paths", "packages", "packageConfigPaths", "depCache", "meta", "bundles", "transpiler", "warnings", "pluginFirst", "production", "wasm"], Er = "undefined" != typeof Proxy, jr = 0; jr < Sr.length; jr++)
        (function (e) { Object.defineProperty(et.prototype, e, { get: function () { var t = we(this[Et], e); return Er && "object" == typeof t && (t = new Proxy(t, { set: function (t, r) { throw new Error("Cannot set SystemJS." + e + '["' + r + '"] directly. Use SystemJS.config({ ' + e + ': { "' + r + '": ... } }) rather.'); } })), t; }, set: function (t) { throw new Error("Setting `SystemJS." + e + "` directly is no longer supported. Use `SystemJS.config({ " + e + ": ... })`."); } }); })(Sr[jr]);
    et.prototype["delete"] = function (e) { rt(this, "delete"), this.registry["delete"](e); }, et.prototype.get = function (e) { return rt(this, "get"), this.registry.get(e); }, et.prototype.has = function (e) { return rt(this, "has"), this.registry.has(e); }, et.prototype.set = function (e, t) { return rt(this, "set"), this.registry.set(e, t); }, et.prototype.newModule = function (e) { return new l(e); }, et.prototype.isModule = P, et.prototype.register = function (e, t, r) { return "string" == typeof e && (e = X.call(this, this[Et], e)), f.prototype.register.call(this, e, t, r); }, et.prototype.registerDynamic = function (e, t, r, n) { return "string" == typeof e && (e = X.call(this, this[Et], e)), f.prototype.registerDynamic.call(this, e, t, r, n); }, et.prototype.version = "0.20.10 Dev";
    var _r = new et;
    (ot || _t) && (st.SystemJS = st.System = _r), "undefined" != typeof module && module.exports && (module.exports = _r);
}();
(function () {
    'use strict';
    var isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';
    var isNode = typeof process !== 'undefined' && process.versions && process.versions.node;
    var isWindows = typeof process !== 'undefined' && typeof process.platform === 'string' && process.platform.match(/^win/);
    var envGlobal = typeof self !== 'undefined' ? self : global;
    var hasSymbol = typeof Symbol !== 'undefined';
    function createSymbol(name) {
        return hasSymbol ? Symbol() : '@@' + name;
    }
    var baseURI;
    if (typeof document != 'undefined' && document.getElementsByTagName) {
        baseURI = document.baseURI;
        if (!baseURI) {
            var bases = document.getElementsByTagName('base');
            baseURI = bases[0] && bases[0].href || window.location.href;
        }
    }
    else if (typeof location != 'undefined') {
        baseURI = location.href;
    }
    if (baseURI) {
        baseURI = baseURI.split('#')[0].split('?')[0];
        var slashIndex = baseURI.lastIndexOf('/');
        if (slashIndex !== -1)
            baseURI = baseURI.substr(0, slashIndex + 1);
    }
    else if (typeof process !== 'undefined' && process.cwd) {
        baseURI = 'file://' + (isWindows ? '/' : '') + process.cwd();
        if (isWindows)
            baseURI = baseURI.replace(/\\/g, '/');
    }
    else {
        throw new TypeError('No environment baseURI');
    }
    if (baseURI[baseURI.length - 1] !== '/')
        baseURI += '/';
    var errArgs = new Error(0, '_').fileName == '_';
    function LoaderError__Check_error_message_for_loader_stack(childErr, newMessage) {
        if (!isBrowser)
            newMessage = newMessage.replace(isWindows ? /file:\/\/\//g : /file:\/\//g, '');
        var message = (childErr.message || childErr) + '\n  ' + newMessage;
        var err;
        if (errArgs && childErr.fileName)
            err = new Error(message, childErr.fileName, childErr.lineNumber);
        else
            err = new Error(message);
        var stack = childErr.originalErr ? childErr.originalErr.stack : childErr.stack;
        if (isNode)
            err.stack = message + '\n  ' + stack;
        else
            err.stack = stack;
        err.originalErr = childErr.originalErr || childErr;
        return err;
    }
    function throwResolveError(relUrl, parentUrl) {
        throw new RangeError('Unable to resolve "' + relUrl + '" to ' + parentUrl);
    }
    function resolveIfNotPlain(relUrl, parentUrl) {
        relUrl = relUrl.trim();
        var parentProtocol = parentUrl && parentUrl.substr(0, parentUrl.indexOf(':') + 1);
        var firstChar = relUrl[0];
        var secondChar = relUrl[1];
        if (firstChar === '/' && secondChar === '/') {
            if (!parentProtocol)
                throwResolveError(relUrl, parentUrl);
            return parentProtocol + relUrl;
        }
        else if (firstChar === '.' && (secondChar === '/' || secondChar === '.' && (relUrl[2] === '/' || relUrl.length === 2) || relUrl.length === 1)
            || firstChar === '/') {
            var parentIsPlain = !parentProtocol || parentUrl[parentProtocol.length] !== '/';
            var pathname;
            if (parentIsPlain) {
                if (parentUrl === undefined)
                    throwResolveError(relUrl, parentUrl);
                pathname = parentUrl;
            }
            else if (parentUrl[parentProtocol.length + 1] === '/') {
                if (parentProtocol !== 'file:') {
                    pathname = parentUrl.substr(parentProtocol.length + 2);
                    pathname = pathname.substr(pathname.indexOf('/') + 1);
                }
                else {
                    pathname = parentUrl.substr(8);
                }
            }
            else {
                pathname = parentUrl.substr(parentProtocol.length + 1);
            }
            if (firstChar === '/') {
                if (parentIsPlain)
                    throwResolveError(relUrl, parentUrl);
                else
                    return parentUrl.substr(0, parentUrl.length - pathname.length - 1) + relUrl;
            }
            var segmented = pathname.substr(0, pathname.lastIndexOf('/') + 1) + relUrl;
            var output = [];
            var segmentIndex = undefined;
            for (var i = 0; i < segmented.length; i++) {
                if (segmentIndex !== undefined) {
                    if (segmented[i] === '/') {
                        output.push(segmented.substr(segmentIndex, i - segmentIndex + 1));
                        segmentIndex = undefined;
                    }
                    continue;
                }
                if (segmented[i] === '.') {
                    if (segmented[i + 1] === '.' && (segmented[i + 2] === '/' || i === segmented.length - 2)) {
                        output.pop();
                        i += 2;
                    }
                    else if (segmented[i + 1] === '/' || i === segmented.length - 1) {
                        i += 1;
                    }
                    else {
                        segmentIndex = i;
                        continue;
                    }
                    if (parentIsPlain && output.length === 0)
                        throwResolveError(relUrl, parentUrl);
                    if (i === segmented.length)
                        output.push('');
                    continue;
                }
                segmentIndex = i;
            }
            if (segmentIndex !== undefined)
                output.push(segmented.substr(segmentIndex, segmented.length - segmentIndex));
            return parentUrl.substr(0, parentUrl.length - pathname.length) + output.join('');
        }
        var protocolIndex = relUrl.indexOf(':');
        if (protocolIndex !== -1) {
            if (isNode) {
                if (relUrl[1] === ':' && relUrl[2] === '\\' && relUrl[0].match(/[a-z]/i))
                    return 'file:///' + relUrl.replace(/\\/g, '/');
            }
            return relUrl;
        }
    }
    var resolvedPromise$1 = Promise.resolve();
    function arrayValues(arr) {
        if (arr.values)
            return arr.values();
        if (typeof Symbol === 'undefined' || !Symbol.iterator)
            throw new Error('Symbol.iterator not supported in this browser');
        var iterable = {};
        iterable[Symbol.iterator] = function () {
            var keys = Object.keys(arr);
            var keyIndex = 0;
            return {
                next: function () {
                    if (keyIndex < keys.length)
                        return {
                            value: arr[keys[keyIndex++]],
                            done: false
                        };
                    else
                        return {
                            value: undefined,
                            done: true
                        };
                }
            };
        };
        return iterable;
    }
    function Loader() {
        this.registry = new Registry();
    }
    Loader.prototype.constructor = Loader;
    function ensureInstantiated(module) {
        if (!(module instanceof ModuleNamespace))
            throw new TypeError('Module instantiation did not return a valid namespace object.');
        return module;
    }
    Loader.prototype["import"] = function (key, parent) {
        if (typeof key !== 'string')
            throw new TypeError('Loader import method must be passed a module key string');
        var loader = this;
        return resolvedPromise$1
            .then(function () {
            return loader[RESOLVE_INSTANTIATE](key, parent);
        })
            .then(ensureInstantiated)["catch"](function (err) {
            throw LoaderError__Check_error_message_for_loader_stack(err, 'Loading ' + key + (parent ? ' from ' + parent : ''));
        });
    };
    var RESOLVE = Loader.resolve = createSymbol('resolve');
    var RESOLVE_INSTANTIATE = Loader.resolveInstantiate = createSymbol('resolveInstantiate');
    Loader.prototype[RESOLVE_INSTANTIATE] = function (key, parent) {
        var loader = this;
        return loader.resolve(key, parent)
            .then(function (resolved) {
            return loader.registry.get(resolved);
        });
    };
    function ensureResolution(resolvedKey) {
        if (resolvedKey === undefined)
            throw new RangeError('No resolution found.');
        return resolvedKey;
    }
    Loader.prototype.resolve = function (key, parent) {
        var loader = this;
        return resolvedPromise$1
            .then(function () {
            return loader[RESOLVE](key, parent);
        })
            .then(ensureResolution)["catch"](function (err) {
            throw LoaderError__Check_error_message_for_loader_stack(err, 'Resolving ' + key + (parent ? ' to ' + parent : ''));
        });
    };
    var iteratorSupport = typeof Symbol !== 'undefined' && Symbol.iterator;
    var REGISTRY = createSymbol('registry');
    function Registry() {
        this[REGISTRY] = {};
        this._registry = REGISTRY;
    }
    if (iteratorSupport) {
        Registry.prototype[Symbol.iterator] = function () {
            return this.entries()[Symbol.iterator]();
        };
        Registry.prototype.entries = function () {
            var registry = this[REGISTRY];
            return arrayValues(Object.keys(registry).map(function (key) {
                return [key, registry[key]];
            }));
        };
    }
    Registry.prototype.keys = function () {
        return arrayValues(Object.keys(this[REGISTRY]));
    };
    Registry.prototype.values = function () {
        var registry = this[REGISTRY];
        return arrayValues(Object.keys(registry).map(function (key) {
            return registry[key];
        }));
    };
    Registry.prototype.get = function (key) {
        return this[REGISTRY][key];
    };
    Registry.prototype.set = function (key, namespace) {
        if (!(namespace instanceof ModuleNamespace))
            throw new Error('Registry must be set with an instance of Module Namespace');
        this[REGISTRY][key] = namespace;
        return this;
    };
    Registry.prototype.has = function (key) {
        return Object.hasOwnProperty.call(this[REGISTRY], key);
    };
    Registry.prototype["delete"] = function (key) {
        if (Object.hasOwnProperty.call(this[REGISTRY], key)) {
            delete this[REGISTRY][key];
            return true;
        }
        return false;
    };
    var BASE_OBJECT = createSymbol('baseObject');
    function ModuleNamespace(baseObject) {
        Object.defineProperty(this, BASE_OBJECT, {
            value: baseObject
        });
        Object.keys(baseObject).forEach(extendNamespace, this);
    }
    ModuleNamespace.prototype = Object.create(null);
    if (typeof Symbol !== 'undefined' && Symbol.toStringTag)
        Object.defineProperty(ModuleNamespace.prototype, Symbol.toStringTag, {
            value: 'Module'
        });
    function extendNamespace(key) {
        Object.defineProperty(this, key, {
            enumerable: true,
            get: function () {
                return this[BASE_OBJECT][key];
            }
        });
    }
    var REGISTER_INTERNAL = createSymbol('register-internal');
    function RegisterLoader$1() {
        Loader.call(this);
        var registryDelete = this.registry["delete"];
        this.registry["delete"] = function (key) {
            var deleted = registryDelete.call(this, key);
            if (records.hasOwnProperty(key) && !records[key].linkRecord)
                delete records[key];
            return deleted;
        };
        var records = {};
        this[REGISTER_INTERNAL] = {
            lastRegister: undefined,
            records: records
        };
        this.trace = false;
    }
    RegisterLoader$1.prototype = Object.create(Loader.prototype);
    RegisterLoader$1.prototype.constructor = RegisterLoader$1;
    var INSTANTIATE = RegisterLoader$1.instantiate = createSymbol('instantiate');
    RegisterLoader$1.prototype[RegisterLoader$1.resolve = Loader.resolve] = function (key, parentKey) {
        return resolveIfNotPlain(key, parentKey || baseURI);
    };
    RegisterLoader$1.prototype[INSTANTIATE] = function (key, processAnonRegister) { };
    function createLoadRecord(state, key, registration) {
        return state.records[key] = {
            key: key,
            registration: registration,
            module: undefined,
            importerSetters: undefined,
            linkRecord: {
                instantiatePromise: undefined,
                dependencies: undefined,
                execute: undefined,
                executingRequire: false,
                moduleObj: undefined,
                setters: undefined,
                depsInstantiatePromise: undefined,
                dependencyInstantiations: undefined,
                linked: false,
                error: undefined
            }
        };
    }
    RegisterLoader$1.prototype[Loader.resolveInstantiate] = function (key, parentKey) {
        var loader = this;
        var state = this[REGISTER_INTERNAL];
        var registry = loader.registry[loader.registry._registry];
        return resolveInstantiate(loader, key, parentKey, registry, state)
            .then(function (instantiated) {
            if (instantiated instanceof ModuleNamespace)
                return instantiated;
            if (instantiated.module)
                return instantiated.module;
            if (instantiated.linkRecord.linked)
                return ensureEvaluate(loader, instantiated, instantiated.linkRecord, registry, state, undefined);
            return instantiateDeps(loader, instantiated, instantiated.linkRecord, registry, state, [instantiated])
                .then(function () {
                return ensureEvaluate(loader, instantiated, instantiated.linkRecord, registry, state, undefined);
            })["catch"](function (err) {
                clearLoadErrors(loader, instantiated);
                throw err;
            });
        });
    };
    function resolveInstantiate(loader, key, parentKey, registry, state) {
        var module = registry[key];
        if (module)
            return Promise.resolve(module);
        var load = state.records[key];
        if (load && !load.module)
            return instantiate(loader, load, load.linkRecord, registry, state);
        return loader.resolve(key, parentKey)
            .then(function (resolvedKey) {
            module = registry[resolvedKey];
            if (module)
                return module;
            load = state.records[resolvedKey];
            if (!load || load.module)
                load = createLoadRecord(state, resolvedKey, load && load.registration);
            var link = load.linkRecord;
            if (!link)
                return load;
            return instantiate(loader, load, link, registry, state);
        });
    }
    function createProcessAnonRegister(loader, load, state) {
        return function () {
            var lastRegister = state.lastRegister;
            if (!lastRegister)
                return !!load.registration;
            state.lastRegister = undefined;
            load.registration = lastRegister;
            return true;
        };
    }
    function instantiate(loader, load, link, registry, state) {
        return link.instantiatePromise || (link.instantiatePromise =
            (load.registration ? Promise.resolve() : Promise.resolve().then(function () {
                state.lastRegister = undefined;
                return loader[INSTANTIATE](load.key, loader[INSTANTIATE].length > 1 && createProcessAnonRegister(loader, load, state));
            }))
                .then(function (instantiation) {
                if (instantiation !== undefined) {
                    if (!(instantiation instanceof ModuleNamespace))
                        throw new TypeError('Instantiate did not return a valid Module object.');
                    delete state.records[load.key];
                    if (loader.trace)
                        traceLoad(loader, load, link);
                    return registry[load.key] = instantiation;
                }
                var registration = load.registration;
                load.registration = undefined;
                if (!registration)
                    throw new TypeError('Module instantiation did not call an anonymous or correctly named System.register.');
                link.dependencies = registration[0];
                load.importerSetters = [];
                link.moduleObj = {};
                if (registration[2]) {
                    link.moduleObj["default"] = {};
                    link.moduleObj.__useDefault = true;
                    link.executingRequire = registration[1];
                    link.execute = registration[2];
                }
                else {
                    registerDeclarative(loader, load, link, registration[1]);
                }
                if (!link.dependencies.length) {
                    link.linked = true;
                    if (loader.trace)
                        traceLoad(loader, load, link);
                }
                return load;
            })["catch"](function (err) {
                throw link.error = LoaderError__Check_error_message_for_loader_stack(err, 'Instantiating ' + load.key);
            }));
    }
    function resolveInstantiateDep(loader, key, parentKey, registry, state, traceDepMap) {
        return loader.resolve(key, parentKey)
            .then(function (resolvedKey) {
            if (traceDepMap)
                traceDepMap[key] = resolvedKey;
            var load = state.records[resolvedKey];
            var module = registry[resolvedKey];
            if (module && (!load || load.module && module !== load.module))
                return module;
            if (!load || !module && load.module)
                load = createLoadRecord(state, resolvedKey, load && load.registration);
            var link = load.linkRecord;
            if (!link)
                return load;
            return instantiate(loader, load, link, registry, state);
        });
    }
    function traceLoad(loader, load, link) {
        loader.loads = loader.loads || {};
        loader.loads[load.key] = {
            key: load.key,
            deps: link.dependencies,
            dynamicDeps: [],
            depMap: link.depMap || {}
        };
    }
    function traceDynamicLoad(loader, parentKey, key) {
        loader.loads[parentKey].dynamicDeps.push(key);
    }
    function registerDeclarative(loader, load, link, declare) {
        var moduleObj = link.moduleObj;
        var importerSetters = load.importerSetters;
        var locked = false;
        var declared = declare.call(envGlobal, function (name, value) {
            if (locked)
                return;
            if (typeof name === 'object') {
                for (var p in name)
                    if (p !== '__useDefault')
                        moduleObj[p] = name[p];
            }
            else {
                moduleObj[name] = value;
            }
            locked = true;
            for (var i = 0; i < importerSetters.length; i++)
                importerSetters[i](moduleObj);
            locked = false;
            return value;
        }, new ContextualLoader(loader, load.key));
        link.setters = declared.setters;
        link.execute = declared.execute;
        if (declared.exports)
            link.moduleObj = moduleObj = declared.exports;
    }
    function instantiateDeps(loader, load, link, registry, state, seen) {
        return (link.depsInstantiatePromise || (link.depsInstantiatePromise = Promise.resolve()
            .then(function () {
            var depsInstantiatePromises = Array(link.dependencies.length);
            for (var i = 0; i < link.dependencies.length; i++)
                depsInstantiatePromises[i] = resolveInstantiateDep(loader, link.dependencies[i], load.key, registry, state, loader.trace && link.depMap || (link.depMap = {}));
            return Promise.all(depsInstantiatePromises);
        })
            .then(function (dependencyInstantiations) {
            link.dependencyInstantiations = dependencyInstantiations;
            if (link.setters) {
                for (var i = 0; i < dependencyInstantiations.length; i++) {
                    var setter = link.setters[i];
                    if (setter) {
                        var instantiation = dependencyInstantiations[i];
                        if (instantiation instanceof ModuleNamespace) {
                            setter(instantiation);
                        }
                        else {
                            setter(instantiation.module || instantiation.linkRecord.moduleObj);
                            if (instantiation.importerSetters)
                                instantiation.importerSetters.push(setter);
                        }
                    }
                }
            }
        })))
            .then(function () {
            var deepDepsInstantiatePromises = [];
            for (var i = 0; i < link.dependencies.length; i++) {
                var depLoad = link.dependencyInstantiations[i];
                var depLink = depLoad.linkRecord;
                if (!depLink || depLink.linked)
                    continue;
                if (seen.indexOf(depLoad) !== -1)
                    continue;
                seen.push(depLoad);
                deepDepsInstantiatePromises.push(instantiateDeps(loader, depLoad, depLoad.linkRecord, registry, state, seen));
            }
            return Promise.all(deepDepsInstantiatePromises);
        })
            .then(function () {
            link.linked = true;
            if (loader.trace)
                traceLoad(loader, load, link);
            return load;
        })["catch"](function (err) {
            err = LoaderError__Check_error_message_for_loader_stack(err, 'Loading ' + load.key);
            link.error = link.error || err;
            throw err;
        });
    }
    function clearLoadErrors(loader, load) {
        var state = loader[REGISTER_INTERNAL];
        if (state.records[load.key] === load)
            delete state.records[load.key];
        var link = load.linkRecord;
        if (!link)
            return;
        if (link.dependencyInstantiations)
            link.dependencyInstantiations.forEach(function (depLoad, index) {
                if (!depLoad || depLoad instanceof ModuleNamespace)
                    return;
                if (depLoad.linkRecord) {
                    if (depLoad.linkRecord.error) {
                        if (state.records[depLoad.key] === depLoad)
                            clearLoadErrors(loader, depLoad);
                    }
                    if (link.setters && depLoad.importerSetters) {
                        var setterIndex = depLoad.importerSetters.indexOf(link.setters[index]);
                        depLoad.importerSetters.splice(setterIndex, 1);
                    }
                }
            });
    }
    RegisterLoader$1.prototype.register = function (key, deps, declare) {
        var state = this[REGISTER_INTERNAL];
        if (declare === undefined) {
            state.lastRegister = [key, deps, undefined];
        }
        else {
            var load = state.records[key] || createLoadRecord(state, key, undefined);
            load.registration = [deps, declare, undefined];
        }
    };
    RegisterLoader$1.prototype.registerDynamic = function (key, deps, executingRequire, execute) {
        var state = this[REGISTER_INTERNAL];
        if (typeof key !== 'string') {
            state.lastRegister = [key, deps, executingRequire];
        }
        else {
            var load = state.records[key] || createLoadRecord(state, key, undefined);
            load.registration = [deps, executingRequire, execute];
        }
    };
    function ContextualLoader(loader, key) {
        this.loader = loader;
        this.key = this.id = key;
    }
    ContextualLoader.prototype["import"] = function (key) {
        if (this.loader.trace)
            traceDynamicLoad(this.loader, this.key, key);
        return this.loader["import"](key, this.key);
    };
    function ensureEvaluate(loader, load, link, registry, state, seen) {
        if (load.module)
            return load.module;
        if (link.error)
            throw link.error;
        if (seen && seen.indexOf(load) !== -1)
            return load.linkRecord.moduleObj;
        var err = doEvaluate(loader, load, link, registry, state, link.setters ? [] : seen || []);
        if (err) {
            clearLoadErrors(loader, load);
            throw err;
        }
        return load.module;
    }
    function makeDynamicRequire(loader, key, dependencies, dependencyInstantiations, registry, state, seen) {
        return function (name) {
            for (var i = 0; i < dependencies.length; i++) {
                if (dependencies[i] === name) {
                    var depLoad = dependencyInstantiations[i];
                    var module;
                    if (depLoad instanceof ModuleNamespace)
                        module = depLoad;
                    else
                        module = ensureEvaluate(loader, depLoad, depLoad.linkRecord, registry, state, seen);
                    return module.__useDefault ? module["default"] : module;
                }
            }
            throw new Error('Module ' + name + ' not declared as a System.registerDynamic dependency of ' + key);
        };
    }
    function doEvaluate(loader, load, link, registry, state, seen) {
        seen.push(load);
        var err;
        if (link.setters) {
            var depLoad, depLink;
            for (var i = 0; i < link.dependencies.length; i++) {
                depLoad = link.dependencyInstantiations[i];
                if (depLoad instanceof ModuleNamespace)
                    continue;
                depLink = depLoad.linkRecord;
                if (depLink && seen.indexOf(depLoad) === -1) {
                    if (depLink.error)
                        err = depLink.error;
                    else
                        err = doEvaluate(loader, depLoad, depLink, registry, state, depLink.setters ? seen : []);
                }
                if (err)
                    return link.error = LoaderError__Check_error_message_for_loader_stack(err, 'Evaluating ' + load.key);
            }
        }
        if (link.execute) {
            if (link.setters) {
                err = declarativeExecute(link.execute);
            }
            else {
                var module = { id: load.key };
                var moduleObj = link.moduleObj;
                Object.defineProperty(module, 'exports', {
                    configurable: true,
                    set: function (exports) {
                        moduleObj["default"] = exports;
                    },
                    get: function () {
                        return moduleObj["default"];
                    }
                });
                var require = makeDynamicRequire(loader, load.key, link.dependencies, link.dependencyInstantiations, registry, state, seen);
                if (!link.executingRequire)
                    for (var i = 0; i < link.dependencies.length; i++)
                        require(link.dependencies[i]);
                err = dynamicExecute(link.execute, require, moduleObj["default"], module);
                if (module.exports !== moduleObj["default"])
                    moduleObj["default"] = module.exports;
                var moduleDefault = moduleObj["default"];
                if (moduleDefault && moduleDefault.__esModule) {
                    if (moduleObj.__useDefault)
                        delete moduleObj.__useDefault;
                    for (var p in moduleDefault) {
                        if (Object.hasOwnProperty.call(moduleDefault, p))
                            moduleObj[p] = moduleDefault[p];
                    }
                    moduleObj.__esModule = true;
                }
            }
        }
        if (err)
            return link.error = LoaderError__Check_error_message_for_loader_stack(err, 'Evaluating ' + load.key);
        registry[load.key] = load.module = new ModuleNamespace(link.moduleObj);
        if (!link.setters) {
            if (load.importerSetters)
                for (var i = 0; i < load.importerSetters.length; i++)
                    load.importerSetters[i](load.module);
            load.importerSetters = undefined;
        }
        load.linkRecord = undefined;
    }
    var nullContext = {};
    if (Object.freeze)
        Object.freeze(nullContext);
    function declarativeExecute(execute) {
        try {
            execute.call(nullContext);
        }
        catch (e) {
            return e;
        }
    }
    function dynamicExecute(execute, require, exports, module) {
        try {
            var output = execute.call(envGlobal, require, exports, module);
            if (output !== undefined)
                module.exports = output;
        }
        catch (e) {
            return e;
        }
    }
    var resolvedPromise = Promise.resolve();
    function noop() { }
    var emptyModule = new ModuleNamespace({});
    function protectedCreateNamespace(bindings) {
        if (bindings instanceof ModuleNamespace)
            return bindings;
        if (bindings && bindings.__esModule)
            return new ModuleNamespace(bindings);
        return new ModuleNamespace({ "default": bindings, __useDefault: true });
    }
    var hasStringTag;
    function isModule(m) {
        if (hasStringTag === undefined)
            hasStringTag = typeof Symbol !== 'undefined' && !!Symbol.toStringTag;
        return m instanceof ModuleNamespace || hasStringTag && Object.prototype.toString.call(m) == '[object Module]';
    }
    var CONFIG = createSymbol('loader-config');
    var METADATA = createSymbol('metadata');
    var isWorker = typeof window === 'undefined' && typeof self !== 'undefined' && typeof importScripts !== 'undefined';
    function warn(msg, force) {
        if (force || this.warnings && typeof console !== 'undefined' && console.warn)
            console.warn(msg);
    }
    var parentModuleContext;
    function loadNodeModule(key, baseURL) {
        if (key[0] === '.')
            throw new Error('Node module ' + key + ' can\'t be loaded as it is not a package require.');
        if (!parentModuleContext) {
            var Module = this._nodeRequire('module');
            var base = baseURL.substr(isWindows ? 8 : 7);
            parentModuleContext = new Module(base);
            parentModuleContext.paths = Module._nodeModulePaths(base);
        }
        return parentModuleContext.require(key);
    }
    function extend(a, b) {
        for (var p in b) {
            if (!Object.hasOwnProperty.call(b, p))
                continue;
            a[p] = b[p];
        }
        return a;
    }
    function prepend(a, b) {
        for (var p in b) {
            if (!Object.hasOwnProperty.call(b, p))
                continue;
            if (a[p] === undefined)
                a[p] = b[p];
        }
        return a;
    }
    function extendMeta(a, b, _prepend) {
        for (var p in b) {
            if (!Object.hasOwnProperty.call(b, p))
                continue;
            var val = b[p];
            if (a[p] === undefined)
                a[p] = val;
            else if (val instanceof Array && a[p] instanceof Array)
                a[p] = [].concat(_prepend ? val : a[p]).concat(_prepend ? a[p] : val);
            else if (typeof val == 'object' && val !== null && typeof a[p] == 'object')
                a[p] = (_prepend ? prepend : extend)(extend({}, a[p]), val);
            else if (!_prepend)
                a[p] = val;
        }
    }
    var supportsPreload = false;
    var supportsPrefetch = false;
    if (isBrowser)
        (function () {
            var relList = document.createElement('link').relList;
            if (relList && relList.supports) {
                supportsPrefetch = true;
                try {
                    supportsPreload = relList.supports('preload');
                }
                catch (e) { }
            }
        })();
    function preloadScript(url) {
        if (!supportsPreload && !supportsPrefetch) {
            var preloadImage = new Image();
            preloadImage.src = url;
            return;
        }
        var link = document.createElement('link');
        if (supportsPreload) {
            link.rel = 'preload';
            link.as = 'script';
        }
        else {
            link.rel = 'prefetch';
        }
        link.href = url;
        document.head.appendChild(link);
        document.head.removeChild(link);
    }
    function workerImport(src, resolve, reject) {
        try {
            importScripts(src);
        }
        catch (e) {
            reject(e);
        }
        resolve();
    }
    if (isBrowser) {
        var loadingScripts = [];
        var onerror = window.onerror;
        window.onerror = function globalOnerror(msg, src) {
            for (var i = 0; i < loadingScripts.length; i++) {
                if (loadingScripts[i].src !== src)
                    continue;
                loadingScripts[i].err(msg);
                return;
            }
            if (onerror)
                onerror.apply(this, arguments);
        };
    }
    function scriptLoad(src, crossOrigin, integrity, resolve, reject) {
        src = src.replace(/#/g, '%23');
        if (isWorker)
            return workerImport(src, resolve, reject);
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.charset = 'utf-8';
        script.async = true;
        if (crossOrigin)
            script.crossOrigin = crossOrigin;
        if (integrity)
            script.integrity = integrity;
        script.addEventListener('load', load, false);
        script.addEventListener('error', error, false);
        script.src = src;
        document.head.appendChild(script);
        function load() {
            resolve();
            cleanup();
        }
        function error(err) {
            cleanup();
            reject(new Error('Fetching ' + src));
        }
        function cleanup() {
            for (var i = 0; i < loadingScripts.length; i++) {
                if (loadingScripts[i].err === error) {
                    loadingScripts.splice(i, 1);
                    break;
                }
            }
            script.removeEventListener('load', load, false);
            script.removeEventListener('error', error, false);
            document.head.removeChild(script);
        }
    }
    function readMemberExpression(p, value) {
        var pParts = p.split('.');
        while (pParts.length)
            value = value[pParts.shift()];
        return value;
    }
    function applyPaths(baseURL, paths, key) {
        var mapMatch = getMapMatch(paths, key);
        if (mapMatch) {
            var target = paths[mapMatch] + key.substr(mapMatch.length);
            var resolved = resolveIfNotPlain(target, baseURI);
            if (resolved !== undefined)
                return resolved;
            return baseURL + target;
        }
        else if (key.indexOf(':') !== -1) {
            return key;
        }
        else {
            return baseURL + key;
        }
    }
    function checkMap(p) {
        var name = this.name;
        if (name.substr(0, p.length) === p && (name.length === p.length || name[p.length] === '/' || p[p.length - 1] === '/' || p[p.length - 1] === ':')) {
            var curLen = p.split('/').length;
            if (curLen > this.len) {
                this.match = p;
                this.len = curLen;
            }
        }
    }
    function getMapMatch(map, name) {
        if (Object.hasOwnProperty.call(map, name))
            return name;
        var bestMatch = {
            name: name,
            match: undefined,
            len: 0
        };
        Object.keys(map).forEach(checkMap, bestMatch);
        return bestMatch.match;
    }
    var cjsRequireRegEx = /(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF."'])require\s*\(\s*("[^"\\]*(?:\\.[^"\\]*)*"|'[^'\\]*(?:\\.[^'\\]*)*')\s*\)/g;
    function fetchFetch(url, authorization, integrity, asBuffer) {
        if (url.substr(0, 8) === 'file:///') {
            if (hasXhr)
                return xhrFetch(url, authorization, integrity, asBuffer);
            else
                throw new Error('Unable to fetch file URLs in this environment.');
        }
        url = url.replace(/#/g, '%23');
        var opts = {
            headers: { Accept: 'application/x-es-module, */*' }
        };
        if (integrity)
            opts.integrity = integrity;
        if (authorization) {
            if (typeof authorization == 'string')
                opts.headers['Authorization'] = authorization;
            opts.credentials = 'include';
        }
        return fetch(url, opts)
            .then(function (res) {
            if (res.ok)
                return asBuffer ? res.arrayBuffer() : res.text();
            else
                throw new Error('Fetch error: ' + res.status + ' ' + res.statusText);
        });
    }
    function xhrFetch(url, authorization, integrity, asBuffer) {
        return new Promise(function (resolve, reject) {
            url = url.replace(/#/g, '%23');
            var xhr = new XMLHttpRequest();
            if (asBuffer)
                xhr.responseType = 'arraybuffer';
            function load() {
                resolve(asBuffer ? xhr.response : xhr.responseText);
            }
            function error() {
                reject(new Error('XHR error: ' + (xhr.status ? ' (' + xhr.status + (xhr.statusText ? ' ' + xhr.statusText : '') + ')' : '') + ' loading ' + url));
            }
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    if (xhr.status == 0) {
                        if (xhr.response) {
                            load();
                        }
                        else {
                            xhr.addEventListener('error', error);
                            xhr.addEventListener('load', load);
                        }
                    }
                    else if (xhr.status === 200) {
                        load();
                    }
                    else {
                        error();
                    }
                }
            };
            xhr.open("GET", url, true);
            if (xhr.setRequestHeader) {
                xhr.setRequestHeader('Accept', 'application/x-es-module, */*');
                if (authorization) {
                    if (typeof authorization == 'string')
                        xhr.setRequestHeader('Authorization', authorization);
                    xhr.withCredentials = true;
                }
            }
            xhr.send(null);
        });
    }
    var fs;
    function nodeFetch(url, authorization, integrity, asBuffer) {
        if (url.substr(0, 8) != 'file:///')
            return Promise.reject(new Error('Unable to fetch "' + url + '". Only file URLs of the form file:/// supported running in Node.'));
        fs = fs || require('fs');
        if (isWindows)
            url = url.replace(/\//g, '\\').substr(8);
        else
            url = url.substr(7);
        return new Promise(function (resolve, reject) {
            fs.readFile(url, function (err, data) {
                if (err) {
                    return reject(err);
                }
                else {
                    if (asBuffer) {
                        resolve(data);
                    }
                    else {
                        var dataString = data + '';
                        if (dataString[0] === '\ufeff')
                            dataString = dataString.substr(1);
                        resolve(dataString);
                    }
                }
            });
        });
    }
    function noFetch() {
        throw new Error('No fetch method is defined for this environment.');
    }
    var fetchFunction;
    var hasXhr = typeof XMLHttpRequest !== 'undefined';
    if (typeof self !== 'undefined' && typeof self.fetch !== 'undefined')
        fetchFunction = fetchFetch;
    else if (hasXhr)
        fetchFunction = xhrFetch;
    else if (typeof require !== 'undefined' && typeof process !== 'undefined')
        fetchFunction = nodeFetch;
    else
        fetchFunction = noFetch;
    var fetch$1 = fetchFunction;
    function createMetadata() {
        return {
            pluginKey: undefined,
            pluginArgument: undefined,
            pluginModule: undefined,
            packageKey: undefined,
            packageConfig: undefined,
            load: undefined
        };
    }
    function getParentMetadata(loader, config, parentKey) {
        var parentMetadata = createMetadata();
        if (parentKey) {
            var parentPluginIndex;
            if (config.pluginFirst) {
                if ((parentPluginIndex = parentKey.lastIndexOf('!')) !== -1)
                    parentMetadata.pluginArgument = parentMetadata.pluginKey = parentKey.substr(0, parentPluginIndex);
            }
            else {
                if ((parentPluginIndex = parentKey.indexOf('!')) !== -1)
                    parentMetadata.pluginArgument = parentMetadata.pluginKey = parentKey.substr(parentPluginIndex + 1);
            }
            parentMetadata.packageKey = getMapMatch(config.packages, parentKey);
            if (parentMetadata.packageKey)
                parentMetadata.packageConfig = config.packages[parentMetadata.packageKey];
        }
        return parentMetadata;
    }
    function normalize(key, parentKey) {
        var config = this[CONFIG];
        var metadata = createMetadata();
        var parentMetadata = getParentMetadata(this, config, parentKey);
        var loader = this;
        return Promise.resolve()
            .then(function () {
            var booleanIndex = key.lastIndexOf('#?');
            if (booleanIndex === -1)
                return Promise.resolve(key);
            var conditionObj = parseCondition.call(loader, key.substr(booleanIndex + 2));
            return resolveCondition.call(loader, conditionObj, parentKey, true)
                .then(function (conditionValue) {
                return conditionValue ? key.substr(0, booleanIndex) : '@empty';
            });
        })
            .then(function (key) {
            var parsed = parsePlugin(config.pluginFirst, key);
            if (!parsed)
                return packageResolve.call(loader, config, key, parentMetadata && parentMetadata.pluginArgument || parentKey, metadata, parentMetadata, false);
            metadata.pluginKey = parsed.plugin;
            return Promise.all([
                packageResolve.call(loader, config, parsed.argument, parentMetadata && parentMetadata.pluginArgument || parentKey, metadata, parentMetadata, true),
                loader.resolve(parsed.plugin, parentKey)
            ])
                .then(function (normalized) {
                metadata.pluginArgument = normalized[0];
                metadata.pluginKey = normalized[1];
                if (metadata.pluginArgument === metadata.pluginKey)
                    throw new Error('Plugin ' + metadata.pluginArgument + ' cannot load itself, make sure it is excluded from any wildcard meta configuration via a custom loader: false rule.');
                return combinePluginParts(config.pluginFirst, normalized[0], normalized[1]);
            });
        })
            .then(function (normalized) {
            return interpolateConditional.call(loader, normalized, parentKey, parentMetadata);
        })
            .then(function (normalized) {
            setMeta.call(loader, config, normalized, metadata);
            if (metadata.pluginKey || !metadata.load.loader)
                return normalized;
            return loader.resolve(metadata.load.loader, normalized)
                .then(function (pluginKey) {
                metadata.pluginKey = pluginKey;
                metadata.pluginArgument = normalized;
                return normalized;
            });
        })
            .then(function (normalized) {
            loader[METADATA][normalized] = metadata;
            return normalized;
        });
    }
    function decanonicalize(config, key) {
        var parsed = parsePlugin(config.pluginFirst, key);
        if (parsed) {
            var pluginKey = decanonicalize.call(this, config, parsed.plugin);
            return combinePluginParts(config.pluginFirst, coreResolve.call(this, config, parsed.argument, undefined, false, false), pluginKey);
        }
        return coreResolve.call(this, config, key, undefined, false, false);
    }
    function normalizeSync(key, parentKey) {
        var config = this[CONFIG];
        var metadata = createMetadata();
        var parentMetadata = parentMetadata || getParentMetadata(this, config, parentKey);
        var parsed = parsePlugin(config.pluginFirst, key);
        if (parsed) {
            metadata.pluginKey = normalizeSync.call(this, parsed.plugin, parentKey);
            return combinePluginParts(config.pluginFirst, packageResolveSync.call(this, config, parsed.argument, parentMetadata.pluginArgument || parentKey, metadata, parentMetadata, !!metadata.pluginKey), metadata.pluginKey);
        }
        return packageResolveSync.call(this, config, key, parentMetadata.pluginArgument || parentKey, metadata, parentMetadata, !!metadata.pluginKey);
    }
    function coreResolve(config, key, parentKey, doMap, packageName) {
        var relativeResolved = resolveIfNotPlain(key, parentKey || baseURI);
        if (relativeResolved)
            return applyPaths(config.baseURL, config.paths, relativeResolved);
        if (doMap) {
            var mapMatch = getMapMatch(config.map, key);
            if (mapMatch) {
                key = config.map[mapMatch] + key.substr(mapMatch.length);
                relativeResolved = resolveIfNotPlain(key, baseURI);
                if (relativeResolved)
                    return applyPaths(config.baseURL, config.paths, relativeResolved);
            }
        }
        if (this.registry.has(key))
            return key;
        if (key.substr(0, 6) === '@node/')
            return key;
        var trailingSlash = packageName && key[key.length - 1] !== '/';
        var resolved = applyPaths(config.baseURL, config.paths, trailingSlash ? key + '/' : key);
        if (trailingSlash)
            return resolved.substr(0, resolved.length - 1);
        return resolved;
    }
    function packageResolveSync(config, key, parentKey, metadata, parentMetadata, skipExtensions) {
        if (parentMetadata && parentMetadata.packageConfig && key[0] !== '.') {
            var parentMap = parentMetadata.packageConfig.map;
            var parentMapMatch = parentMap && getMapMatch(parentMap, key);
            if (parentMapMatch && typeof parentMap[parentMapMatch] === 'string') {
                var mapped = doMapSync(this, config, parentMetadata.packageConfig, parentMetadata.packageKey, parentMapMatch, key, metadata, skipExtensions);
                if (mapped)
                    return mapped;
            }
        }
        var normalized = coreResolve.call(this, config, key, parentKey, true, true);
        var pkgConfigMatch = getPackageConfigMatch(config, normalized);
        metadata.packageKey = pkgConfigMatch && pkgConfigMatch.packageKey || getMapMatch(config.packages, normalized);
        if (!metadata.packageKey)
            return normalized;
        if (config.packageConfigKeys.indexOf(normalized) !== -1) {
            metadata.packageKey = undefined;
            return normalized;
        }
        metadata.packageConfig = config.packages[metadata.packageKey] || (config.packages[metadata.packageKey] = createPackage());
        var subPath = normalized.substr(metadata.packageKey.length + 1);
        return applyPackageConfigSync(this, config, metadata.packageConfig, metadata.packageKey, subPath, metadata, skipExtensions);
    }
    function packageResolve(config, key, parentKey, metadata, parentMetadata, skipExtensions) {
        var loader = this;
        return resolvedPromise
            .then(function () {
            if (parentMetadata && parentMetadata.packageConfig && key.substr(0, 2) !== './') {
                var parentMap = parentMetadata.packageConfig.map;
                var parentMapMatch = parentMap && getMapMatch(parentMap, key);
                if (parentMapMatch)
                    return doMap(loader, config, parentMetadata.packageConfig, parentMetadata.packageKey, parentMapMatch, key, metadata, skipExtensions);
            }
            return resolvedPromise;
        })
            .then(function (mapped) {
            if (mapped)
                return mapped;
            var normalized = coreResolve.call(loader, config, key, parentKey, true, true);
            var pkgConfigMatch = getPackageConfigMatch(config, normalized);
            metadata.packageKey = pkgConfigMatch && pkgConfigMatch.packageKey || getMapMatch(config.packages, normalized);
            if (!metadata.packageKey)
                return Promise.resolve(normalized);
            if (config.packageConfigKeys.indexOf(normalized) !== -1) {
                metadata.packageKey = undefined;
                metadata.load = createMeta();
                metadata.load.format = 'json';
                metadata.load.loader = '';
                return Promise.resolve(normalized);
            }
            metadata.packageConfig = config.packages[metadata.packageKey] || (config.packages[metadata.packageKey] = createPackage());
            var loadConfig = pkgConfigMatch && !metadata.packageConfig.configured;
            return (loadConfig ? loadPackageConfigPath(loader, config, pkgConfigMatch.configPath, metadata) : resolvedPromise)
                .then(function () {
                var subPath = normalized.substr(metadata.packageKey.length + 1);
                return applyPackageConfig(loader, config, metadata.packageConfig, metadata.packageKey, subPath, metadata, skipExtensions);
            });
        });
    }
    function createMeta() {
        return {
            extension: '',
            deps: undefined,
            format: undefined,
            loader: undefined,
            scriptLoad: undefined,
            globals: undefined,
            nonce: undefined,
            integrity: undefined,
            sourceMap: undefined,
            exports: undefined,
            encapsulateGlobal: false,
            crossOrigin: undefined,
            cjsRequireDetection: true,
            cjsDeferDepsExecute: false,
            esModule: false
        };
    }
    function setMeta(config, key, metadata) {
        metadata.load = metadata.load || createMeta();
        var bestDepth = 0;
        var wildcardIndex;
        for (var module in config.meta) {
            wildcardIndex = module.indexOf('*');
            if (wildcardIndex === -1)
                continue;
            if (module.substr(0, wildcardIndex) === key.substr(0, wildcardIndex)
                && module.substr(wildcardIndex + 1) === key.substr(key.length - module.length + wildcardIndex + 1)) {
                var depth = module.split('/').length;
                if (depth > bestDepth)
                    bestDepth = depth;
                extendMeta(metadata.load, config.meta[module], bestDepth !== depth);
            }
        }
        if (config.meta[key])
            extendMeta(metadata.load, config.meta[key], false);
        if (metadata.packageKey) {
            var subPath = key.substr(metadata.packageKey.length + 1);
            var meta = {};
            if (metadata.packageConfig.meta) {
                var bestDepth = 0;
                getMetaMatches(metadata.packageConfig.meta, subPath, function (metaPattern, matchMeta, matchDepth) {
                    if (matchDepth > bestDepth)
                        bestDepth = matchDepth;
                    extendMeta(meta, matchMeta, matchDepth && bestDepth > matchDepth);
                });
                extendMeta(metadata.load, meta, false);
            }
            if (metadata.packageConfig.format && !metadata.pluginKey && !metadata.load.loader)
                metadata.load.format = metadata.load.format || metadata.packageConfig.format;
        }
    }
    function parsePlugin(pluginFirst, key) {
        var argumentKey;
        var pluginKey;
        var pluginIndex = pluginFirst ? key.indexOf('!') : key.lastIndexOf('!');
        if (pluginIndex === -1)
            return;
        if (pluginFirst) {
            argumentKey = key.substr(pluginIndex + 1);
            pluginKey = key.substr(0, pluginIndex);
        }
        else {
            argumentKey = key.substr(0, pluginIndex);
            pluginKey = key.substr(pluginIndex + 1) || argumentKey.substr(argumentKey.lastIndexOf('.') + 1);
        }
        return {
            argument: argumentKey,
            plugin: pluginKey
        };
    }
    function combinePluginParts(pluginFirst, argumentKey, pluginKey) {
        if (pluginFirst)
            return pluginKey + '!' + argumentKey;
        else
            return argumentKey + '!' + pluginKey;
    }
    function addDefaultExtension(config, pkg, pkgKey, subPath, skipExtensions) {
        if (!subPath || !pkg.defaultExtension || subPath[subPath.length - 1] === '/' || skipExtensions)
            return subPath;
        var metaMatch = false;
        if (pkg.meta)
            getMetaMatches(pkg.meta, subPath, function (metaPattern, matchMeta, matchDepth) {
                if (matchDepth === 0 || metaPattern.lastIndexOf('*') !== metaPattern.length - 1)
                    return metaMatch = true;
            });
        if (!metaMatch && config.meta)
            getMetaMatches(config.meta, pkgKey + '/' + subPath, function (metaPattern, matchMeta, matchDepth) {
                if (matchDepth === 0 || metaPattern.lastIndexOf('*') !== metaPattern.length - 1)
                    return metaMatch = true;
            });
        if (metaMatch)
            return subPath;
        var defaultExtension = '.' + pkg.defaultExtension;
        if (subPath.substr(subPath.length - defaultExtension.length) !== defaultExtension)
            return subPath + defaultExtension;
        else
            return subPath;
    }
    function applyPackageConfigSync(loader, config, pkg, pkgKey, subPath, metadata, skipExtensions) {
        if (!subPath) {
            if (pkg.main)
                subPath = pkg.main.substr(0, 2) === './' ? pkg.main.substr(2) : pkg.main;
            else
                return pkgKey;
        }
        if (pkg.map) {
            var mapPath = './' + subPath;
            var mapMatch = getMapMatch(pkg.map, mapPath);
            if (!mapMatch) {
                mapPath = './' + addDefaultExtension(loader, pkg, pkgKey, subPath, skipExtensions);
                if (mapPath !== './' + subPath)
                    mapMatch = getMapMatch(pkg.map, mapPath);
            }
            if (mapMatch) {
                var mapped = doMapSync(loader, config, pkg, pkgKey, mapMatch, mapPath, metadata, skipExtensions);
                if (mapped)
                    return mapped;
            }
        }
        return pkgKey + '/' + addDefaultExtension(loader, pkg, pkgKey, subPath, skipExtensions);
    }
    function validMapping(mapMatch, mapped, path) {
        if (mapped.substr(0, mapMatch.length) === mapMatch && path.length > mapMatch.length)
            return false;
        return true;
    }
    function doMapSync(loader, config, pkg, pkgKey, mapMatch, path, metadata, skipExtensions) {
        if (path[path.length - 1] === '/')
            path = path.substr(0, path.length - 1);
        var mapped = pkg.map[mapMatch];
        if (typeof mapped === 'object')
            throw new Error('Synchronous conditional normalization not supported sync normalizing ' + mapMatch + ' in ' + pkgKey);
        if (!validMapping(mapMatch, mapped, path) || typeof mapped !== 'string')
            return;
        return packageResolveSync.call(this, config, mapped + path.substr(mapMatch.length), pkgKey + '/', metadata, metadata, skipExtensions);
    }
    function applyPackageConfig(loader, config, pkg, pkgKey, subPath, metadata, skipExtensions) {
        if (!subPath) {
            if (pkg.main)
                subPath = pkg.main.substr(0, 2) === './' ? pkg.main.substr(2) : pkg.main;
            else
                return Promise.resolve(pkgKey);
        }
        var mapPath, mapMatch;
        if (pkg.map) {
            mapPath = './' + subPath;
            mapMatch = getMapMatch(pkg.map, mapPath);
            if (!mapMatch) {
                mapPath = './' + addDefaultExtension(loader, pkg, pkgKey, subPath, skipExtensions);
                if (mapPath !== './' + subPath)
                    mapMatch = getMapMatch(pkg.map, mapPath);
            }
        }
        return (mapMatch ? doMap(loader, config, pkg, pkgKey, mapMatch, mapPath, metadata, skipExtensions) : resolvedPromise)
            .then(function (mapped) {
            if (mapped)
                return Promise.resolve(mapped);
            return Promise.resolve(pkgKey + '/' + addDefaultExtension(loader, pkg, pkgKey, subPath, skipExtensions));
        });
    }
    function doMap(loader, config, pkg, pkgKey, mapMatch, path, metadata, skipExtensions) {
        if (path[path.length - 1] === '/')
            path = path.substr(0, path.length - 1);
        var mapped = pkg.map[mapMatch];
        if (typeof mapped === 'string') {
            if (!validMapping(mapMatch, mapped, path))
                return resolvedPromise;
            return packageResolve.call(loader, config, mapped + path.substr(mapMatch.length), pkgKey + '/', metadata, metadata, skipExtensions)
                .then(function (normalized) {
                return interpolateConditional.call(loader, normalized, pkgKey + '/', metadata);
            });
        }
        var conditionPromises = [];
        var conditions = [];
        for (var e in mapped) {
            var c = parseCondition(e);
            conditions.push({
                condition: c,
                map: mapped[e]
            });
            conditionPromises.push(RegisterLoader$1.prototype["import"].call(loader, c.module, pkgKey));
        }
        return Promise.all(conditionPromises)
            .then(function (conditionValues) {
            for (var i = 0; i < conditions.length; i++) {
                var c = conditions[i].condition;
                var value = readMemberExpression(c.prop, conditionValues[i].__useDefault ? conditionValues[i]["default"] : conditionValues[i]);
                if (!c.negate && value || c.negate && !value)
                    return conditions[i].map;
            }
        })
            .then(function (mapped) {
            if (mapped) {
                if (!validMapping(mapMatch, mapped, path))
                    return resolvedPromise;
                return packageResolve.call(loader, config, mapped + path.substr(mapMatch.length), pkgKey + '/', metadata, metadata, skipExtensions)
                    .then(function (normalized) {
                    return interpolateConditional.call(loader, normalized, pkgKey + '/', metadata);
                });
            }
        });
    }
    var packageConfigPaths = {};
    function createPkgConfigPathObj(path) {
        var lastWildcard = path.lastIndexOf('*');
        var length = Math.max(lastWildcard + 1, path.lastIndexOf('/'));
        return {
            length: length,
            regEx: new RegExp('^(' + path.substr(0, length).replace(/[.+?^${}()|[\]\\]/g, '\\$&').replace(/\*/g, '[^\\/]+') + ')(\\/|$)'),
            wildcard: lastWildcard !== -1
        };
    }
    function getPackageConfigMatch(config, normalized) {
        var pkgKey, exactMatch = false, configPath;
        for (var i = 0; i < config.packageConfigPaths.length; i++) {
            var packageConfigPath = config.packageConfigPaths[i];
            var p = packageConfigPaths[packageConfigPath] || (packageConfigPaths[packageConfigPath] = createPkgConfigPathObj(packageConfigPath));
            if (normalized.length < p.length)
                continue;
            var match = normalized.match(p.regEx);
            if (match && (!pkgKey || (!(exactMatch && p.wildcard) && pkgKey.length < match[1].length))) {
                pkgKey = match[1];
                exactMatch = !p.wildcard;
                configPath = pkgKey + packageConfigPath.substr(p.length);
            }
        }
        if (!pkgKey)
            return;
        return {
            packageKey: pkgKey,
            configPath: configPath
        };
    }
    function loadPackageConfigPath(loader, config, pkgConfigPath, metadata, normalized) {
        var configLoader = loader.pluginLoader || loader;
        if (config.packageConfigKeys.indexOf(pkgConfigPath) === -1)
            config.packageConfigKeys.push(pkgConfigPath);
        return configLoader["import"](pkgConfigPath)
            .then(function (pkgConfig) {
            setPkgConfig(metadata.packageConfig, pkgConfig, metadata.packageKey, true, config);
            metadata.packageConfig.configured = true;
        })["catch"](function (err) {
            throw LoaderError__Check_error_message_for_loader_stack(err, 'Unable to fetch package configuration file ' + pkgConfigPath);
        });
    }
    function getMetaMatches(pkgMeta, subPath, matchFn) {
        var wildcardIndex;
        for (var module in pkgMeta) {
            var dotRel = module.substr(0, 2) === './' ? './' : '';
            if (dotRel)
                module = module.substr(2);
            wildcardIndex = module.indexOf('*');
            if (wildcardIndex === -1)
                continue;
            if (module.substr(0, wildcardIndex) === subPath.substr(0, wildcardIndex)
                && module.substr(wildcardIndex + 1) === subPath.substr(subPath.length - module.length + wildcardIndex + 1)) {
                if (matchFn(module, pkgMeta[dotRel + module], module.split('/').length))
                    return;
            }
        }
        var exactMeta = pkgMeta[subPath] && Object.hasOwnProperty.call(pkgMeta, subPath) ? pkgMeta[subPath] : pkgMeta['./' + subPath];
        if (exactMeta)
            matchFn(exactMeta, exactMeta, 0);
    }
    var sysConditions = ['browser', 'node', 'dev', 'build', 'production', 'default'];
    function parseCondition(condition) {
        var conditionExport, conditionModule, negation;
        var negation;
        var conditionExportIndex = condition.lastIndexOf('|');
        if (conditionExportIndex !== -1) {
            conditionExport = condition.substr(conditionExportIndex + 1);
            conditionModule = condition.substr(0, conditionExportIndex);
            if (conditionExport[0] === '~') {
                negation = true;
                conditionExport = conditionExport.substr(1);
            }
        }
        else {
            negation = condition[0] === '~';
            conditionExport = 'default';
            conditionModule = condition.substr(negation);
            if (sysConditions.indexOf(conditionModule) !== -1) {
                conditionExport = conditionModule;
                conditionModule = null;
            }
        }
        return {
            module: conditionModule || '@system-env',
            prop: conditionExport,
            negate: negation
        };
    }
    function resolveCondition(conditionObj, parentKey, bool) {
        return RegisterLoader$1.prototype["import"].call(this, conditionObj.module, parentKey)
            .then(function (condition) {
            var m = readMemberExpression(conditionObj.prop, condition);
            if (bool && typeof m !== 'boolean')
                throw new TypeError('Condition did not resolve to a boolean.');
            return conditionObj.negate ? !m : m;
        });
    }
    var interpolationRegEx = /#\{[^\}]+\}/;
    function interpolateConditional(key, parentKey, parentMetadata) {
        var conditionalMatch = key.match(interpolationRegEx);
        if (!conditionalMatch)
            return Promise.resolve(key);
        var conditionObj = parseCondition.call(this, conditionalMatch[0].substr(2, conditionalMatch[0].length - 3));
        return resolveCondition.call(this, conditionObj, parentKey, false)
            .then(function (conditionValue) {
            if (typeof conditionValue !== 'string')
                throw new TypeError('The condition value for ' + key + ' doesn\'t resolve to a string.');
            if (conditionValue.indexOf('/') !== -1)
                throw new TypeError('Unabled to interpolate conditional ' + key + (parentKey ? ' in ' + parentKey : '') + '\n\tThe condition value ' + conditionValue + ' cannot contain a "/" separator.');
            return key.replace(interpolationRegEx, conditionValue);
        });
    }
    var envConfigNames = ['browserConfig', 'nodeConfig', 'devConfig', 'buildConfig', 'productionConfig'];
    function envSet(loader, cfg, envCallback) {
        for (var i = 0; i < envConfigNames.length; i++) {
            var envConfig = envConfigNames[i];
            if (cfg[envConfig] && envModule[envConfig.substr(0, envConfig.length - 6)])
                envCallback(cfg[envConfig]);
        }
    }
    function cloneObj(obj, maxDepth) {
        var clone = {};
        for (var p in obj) {
            var prop = obj[p];
            if (maxDepth > 1) {
                if (prop instanceof Array)
                    clone[p] = [].concat(prop);
                else if (typeof prop === 'object')
                    clone[p] = cloneObj(prop, maxDepth - 1);
                else if (p !== 'packageConfig')
                    clone[p] = prop;
            }
            else {
                clone[p] = prop;
            }
        }
        return clone;
    }
    function getConfigItem(config, p) {
        var cfgItem = config[p];
        if (cfgItem instanceof Array)
            return config[p].concat([]);
        else if (typeof cfgItem === 'object')
            return cloneObj(cfgItem, 3);
        else
            return config[p];
    }
    function getConfig(configName) {
        if (configName) {
            if (configNames.indexOf(configName) !== -1)
                return getConfigItem(this[CONFIG], configName);
            throw new Error('"' + configName + '" is not a valid configuration name. Must be one of ' + configNames.join(', ') + '.');
        }
        var cfg = {};
        for (var i = 0; i < configNames.length; i++) {
            var p = configNames[i];
            var configItem = getConfigItem(this[CONFIG], p);
            if (configItem !== undefined)
                cfg[p] = configItem;
        }
        return cfg;
    }
    function setConfig(cfg, isEnvConfig) {
        var loader = this;
        var config = this[CONFIG];
        if ('warnings' in cfg)
            config.warnings = cfg.warnings;
        if ('wasm' in cfg)
            config.wasm = typeof WebAssembly !== 'undefined' && cfg.wasm;
        if ('production' in cfg || 'build' in cfg)
            setProduction.call(loader, !!cfg.production, !!(cfg.build || envModule && envModule.build));
        if (!isEnvConfig) {
            var baseURL;
            envSet(loader, cfg, function (cfg) {
                baseURL = baseURL || cfg.baseURL;
            });
            baseURL = baseURL || cfg.baseURL;
            if (baseURL) {
                config.baseURL = resolveIfNotPlain(baseURL, baseURI) || resolveIfNotPlain('./' + baseURL, baseURI);
                if (config.baseURL[config.baseURL.length - 1] !== '/')
                    config.baseURL += '/';
            }
            if (cfg.paths)
                extend(config.paths, cfg.paths);
            envSet(loader, cfg, function (cfg) {
                if (cfg.paths)
                    extend(config.paths, cfg.paths);
            });
            for (var p in config.paths) {
                if (config.paths[p].indexOf('*') === -1)
                    continue;
                warn.call(config, 'Path config ' + p + ' -> ' + config.paths[p] + ' is no longer supported as wildcards are deprecated.');
                delete config.paths[p];
            }
        }
        if (cfg.defaultJSExtensions)
            warn.call(config, 'The defaultJSExtensions configuration option is deprecated.\n  Use packages defaultExtension instead.', true);
        if (typeof cfg.pluginFirst === 'boolean')
            config.pluginFirst = cfg.pluginFirst;
        if (cfg.map) {
            for (var p in cfg.map) {
                var v = cfg.map[p];
                if (typeof v === 'string') {
                    var mapped = coreResolve.call(loader, config, v, undefined, false, false);
                    if (mapped[mapped.length - 1] === '/' && p[p.length - 1] !== ':' && p[p.length - 1] !== '/')
                        mapped = mapped.substr(0, mapped.length - 1);
                    config.map[p] = mapped;
                }
                else {
                    var pkgName = coreResolve.call(loader, config, p[p.length - 1] !== '/' ? p + '/' : p, undefined, true, true);
                    pkgName = pkgName.substr(0, pkgName.length - 1);
                    var pkg = config.packages[pkgName];
                    if (!pkg) {
                        pkg = config.packages[pkgName] = createPackage();
                        pkg.defaultExtension = '';
                    }
                    setPkgConfig(pkg, { map: v }, pkgName, false, config);
                }
            }
        }
        if (cfg.packageConfigPaths) {
            var packageConfigPaths = [];
            for (var i = 0; i < cfg.packageConfigPaths.length; i++) {
                var path = cfg.packageConfigPaths[i];
                var packageLength = Math.max(path.lastIndexOf('*') + 1, path.lastIndexOf('/'));
                var normalized = coreResolve.call(loader, config, path.substr(0, packageLength), undefined, false, false);
                packageConfigPaths[i] = normalized + path.substr(packageLength);
            }
            config.packageConfigPaths = packageConfigPaths;
        }
        if (cfg.bundles) {
            for (var p in cfg.bundles) {
                var bundle = [];
                for (var i = 0; i < cfg.bundles[p].length; i++)
                    bundle.push(loader.normalizeSync(cfg.bundles[p][i]));
                config.bundles[p] = bundle;
            }
        }
        if (cfg.packages) {
            for (var p in cfg.packages) {
                if (p.match(/^([^\/]+:)?\/\/$/))
                    throw new TypeError('"' + p + '" is not a valid package name.');
                var pkgName = coreResolve.call(loader, config, p[p.length - 1] !== '/' ? p + '/' : p, undefined, true, true);
                pkgName = pkgName.substr(0, pkgName.length - 1);
                setPkgConfig(config.packages[pkgName] = config.packages[pkgName] || createPackage(), cfg.packages[p], pkgName, false, config);
            }
        }
        if (cfg.depCache) {
            for (var p in cfg.depCache)
                config.depCache[loader.normalizeSync(p)] = [].concat(cfg.depCache[p]);
        }
        if (cfg.meta) {
            for (var p in cfg.meta) {
                if (p[0] === '*') {
                    extend(config.meta[p] = config.meta[p] || {}, cfg.meta[p]);
                }
                else {
                    var resolved = coreResolve.call(loader, config, p, undefined, true, true);
                    extend(config.meta[resolved] = config.meta[resolved] || {}, cfg.meta[p]);
                }
            }
        }
        if ('transpiler' in cfg)
            config.transpiler = cfg.transpiler;
        for (var c in cfg) {
            if (configNames.indexOf(c) !== -1)
                continue;
            if (envConfigNames.indexOf(c) !== -1)
                continue;
            loader[c] = cfg[c];
        }
        envSet(loader, cfg, function (cfg) {
            loader.config(cfg, true);
        });
    }
    function createPackage() {
        return {
            defaultExtension: undefined,
            main: undefined,
            format: undefined,
            meta: undefined,
            map: undefined,
            packageConfig: undefined,
            configured: false
        };
    }
    function setPkgConfig(pkg, cfg, pkgName, prependConfig, config) {
        for (var prop in cfg) {
            if (prop === 'main' || prop === 'format' || prop === 'defaultExtension' || prop === 'configured') {
                if (!prependConfig || pkg[prop] === undefined)
                    pkg[prop] = cfg[prop];
            }
            else if (prop === 'map') {
                (prependConfig ? prepend : extend)(pkg.map = pkg.map || {}, cfg.map);
            }
            else if (prop === 'meta') {
                (prependConfig ? prepend : extend)(pkg.meta = pkg.meta || {}, cfg.meta);
            }
            else if (Object.hasOwnProperty.call(cfg, prop)) {
                warn.call(config, '"' + prop + '" is not a valid package configuration option in package ' + pkgName);
            }
        }
        if (pkg.defaultExtension === undefined)
            pkg.defaultExtension = 'js';
        if (pkg.main === undefined && pkg.map && pkg.map['.']) {
            pkg.main = pkg.map['.'];
            delete pkg.map['.'];
        }
        else if (typeof pkg.main === 'object') {
            pkg.map = pkg.map || {};
            pkg.map['./@main'] = pkg.main;
            pkg.main['default'] = pkg.main['default'] || './';
            pkg.main = '@main';
        }
        return pkg;
    }
    var hasBuffer = typeof Buffer !== 'undefined';
    try {
        if (hasBuffer && new Buffer('a').toString('base64') !== 'YQ==')
            hasBuffer = false;
    }
    catch (e) {
        hasBuffer = false;
    }
    var sourceMapPrefix = '\n//# sourceMapping' + 'URL=data:application/json;base64,';
    function inlineSourceMap(sourceMapString) {
        if (hasBuffer)
            return sourceMapPrefix + new Buffer(sourceMapString).toString('base64');
        else if (typeof btoa !== 'undefined')
            return sourceMapPrefix + btoa(unescape(encodeURIComponent(sourceMapString)));
        else
            return '';
    }
    function getSource(source, sourceMap, address, wrap) {
        var lastLineIndex = source.lastIndexOf('\n');
        if (sourceMap) {
            if (typeof sourceMap != 'object')
                throw new TypeError('load.metadata.sourceMap must be set to an object.');
            sourceMap = JSON.stringify(sourceMap);
        }
        return (wrap ? '(function(System, SystemJS) {' : '') + source + (wrap ? '\n})(System, System);' : '')
            + (source.substr(lastLineIndex, 15) != '\n//# sourceURL='
                ? '\n//# sourceURL=' + address + (sourceMap ? '!transpiled' : '') : '')
            + (sourceMap && inlineSourceMap(sourceMap) || '');
    }
    var head;
    function scriptExec(loader, source, sourceMap, address, nonce) {
        if (!head)
            head = document.head || document.body || document.documentElement;
        var script = document.createElement('script');
        script.text = getSource(source, sourceMap, address, false);
        var onerror = window.onerror;
        var e;
        window.onerror = function (_e) {
            e = addToError(_e, 'Evaluating ' + address);
            if (onerror)
                onerror.apply(this, arguments);
        };
        preExec(loader);
        if (nonce)
            script.setAttribute('nonce', nonce);
        head.appendChild(script);
        head.removeChild(script);
        postExec();
        window.onerror = onerror;
        if (e)
            return e;
    }
    var vm;
    var useVm;
    var curSystem;
    var callCounter = 0;
    function preExec(loader) {
        if (callCounter++ == 0)
            curSystem = envGlobal.System;
        envGlobal.System = envGlobal.SystemJS = loader;
    }
    function postExec() {
        if (--callCounter == 0)
            envGlobal.System = envGlobal.SystemJS = curSystem;
    }
    var supportsScriptExec = false;
    if (isBrowser && typeof document != 'undefined' && document.getElementsByTagName) {
        if (!(window.chrome && window.chrome.extension || navigator.userAgent.match(/^Node\.js/)))
            supportsScriptExec = true;
    }
    function evaluate(loader, source, sourceMap, address, integrity, nonce, noWrap) {
        if (!source)
            return;
        if (nonce && supportsScriptExec)
            return scriptExec(loader, source, sourceMap, address, nonce);
        try {
            preExec(loader);
            if (!vm && loader._nodeRequire) {
                vm = loader._nodeRequire('vm');
                useVm = vm.runInThisContext("typeof System !== 'undefined' && System") === loader;
            }
            if (useVm)
                vm.runInThisContext(getSource(source, sourceMap, address, !noWrap), { filename: address + (sourceMap ? '!transpiled' : '') });
            else
                (0, eval)(getSource(source, sourceMap, address, !noWrap));
            postExec();
        }
        catch (e) {
            postExec();
            return e;
        }
    }
    var formatHelpers = function (loader) {
        loader.set('@@cjs-helpers', loader.newModule({
            requireResolve: requireResolve.bind(loader),
            getPathVars: getPathVars
        }));
        loader.set('@@global-helpers', loader.newModule({
            prepareGlobal: prepareGlobal
        }));
        function require(names, callback, errback, referer) {
            if (typeof names === 'object' && !(names instanceof Array))
                return require.apply(null, Array.prototype.splice.call(arguments, 1, arguments.length - 1));
            if (typeof names === 'string' && typeof callback === 'function')
                names = [names];
            if (names instanceof Array) {
                var dynamicRequires = [];
                for (var i = 0; i < names.length; i++)
                    dynamicRequires.push(loader["import"](names[i], referer));
                Promise.all(dynamicRequires).then(function (modules) {
                    for (var i = 0; i < modules.length; i++)
                        modules[i] = modules[i].__useDefault ? modules[i]["default"] : modules[i];
                    if (callback)
                        callback.apply(null, modules);
                }, errback);
            }
            else if (typeof names === 'string') {
                var normalized = loader.decanonicalize(names, referer);
                var module = loader.get(normalized);
                if (!module)
                    throw new Error('Module not already loaded loading "' + names + '" as ' + normalized + (referer ? ' from "' + referer + '".' : '.'));
                return module.__useDefault ? module["default"] : module;
            }
            else
                throw new TypeError('Invalid require');
        }
        function define(name, deps, factory) {
            if (typeof name !== 'string') {
                factory = deps;
                deps = name;
                name = null;
            }
            if (!(deps instanceof Array)) {
                factory = deps;
                deps = ['require', 'exports', 'module'].splice(0, factory.length);
            }
            if (typeof factory !== 'function')
                factory = (function (factory) {
                    return function () { return factory; };
                })(factory);
            if (!name) {
                if (curMetaDeps) {
                    deps = deps.concat(curMetaDeps);
                    curMetaDeps = undefined;
                }
            }
            var requireIndex, exportsIndex, moduleIndex;
            if ((requireIndex = deps.indexOf('require')) !== -1) {
                deps.splice(requireIndex, 1);
                if (!name)
                    deps = deps.concat(amdGetCJSDeps(factory.toString(), requireIndex));
            }
            if ((exportsIndex = deps.indexOf('exports')) !== -1)
                deps.splice(exportsIndex, 1);
            if ((moduleIndex = deps.indexOf('module')) !== -1)
                deps.splice(moduleIndex, 1);
            function execute(req, exports, module) {
                var depValues = [];
                for (var i = 0; i < deps.length; i++)
                    depValues.push(req(deps[i]));
                module.uri = module.id;
                module.config = noop;
                if (moduleIndex !== -1)
                    depValues.splice(moduleIndex, 0, module);
                if (exportsIndex !== -1)
                    depValues.splice(exportsIndex, 0, exports);
                if (requireIndex !== -1) {
                    var contextualRequire = function (names, callback, errback) {
                        if (typeof names === 'string' && typeof callback !== 'function')
                            return req(names);
                        return require.call(loader, names, callback, errback, module.id);
                    };
                    contextualRequire.toUrl = function (name) {
                        return loader.normalizeSync(name, module.id);
                    };
                    depValues.splice(requireIndex, 0, contextualRequire);
                }
                var curRequire = envGlobal.require;
                envGlobal.require = require;
                var output = factory.apply(exportsIndex === -1 ? envGlobal : exports, depValues);
                envGlobal.require = curRequire;
                if (typeof output !== 'undefined')
                    module.exports = output;
            }
            if (!name) {
                loader.registerDynamic(deps, false, curEsModule ? wrapEsModuleExecute(execute) : execute);
            }
            else {
                loader.registerDynamic(name, deps, false, execute);
                if (lastNamedDefine) {
                    lastNamedDefine = undefined;
                    multipleNamedDefines = true;
                }
                else if (!multipleNamedDefines) {
                    lastNamedDefine = [deps, execute];
                }
            }
        }
        define.amd = {};
        loader.amdDefine = define;
        loader.amdRequire = require;
    };
    var windowOrigin;
    if (typeof window !== 'undefined' && typeof document !== 'undefined' && window.location)
        windowOrigin = location.protocol + '//' + location.hostname + (location.port ? ':' + location.port : '');
    function stripOrigin(path) {
        if (path.substr(0, 8) === 'file:///')
            return path.substr(7 + !!isWindows);
        if (windowOrigin && path.substr(0, windowOrigin.length) === windowOrigin)
            return path.substr(windowOrigin.length);
        return path;
    }
    function requireResolve(request, parentId) {
        return stripOrigin(this.normalizeSync(request, parentId));
    }
    function getPathVars(moduleId) {
        var pluginIndex = moduleId.lastIndexOf('!');
        var filename;
        if (pluginIndex !== -1)
            filename = moduleId.substr(0, pluginIndex);
        else
            filename = moduleId;
        var dirname = filename.split('/');
        dirname.pop();
        dirname = dirname.join('/');
        return {
            filename: stripOrigin(filename),
            dirname: stripOrigin(dirname)
        };
    }
    var commentRegEx$1 = /(^|[^\\])(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg;
    var stringRegEx$1 = /("[^"\\\n\r]*(\\.[^"\\\n\r]*)*"|'[^'\\\n\r]*(\\.[^'\\\n\r]*)*')/g;
    function getCJSDeps(source) {
        cjsRequireRegEx.lastIndex = commentRegEx$1.lastIndex = stringRegEx$1.lastIndex = 0;
        var deps = [];
        var match;
        var stringLocations = [], commentLocations = [];
        function inLocation(locations, match) {
            for (var i = 0; i < locations.length; i++)
                if (locations[i][0] < match.index && locations[i][1] > match.index)
                    return true;
            return false;
        }
        if (source.length / source.split('\n').length < 200) {
            while (match = stringRegEx$1.exec(source))
                stringLocations.push([match.index, match.index + match[0].length]);
            while (match = commentRegEx$1.exec(source)) {
                if (!inLocation(stringLocations, match))
                    commentLocations.push([match.index + match[1].length, match.index + match[0].length - 1]);
            }
        }
        while (match = cjsRequireRegEx.exec(source)) {
            if (!inLocation(stringLocations, match) && !inLocation(commentLocations, match)) {
                var dep = match[1].substr(1, match[1].length - 2);
                if (dep.match(/"|'/))
                    continue;
                deps.push(dep);
            }
        }
        return deps;
    }
    var ignoredGlobalProps = ['_g', 'sessionStorage', 'localStorage', 'clipboardData', 'frames', 'frameElement', 'external',
        'mozAnimationStartTime', 'webkitStorageInfo', 'webkitIndexedDB', 'mozInnerScreenY', 'mozInnerScreenX'];
    var globalSnapshot;
    function globalIterator(globalName) {
        if (ignoredGlobalProps.indexOf(globalName) !== -1)
            return;
        try {
            var value = envGlobal[globalName];
        }
        catch (e) {
            ignoredGlobalProps.push(globalName);
        }
        this(globalName, value);
    }
    function getGlobalValue(exports) {
        if (typeof exports === 'string')
            return readMemberExpression(exports, envGlobal);
        if (!(exports instanceof Array))
            throw new Error('Global exports must be a string or array.');
        var globalValue = {};
        for (var i = 0; i < exports.length; i++)
            globalValue[exports[i].split('.').pop()] = readMemberExpression(exports[i], envGlobal);
        return globalValue;
    }
    function prepareGlobal(moduleName, exports, globals, encapsulate) {
        var curDefine = envGlobal.define;
        envGlobal.define = undefined;
        var oldGlobals;
        if (globals) {
            oldGlobals = {};
            for (var g in globals) {
                oldGlobals[g] = envGlobal[g];
                envGlobal[g] = globals[g];
            }
        }
        if (!exports) {
            globalSnapshot = {};
            Object.keys(envGlobal).forEach(globalIterator, function (name, value) {
                globalSnapshot[name] = value;
            });
        }
        return function () {
            var globalValue = exports ? getGlobalValue(exports) : {};
            var singleGlobal;
            var multipleExports = !!exports;
            if (!exports || encapsulate)
                Object.keys(envGlobal).forEach(globalIterator, function (name, value) {
                    if (globalSnapshot[name] === value)
                        return;
                    if (value === undefined)
                        return;
                    if (encapsulate)
                        envGlobal[name] = undefined;
                    if (!exports) {
                        globalValue[name] = value;
                        if (singleGlobal !== undefined) {
                            if (!multipleExports && singleGlobal !== value)
                                multipleExports = true;
                        }
                        else {
                            singleGlobal = value;
                        }
                    }
                });
            globalValue = multipleExports ? globalValue : singleGlobal;
            if (oldGlobals) {
                for (var g in oldGlobals)
                    envGlobal[g] = oldGlobals[g];
            }
            envGlobal.define = curDefine;
            return globalValue;
        };
    }
    var cjsRequirePre = "(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])";
    var cjsRequirePost = "\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)";
    var fnBracketRegEx = /\(([^\)]*)\)/;
    var wsRegEx = /^\s+|\s+$/g;
    var requireRegExs = {};
    function amdGetCJSDeps(source, requireIndex) {
        source = source.replace(commentRegEx$1, '');
        var params = source.match(fnBracketRegEx);
        var requireAlias = (params[1].split(',')[requireIndex] || 'require').replace(wsRegEx, '');
        var requireRegEx = requireRegExs[requireAlias] || (requireRegExs[requireAlias] = new RegExp(cjsRequirePre + requireAlias + cjsRequirePost, 'g'));
        requireRegEx.lastIndex = 0;
        var deps = [];
        var match;
        while (match = requireRegEx.exec(source))
            deps.push(match[2] || match[3]);
        return deps;
    }
    function wrapEsModuleExecute(execute) {
        return function (require, exports, module) {
            execute(require, exports, module);
            exports = module.exports;
            if ((typeof exports === 'object' || typeof exports === 'function') && !('__esModule' in exports))
                Object.defineProperty(module.exports, '__esModule', {
                    value: true
                });
        };
    }
    var multipleNamedDefines = false;
    var lastNamedDefine;
    var curMetaDeps;
    var curEsModule = false;
    function clearLastDefine(metaDeps, esModule) {
        curMetaDeps = metaDeps;
        curEsModule = esModule;
        lastNamedDefine = undefined;
        multipleNamedDefines = false;
    }
    function registerLastDefine(loader) {
        if (lastNamedDefine)
            loader.registerDynamic(curMetaDeps ? lastNamedDefine[0].concat(curMetaDeps) : lastNamedDefine[0], false, curEsModule ? wrapEsModuleExecute(lastNamedDefine[1]) : lastNamedDefine[1]);
        else if (multipleNamedDefines)
            loader.registerDynamic([], false, noop);
    }
    var supportsScriptLoad = (isBrowser || isWorker) && typeof navigator !== 'undefined' && navigator.userAgent && !navigator.userAgent.match(/MSIE (9|10).0/);
    var nodeRequire;
    if (typeof require !== 'undefined' && typeof process !== 'undefined' && !process.browser)
        nodeRequire = require;
    function setMetaEsModule(metadata, moduleValue) {
        if (metadata.load.esModule && (typeof moduleValue === 'object' || typeof moduleValue === 'function') &&
            !('__esModule' in moduleValue))
            Object.defineProperty(moduleValue, '__esModule', {
                value: true
            });
    }
    function instantiate$1(key, processAnonRegister) {
        var loader = this;
        var config = this[CONFIG];
        return (loadBundlesAndDepCache(config, this, key) || resolvedPromise)
            .then(function () {
            if (processAnonRegister())
                return;
            var metadata = loader[METADATA][key];
            if (key.substr(0, 6) === '@node/') {
                if (!loader._nodeRequire)
                    throw new TypeError('Error loading ' + key + '. Can only load node core modules in Node.');
                loader.registerDynamic([], false, function () {
                    return loadNodeModule.call(loader, key.substr(6), loader.baseURL);
                });
                processAnonRegister();
                return;
            }
            if (metadata.load.scriptLoad) {
                if (metadata.load.pluginKey || !supportsScriptLoad) {
                    metadata.load.scriptLoad = false;
                    warn.call(config, 'scriptLoad not supported for "' + key + '"');
                }
            }
            else if (metadata.load.scriptLoad !== false && !metadata.load.pluginKey && supportsScriptLoad) {
                if (!metadata.load.deps && !metadata.load.globals &&
                    (metadata.load.format === 'system' || metadata.load.format === 'register' || metadata.load.format === 'global' && metadata.load.exports))
                    metadata.load.scriptLoad = true;
            }
            if (!metadata.load.scriptLoad)
                return initializePlugin(loader, key, metadata)
                    .then(function () {
                    return runFetchPipeline(loader, key, metadata, processAnonRegister, config.wasm);
                });
            return new Promise(function (resolve, reject) {
                if (metadata.load.format === 'amd' && envGlobal.define !== loader.amdDefine)
                    throw new Error('Loading AMD with scriptLoad requires setting the global `' + globalName + '.define = SystemJS.amdDefine`');
                scriptLoad(key, metadata.load.crossOrigin, metadata.load.integrity, function () {
                    if (!processAnonRegister()) {
                        metadata.load.format = 'global';
                        var globalValue = metadata.load.exports && getGlobalValue(metadata.load.exports);
                        loader.registerDynamic([], false, function () {
                            setMetaEsModule(metadata, globalValue);
                            return globalValue;
                        });
                        processAnonRegister();
                    }
                    resolve();
                }, reject);
            });
        })
            .then(function (instantiated) {
            delete loader[METADATA][key];
            return instantiated;
        });
    }
    function initializePlugin(loader, key, metadata) {
        if (!metadata.pluginKey)
            return resolvedPromise;
        return loader["import"](metadata.pluginKey).then(function (plugin) {
            metadata.pluginModule = plugin;
            metadata.pluginLoad = {
                name: key,
                address: metadata.pluginArgument,
                source: undefined,
                metadata: metadata.load
            };
            metadata.load.deps = metadata.load.deps || [];
        });
    }
    function loadBundlesAndDepCache(config, loader, key) {
        var deps = config.depCache[key];
        if (deps) {
            for (var i = 0; i < deps.length; i++)
                loader.normalize(deps[i], key).then(preloadScript);
        }
        else {
            var matched = false;
            for (var b in config.bundles) {
                for (var i = 0; i < config.bundles[b].length; i++) {
                    var curModule = config.bundles[b][i];
                    if (curModule === key) {
                        matched = true;
                        break;
                    }
                    if (curModule.indexOf('*') !== -1) {
                        var parts = curModule.split('*');
                        if (parts.length !== 2) {
                            config.bundles[b].splice(i--, 1);
                            continue;
                        }
                        if (key.substr(0, parts[0].length) === parts[0] &&
                            key.substr(key.length - parts[1].length, parts[1].length) === parts[1]) {
                            matched = true;
                            break;
                        }
                    }
                }
                if (matched)
                    return loader["import"](b);
            }
        }
    }
    function runFetchPipeline(loader, key, metadata, processAnonRegister, wasm) {
        if (metadata.load.exports && !metadata.load.format)
            metadata.load.format = 'global';
        return resolvedPromise
            .then(function () {
            if (!metadata.pluginModule || !metadata.pluginModule.locate)
                return;
            return Promise.resolve(metadata.pluginModule.locate.call(loader, metadata.pluginLoad))
                .then(function (address) {
                if (address)
                    metadata.pluginLoad.address = address;
            });
        })
            .then(function () {
            if (!metadata.pluginModule)
                return fetch$1(key, metadata.load.authorization, metadata.load.integrity, wasm);
            wasm = false;
            if (!metadata.pluginModule.fetch)
                return fetch$1(metadata.pluginLoad.address, metadata.load.authorization, metadata.load.integrity, false);
            return metadata.pluginModule.fetch.call(loader, metadata.pluginLoad, function (load) {
                return fetch$1(load.address, metadata.load.authorization, metadata.load.integrity, false);
            });
        })
            .then(function (fetched) {
            if (!wasm || typeof fetched === 'string')
                return translateAndInstantiate(loader, key, fetched, metadata, processAnonRegister);
            var bytes = new Uint8Array(fetched);
            if (bytes[0] === 0 && bytes[1] === 97 && bytes[2] === 115) {
                return WebAssembly.compile(bytes).then(function (m) {
                    var deps = [];
                    var setters = [];
                    var importObj = {};
                    if (WebAssembly.Module.imports)
                        WebAssembly.Module.imports(m).forEach(function (i) {
                            var key = i.module;
                            setters.push(function (m) {
                                importObj[key] = m;
                            });
                            if (deps.indexOf(key) === -1)
                                deps.push(key);
                        });
                    loader.register(deps, function (_export) {
                        return {
                            setters: setters,
                            execute: function () {
                                _export(new WebAssembly.Instance(m, importObj).exports);
                            }
                        };
                    });
                    processAnonRegister();
                });
            }
            var stringSource = isBrowser ? new TextDecoder('utf-8').decode(bytes) : fetched.toString();
            return translateAndInstantiate(loader, key, stringSource, metadata, processAnonRegister);
        });
    }
    function translateAndInstantiate(loader, key, source, metadata, processAnonRegister) {
        return Promise.resolve(source)
            .then(function (source) {
            if (metadata.load.format === 'detect')
                metadata.load.format = undefined;
            readMetaSyntax(source, metadata);
            if (!metadata.pluginModule || !metadata.pluginModule.translate)
                return source;
            metadata.pluginLoad.source = source;
            return Promise.resolve(metadata.pluginModule.translate.call(loader, metadata.pluginLoad, metadata.traceOpts))
                .then(function (translated) {
                if (metadata.load.sourceMap) {
                    if (typeof metadata.load.sourceMap !== 'object')
                        throw new Error('metadata.load.sourceMap must be set to an object.');
                    sanitizeSourceMap(metadata.pluginLoad.address, metadata.load.sourceMap);
                }
                if (typeof translated === 'string')
                    return translated;
                else
                    return metadata.pluginLoad.source;
            });
        })
            .then(function (source) {
            if (metadata.load.format === 'register' || !metadata.load.format && detectRegisterFormat(source)) {
                metadata.load.format = 'register';
                return source;
            }
            if (metadata.load.format !== 'esm' && (metadata.load.format || !source.match(esmRegEx))) {
                return source;
            }
            metadata.load.format = 'esm';
            return transpile(loader, source, key, metadata, processAnonRegister);
        })
            .then(function (translated) {
            if (typeof translated !== 'string' || !metadata.pluginModule || !metadata.pluginModule.instantiate)
                return translated;
            var calledInstantiate = false;
            metadata.pluginLoad.source = translated;
            return Promise.resolve(metadata.pluginModule.instantiate.call(loader, metadata.pluginLoad, function (load) {
                translated = load.source;
                metadata.load = load.metadata;
                if (calledInstantiate)
                    throw new Error('Instantiate must only be called once.');
                calledInstantiate = true;
            }))
                .then(function (result) {
                if (calledInstantiate)
                    return translated;
                return protectedCreateNamespace(result);
            });
        })
            .then(function (source) {
            if (typeof source !== 'string')
                return source;
            if (!metadata.load.format)
                metadata.load.format = detectLegacyFormat(source);
            var registered = false;
            switch (metadata.load.format) {
                case 'esm':
                case 'register':
                case 'system':
                    var err = evaluate(loader, source, metadata.load.sourceMap, key, metadata.load.integrity, metadata.load.nonce, false);
                    if (err)
                        throw err;
                    if (!processAnonRegister())
                        return emptyModule;
                    return;
                    break;
                case 'json':
                    return loader.newModule({ "default": JSON.parse(source), __useDefault: true });
                case 'amd':
                    var curDefine = envGlobal.define;
                    envGlobal.define = loader.amdDefine;
                    clearLastDefine(metadata.load.deps, metadata.load.esModule);
                    var err = evaluate(loader, source, metadata.load.sourceMap, key, metadata.load.integrity, metadata.load.nonce, false);
                    registered = processAnonRegister();
                    if (!registered) {
                        registerLastDefine(loader);
                        registered = processAnonRegister();
                    }
                    envGlobal.define = curDefine;
                    if (err)
                        throw err;
                    break;
                case 'cjs':
                    var metaDeps = metadata.load.deps;
                    var deps = (metadata.load.deps || []).concat(metadata.load.cjsRequireDetection ? getCJSDeps(source) : []);
                    for (var g in metadata.load.globals)
                        if (metadata.load.globals[g])
                            deps.push(metadata.load.globals[g]);
                    loader.registerDynamic(deps, true, function (require, exports, module) {
                        require.resolve = function (key) {
                            return requireResolve.call(loader, key, module.id);
                        };
                        module.paths = [];
                        module.require = require;
                        if (!metadata.load.cjsDeferDepsExecute && metaDeps)
                            for (var i = 0; i < metaDeps.length; i++)
                                require(metaDeps[i]);
                        var pathVars = getPathVars(module.id);
                        var __cjsWrapper = {
                            exports: exports,
                            args: [require, exports, module, pathVars.filename, pathVars.dirname, envGlobal, envGlobal]
                        };
                        var cjsWrapper = "(function (require, exports, module, __filename, __dirname, global, GLOBAL";
                        if (metadata.load.globals)
                            for (var g in metadata.load.globals) {
                                __cjsWrapper.args.push(require(metadata.load.globals[g]));
                                cjsWrapper += ", " + g;
                            }
                        var define = envGlobal.define;
                        envGlobal.define = undefined;
                        envGlobal.__cjsWrapper = __cjsWrapper;
                        source = cjsWrapper + ") {" + source.replace(hashBangRegEx, '') + "\n}).apply(__cjsWrapper.exports, __cjsWrapper.args);";
                        var err = evaluate(loader, source, metadata.load.sourceMap, key, metadata.load.integrity, metadata.load.nonce, false);
                        if (err)
                            throw err;
                        setMetaEsModule(metadata, exports);
                        envGlobal.__cjsWrapper = undefined;
                        envGlobal.define = define;
                    });
                    registered = processAnonRegister();
                    break;
                case 'global':
                    var deps = metadata.load.deps || [];
                    for (var g in metadata.load.globals) {
                        var gl = metadata.load.globals[g];
                        if (gl)
                            deps.push(gl);
                    }
                    loader.registerDynamic(deps, false, function (require, exports, module) {
                        var globals;
                        if (metadata.load.globals) {
                            globals = {};
                            for (var g in metadata.load.globals)
                                if (metadata.load.globals[g])
                                    globals[g] = require(metadata.load.globals[g]);
                        }
                        var exportName = metadata.load.exports;
                        if (exportName)
                            source += '\n' + globalName + '["' + exportName + '"] = ' + exportName + ';';
                        var retrieveGlobal = prepareGlobal(module.id, exportName, globals, metadata.load.encapsulateGlobal);
                        var err = evaluate(loader, source, metadata.load.sourceMap, key, metadata.load.integrity, metadata.load.nonce, true);
                        if (err)
                            throw err;
                        var output = retrieveGlobal();
                        setMetaEsModule(metadata, output);
                        return output;
                    });
                    registered = processAnonRegister();
                    break;
                default:
                    throw new TypeError('Unknown module format "' + metadata.load.format + '" for "' + key + '".' + (metadata.load.format === 'es6' ? ' Use "esm" instead here.' : ''));
            }
            if (!registered)
                throw new Error('Module ' + key + ' detected as ' + metadata.load.format + ' but didn\'t execute correctly.');
        });
    }
    var globalName = typeof self != 'undefined' ? 'self' : 'global';
    var esmRegEx = /(^\s*|[}\);\n]\s*)(import\s*(['"]|(\*\s+as\s+)?[^"'\(\)\n;]+\s*from\s*['"]|\{)|export\s+\*\s+from\s+["']|export\s*(\{|default|function|class|var|const|let|async\s+function))/;
    var leadingCommentAndMetaRegEx = /^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)*\s*/;
    function detectRegisterFormat(source) {
        var leadingCommentAndMeta = source.match(leadingCommentAndMetaRegEx);
        return leadingCommentAndMeta && source.substr(leadingCommentAndMeta[0].length, 15) === 'System.register';
    }
    var amdRegEx = /(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])define\s*\(\s*("[^"]+"\s*,\s*|'[^']+'\s*,\s*)?\s*(\[(\s*(("[^"]+"|'[^']+')\s*,|\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*(\s*("[^"]+"|'[^']+')\s*,?)?(\s*(\/\/.*\r?\n|\/\*(.|\s)*?\*\/))*\s*\]|function\s*|{|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*\))/;
    var cjsExportsRegEx = /(?:^\uFEFF?|[^$_a-zA-Z\xA0-\uFFFF.])(exports\s*(\[['"]|\.)|module(\.exports|\['exports'\]|\["exports"\])\s*(\[['"]|[=,\.]))/;
    var hashBangRegEx = /^\#\!.*/;
    function detectLegacyFormat(source) {
        if (source.match(amdRegEx))
            return 'amd';
        cjsExportsRegEx.lastIndex = 0;
        cjsRequireRegEx.lastIndex = 0;
        if (cjsRequireRegEx.exec(source) || cjsExportsRegEx.exec(source))
            return 'cjs';
        return 'global';
    }
    function sanitizeSourceMap(address, sourceMap) {
        var originalName = address.split('!')[0];
        if (!sourceMap.file || sourceMap.file == address)
            sourceMap.file = originalName + '!transpiled';
        if (!sourceMap.sources || sourceMap.sources.length <= 1 && (!sourceMap.sources[0] || sourceMap.sources[0] === address))
            sourceMap.sources = [originalName];
    }
    function transpile(loader, source, key, metadata, processAnonRegister) {
        if (!loader.transpiler)
            throw new TypeError('Unable to dynamically transpile ES module\n   A loader plugin needs to be configured via `SystemJS.config({ transpiler: \'transpiler-module\' })`.');
        if (metadata.load.deps) {
            var depsPrefix = '';
            for (var i = 0; i < metadata.load.deps.length; i++)
                depsPrefix += 'import "' + metadata.load.deps[i] + '"; ';
            source = depsPrefix + source;
        }
        return loader["import"].call(loader, loader.transpiler)
            .then(function (transpiler) {
            if (transpiler.__useDefault)
                transpiler = transpiler["default"];
            if (!transpiler.translate)
                throw new Error(loader.transpiler + ' is not a valid transpiler plugin.');
            if (transpiler === metadata.pluginModule)
                return source;
            if (typeof metadata.load.sourceMap === 'string')
                metadata.load.sourceMap = JSON.parse(metadata.load.sourceMap);
            metadata.pluginLoad = metadata.pluginLoad || {
                name: key,
                address: key,
                source: source,
                metadata: metadata.load
            };
            metadata.load.deps = metadata.load.deps || [];
            return Promise.resolve(transpiler.translate.call(loader, metadata.pluginLoad, metadata.traceOpts))
                .then(function (source) {
                var sourceMap = metadata.load.sourceMap;
                if (sourceMap && typeof sourceMap === 'object')
                    sanitizeSourceMap(key, sourceMap);
                if (metadata.load.format === 'esm' && detectRegisterFormat(source))
                    metadata.load.format = 'register';
                return source;
            });
        }, function (err) {
            throw LoaderError__Check_error_message_for_loader_stack(err, 'Unable to load transpiler to transpile ' + key);
        });
    }
    var metaRegEx = /^(\s*\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\s*\/\/[^\n]*|\s*"[^"]+"\s*;?|\s*'[^']+'\s*;?)+/;
    var metaPartRegEx = /\/\*[^\*]*(\*(?!\/)[^\*]*)*\*\/|\/\/[^\n]*|"[^"]+"\s*;?|'[^']+'\s*;?/g;
    function setMetaProperty(target, p, value) {
        var pParts = p.split('.');
        var curPart;
        while (pParts.length > 1) {
            curPart = pParts.shift();
            target = target[curPart] = target[curPart] || {};
        }
        curPart = pParts.shift();
        if (target[curPart] === undefined)
            target[curPart] = value;
    }
    function readMetaSyntax(source, metadata) {
        var meta = source.match(metaRegEx);
        if (!meta)
            return;
        var metaParts = meta[0].match(metaPartRegEx);
        for (var i = 0; i < metaParts.length; i++) {
            var curPart = metaParts[i];
            var len = curPart.length;
            var firstChar = curPart.substr(0, 1);
            if (curPart.substr(len - 1, 1) == ';')
                len--;
            if (firstChar != '"' && firstChar != "'")
                continue;
            var metaString = curPart.substr(1, curPart.length - 3);
            var metaName = metaString.substr(0, metaString.indexOf(' '));
            if (metaName) {
                var metaValue = metaString.substr(metaName.length + 1, metaString.length - metaName.length - 1);
                if (metaName === 'deps')
                    metaName = 'deps[]';
                if (metaName.substr(metaName.length - 2, 2) === '[]') {
                    metaName = metaName.substr(0, metaName.length - 2);
                    metadata.load[metaName] = metadata.load[metaName] || [];
                    metadata.load[metaName].push(metaValue);
                }
                else if (metaName !== 'use') {
                    setMetaProperty(metadata.load, metaName, metaValue);
                }
            }
            else {
                metadata.load[metaString] = true;
            }
        }
    }
    var scriptSrc;
    if (typeof Promise === 'undefined')
        throw new Error('SystemJS needs a Promise polyfill.');
    if (typeof document !== 'undefined') {
        var scripts = document.getElementsByTagName('script');
        var curScript = scripts[scripts.length - 1];
        if (document.currentScript && (curScript.defer || curScript.async))
            curScript = document.currentScript;
        scriptSrc = curScript && curScript.src;
    }
    else if (typeof importScripts !== 'undefined') {
        try {
            throw new Error('_');
        }
        catch (e) {
            e.stack.replace(/(?:at|@).*(http.+):[\d]+:[\d]+/, function (m, url) {
                scriptSrc = url;
            });
        }
    }
    else if (typeof __filename !== 'undefined') {
        scriptSrc = __filename;
    }
    function SystemJSLoader$1() {
        RegisterLoader$1.call(this);
        this._loader = {};
        this[METADATA] = {};
        this[CONFIG] = {
            baseURL: baseURI,
            paths: {},
            packageConfigPaths: [],
            packageConfigKeys: [],
            map: {},
            packages: {},
            depCache: {},
            meta: {},
            bundles: {},
            production: false,
            transpiler: undefined,
            loadedBundles: {},
            warnings: false,
            pluginFirst: false,
            wasm: false
        };
        this.scriptSrc = scriptSrc;
        this._nodeRequire = nodeRequire;
        this.registry.set('@empty', emptyModule);
        setProduction.call(this, false, false);
        formatHelpers(this);
    }
    var envModule;
    function setProduction(isProduction, isBuilder) {
        this[CONFIG].production = isProduction;
        this.registry.set('@system-env', envModule = this.newModule({
            browser: isBrowser,
            node: !!this._nodeRequire,
            production: !isBuilder && isProduction,
            dev: isBuilder || !isProduction,
            build: isBuilder,
            'default': true
        }));
    }
    SystemJSLoader$1.prototype = Object.create(RegisterLoader$1.prototype);
    SystemJSLoader$1.prototype.constructor = SystemJSLoader$1;
    SystemJSLoader$1.prototype[SystemJSLoader$1.resolve = RegisterLoader$1.resolve] = SystemJSLoader$1.prototype.normalize = normalize;
    SystemJSLoader$1.prototype.load = function (key, parentKey) {
        warn.call(this[CONFIG], 'System.load is deprecated.');
        return this["import"](key, parentKey);
    };
    SystemJSLoader$1.prototype.decanonicalize = SystemJSLoader$1.prototype.normalizeSync = SystemJSLoader$1.prototype.resolveSync = normalizeSync;
    SystemJSLoader$1.prototype[SystemJSLoader$1.instantiate = RegisterLoader$1.instantiate] = instantiate$1;
    SystemJSLoader$1.prototype.config = setConfig;
    SystemJSLoader$1.prototype.getConfig = getConfig;
    SystemJSLoader$1.prototype.global = envGlobal;
    SystemJSLoader$1.prototype["import"] = function () {
        return RegisterLoader$1.prototype["import"].apply(this, arguments)
            .then(function (m) {
            return m.__useDefault ? m["default"] : m;
        });
    };
    var configNames = ['baseURL', 'map', 'paths', 'packages', 'packageConfigPaths', 'depCache', 'meta', 'bundles', 'transpiler', 'warnings', 'pluginFirst', 'production', 'wasm'];
    var hasProxy = typeof Proxy !== 'undefined';
    for (var i = 0; i < configNames.length; i++)
        (function (configName) {
            Object.defineProperty(SystemJSLoader$1.prototype, configName, {
                get: function () {
                    var cfg = getConfigItem(this[CONFIG], configName);
                    if (hasProxy && typeof cfg === 'object')
                        cfg = new Proxy(cfg, {
                            set: function (target, option) {
                                throw new Error('Cannot set SystemJS.' + configName + '["' + option + '"] directly. Use SystemJS.config({ ' + configName + ': { "' + option + '": ... } }) rather.');
                            }
                        });
                    return cfg;
                },
                set: function (name) {
                    throw new Error('Setting `SystemJS.' + configName + '` directly is no longer supported. Use `SystemJS.config({ ' + configName + ': ... })`.');
                }
            });
        })(configNames[i]);
    function registryWarn(loader, method) {
        warn.call(loader[CONFIG], 'SystemJS.' + method + ' is deprecated for SystemJS.registry.' + method);
    }
    SystemJSLoader$1.prototype["delete"] = function (key) {
        registryWarn(this, 'delete');
        this.registry["delete"](key);
    };
    SystemJSLoader$1.prototype.get = function (key) {
        registryWarn(this, 'get');
        return this.registry.get(key);
    };
    SystemJSLoader$1.prototype.has = function (key) {
        registryWarn(this, 'has');
        return this.registry.has(key);
    };
    SystemJSLoader$1.prototype.set = function (key, module) {
        registryWarn(this, 'set');
        return this.registry.set(key, module);
    };
    SystemJSLoader$1.prototype.newModule = function (bindings) {
        return new ModuleNamespace(bindings);
    };
    SystemJSLoader$1.prototype.isModule = isModule;
    SystemJSLoader$1.prototype.register = function (key, deps, declare) {
        if (typeof key === 'string')
            key = decanonicalize.call(this, this[CONFIG], key);
        return RegisterLoader$1.prototype.register.call(this, key, deps, declare);
    };
    SystemJSLoader$1.prototype.registerDynamic = function (key, deps, executingRequire, execute) {
        if (typeof key === 'string')
            key = decanonicalize.call(this, this[CONFIG], key);
        return RegisterLoader$1.prototype.registerDynamic.call(this, key, deps, executingRequire, execute);
    };
    SystemJSLoader$1.prototype.version = "0.20.10 Dev";
    var System = new SystemJSLoader$1();
    if (isBrowser || isWorker)
        envGlobal.SystemJS = envGlobal.System = System;
    if (typeof module !== 'undefined' && module.exports)
        module.exports = System;
}());
var auth = osmAuth({
    oauth_consumer_key: 'hvBxA6pLC16IPwWZHSZjimbxSFh5Y5LKFMCENcgq',
    oauth_secret: 'PULRxpiJ8xhLNZgqxkHaFqLtFk3O1bzfXAxETOiq',
    auto: true,
    landing: 'land.html'
});
var map;
document.getElementById('osmLogin').onclick = function () {
    auth.authenticate(function () {
        update();
    });
};
var downloadOptions = [];
var options = document.getElementsByClassName("option");
for (var i = 0; i < options.length; i++) {
    options[i].onclick = function () {
        if (this.classList.contains('btn-default')) {
            downloadOptions.push(this.id.replace("option-", ""));
        }
        else {
            downloadOptions.splice(downloadOptions.indexOf(this.id.replace("option-", "")), 1);
        }
        if (downloadOptions.length === 0) {
            document.getElementById("download").classList.add("hidden");
        }
        else {
            document.getElementById("download").classList.remove("hidden");
        }
        this.classList.toggle('btn-default');
        this.classList.toggle('btn-primary');
    };
}
document.getElementById("download").onclick = function () {
    document.getElementById("stateOne").classList.add("hidden");
    for (key in downloadOptions) {
        $.getScript("js/" + downloadOptions[key] + ".js");
    }
    document.getElementById("stateTwo").classList.remove("hidden");
};
function update() {
    if (auth.authenticated()) {
        document.getElementById('osmLogin').className = 'green';
        document.getElementById("stateOne").classList.remove("hidden");
        document.getElementById("stateZero").classList.add("hidden");
        document.getElementById("stateTwo").classList.add("hidden");
    }
    else {
        document.getElementById("stateZero").classList.add("hidden");
        document.getElementById("stateOne").classList.remove("hidden");
        document.getElementById('osmLogin').className = '';
    }
}
(function () {
    if (auth.authenticated()) {
        document.getElementById("stateZero").classList.add("hidden");
        document.getElementById("stateOne").classList.remove("hidden");
    }
    map = L.map('map', {
        center: [50.6841, 10.9171],
        zoom: 15,
        minZoom: 14,
        layers: [
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors' })
        ]
    });
    $("#save").click(correctionTool.save);
})();
(function (f) {
    if (typeof exports === "object" && typeof module !== "undefined") {
        module.exports = f();
    }
    else if (typeof define === "function" && define.amd) {
        define([], f);
    }
    else {
        var g;
        if (typeof window !== "undefined") {
            g = window;
        }
        else if (typeof global !== "undefined") {
            g = global;
        }
        else if (typeof self !== "undefined") {
            g = self;
        }
        else {
            g = this;
        }
        g.osmAuth = f();
    }
})(function () {
    var define, module, exports;
    return (function e(t, n, r) {
        function s(o, u) {
            if (!n[o]) {
                if (!t[o]) {
                    var a = typeof require == "function" && require;
                    if (!u && a)
                        return a(o, !0);
                    if (i)
                        return i(o, !0);
                    var f = new Error("Cannot find module '" + o + "'");
                    throw f.code = "MODULE_NOT_FOUND", f;
                }
                var l = n[o] = { exports: {} };
                t[o][0].call(l.exports, function (e) {
                    var n = t[o][1][e];
                    return s(n ? n : e);
                }, l, l.exports, e, t, n, r);
            }
            return n[o].exports;
        }
        var i = typeof require == "function" && require;
        for (var o = 0; o < r.length; o++)
            s(r[o]);
        return s;
    })({
        1: [function (require, module, exports) {
                'use strict';
                var ohauth = require('ohauth'), xtend = require('xtend'), store = require('store');
                module.exports = function (o) {
                    var oauth = {};
                    oauth.authenticated = function () {
                        return !!(token('oauth_token') && token('oauth_token_secret'));
                    };
                    oauth.logout = function () {
                        token('oauth_token', '');
                        token('oauth_token_secret', '');
                        token('oauth_request_token_secret', '');
                        return oauth;
                    };
                    oauth.authenticate = function (callback) {
                        if (oauth.authenticated())
                            return callback();
                        oauth.logout();
                        var params = timenonce(getAuth(o)), url = o.url + '/oauth/request_token';
                        params.oauth_signature = ohauth.signature(o.oauth_secret, '', ohauth.baseString('POST', url, params));
                        if (!o.singlepage) {
                            var w = 600, h = 550, settings = [
                                ['width', w], ['height', h],
                                ['left', screen.width / 2 - w / 2],
                                ['top', screen.height / 2 - h / 2]
                            ].map(function (x) {
                                return x.join('=');
                            }).join(','), popup = window.open('about:blank', 'oauth_window', settings);
                        }
                        ohauth.xhr('POST', url, params, null, {}, reqTokenDone);
                        o.loading();
                        function reqTokenDone(err, xhr) {
                            o.done();
                            if (err)
                                return callback(err);
                            var resp = ohauth.stringQs(xhr.response);
                            token('oauth_request_token_secret', resp.oauth_token_secret);
                            var authorize_url = o.url + '/oauth/authorize?' + ohauth.qsString({
                                oauth_token: resp.oauth_token,
                                oauth_callback: location.href.replace('index.html', '')
                                    .replace(/#.*/, '').replace(location.search, '') + o.landing
                            });
                            if (o.singlepage) {
                                location.href = authorize_url;
                            }
                            else {
                                popup.location = authorize_url;
                            }
                        }
                        window.authComplete = function (token) {
                            var oauth_token = ohauth.stringQs(token.split('?')[1]);
                            get_access_token(oauth_token.oauth_token);
                            delete window.authComplete;
                        };
                        function get_access_token(oauth_token) {
                            var url = o.url + '/oauth/access_token', params = timenonce(getAuth(o)), request_token_secret = token('oauth_request_token_secret');
                            params.oauth_token = oauth_token;
                            params.oauth_signature = ohauth.signature(o.oauth_secret, request_token_secret, ohauth.baseString('POST', url, params));
                            ohauth.xhr('POST', url, params, null, {}, accessTokenDone);
                            o.loading();
                        }
                        function accessTokenDone(err, xhr) {
                            o.done();
                            if (err)
                                return callback(err);
                            var access_token = ohauth.stringQs(xhr.response);
                            token('oauth_token', access_token.oauth_token);
                            token('oauth_token_secret', access_token.oauth_token_secret);
                            callback(null, oauth);
                        }
                    };
                    oauth.bootstrapToken = function (oauth_token, callback) {
                        function get_access_token(oauth_token) {
                            var url = o.url + '/oauth/access_token', params = timenonce(getAuth(o)), request_token_secret = token('oauth_request_token_secret');
                            params.oauth_token = oauth_token;
                            params.oauth_signature = ohauth.signature(o.oauth_secret, request_token_secret, ohauth.baseString('POST', url, params));
                            ohauth.xhr('POST', url, params, null, {}, accessTokenDone);
                            o.loading();
                        }
                        function accessTokenDone(err, xhr) {
                            o.done();
                            if (err)
                                return callback(err);
                            var access_token = ohauth.stringQs(xhr.response);
                            token('oauth_token', access_token.oauth_token);
                            token('oauth_token_secret', access_token.oauth_token_secret);
                            callback(null, oauth);
                        }
                        get_access_token(oauth_token);
                    };
                    oauth.xhr = function (options, callback) {
                        if (!oauth.authenticated()) {
                            if (o.auto)
                                return oauth.authenticate(run);
                            else
                                return callback('not authenticated', null);
                        }
                        else
                            return run();
                        function run() {
                            var params = timenonce(getAuth(o)), oauth_token_secret = token('oauth_token_secret');
                            var url = (options.prefix !== false) ? o.url + options.path : options.path;
                            if ((!options.options || !options.options.header ||
                                options.options.header['Content-Type'] === 'application/x-www-form-urlencoded') &&
                                options.content) {
                                params = xtend(params, ohauth.stringQs(options.content));
                            }
                            params.oauth_token = token('oauth_token');
                            params.oauth_signature = ohauth.signature(o.oauth_secret, oauth_token_secret, ohauth.baseString(options.method, url, params));
                            ohauth.xhr(options.method, url, params, options.content, options.options, done);
                        }
                        function done(err, xhr) {
                            if (err)
                                return callback(err);
                            else if (xhr.responseXML)
                                return callback(err, xhr.responseXML);
                            else
                                return callback(err, xhr.response);
                        }
                    };
                    oauth.preauth = function (c) {
                        if (!c)
                            return;
                        if (c.oauth_token)
                            token('oauth_token', c.oauth_token);
                        if (c.oauth_token_secret)
                            token('oauth_token_secret', c.oauth_token_secret);
                        return oauth;
                    };
                    oauth.options = function (_) {
                        if (!arguments.length)
                            return o;
                        o = _;
                        o.url = o.url || 'http://www.openstreetmap.org';
                        o.landing = o.landing || 'land.html';
                        o.singlepage = o.singlepage || false;
                        o.loading = o.loading || function () {
                        };
                        o.done = o.done || function () {
                        };
                        return oauth.preauth(o);
                    };
                    function timenonce(o) {
                        o.oauth_timestamp = ohauth.timestamp();
                        o.oauth_nonce = ohauth.nonce();
                        return o;
                    }
                    var token;
                    if (store.enabled) {
                        token = function (x, y) {
                            if (arguments.length === 1)
                                return store.get(o.url + x);
                            else if (arguments.length === 2)
                                return store.set(o.url + x, y);
                        };
                    }
                    else {
                        var storage = {};
                        token = function (x, y) {
                            if (arguments.length === 1)
                                return storage[o.url + x];
                            else if (arguments.length === 2)
                                return storage[o.url + x] = y;
                        };
                    }
                    function getAuth(o) {
                        return {
                            oauth_consumer_key: o.oauth_consumer_key,
                            oauth_signature_method: "HMAC-SHA1"
                        };
                    }
                    oauth.options(o);
                    return oauth;
                };
            }, { "ohauth": 3, "store": 4, "xtend": 5 }], 2: [function (require, module, exports) {
                (function (global) {
                    (function () {
                        var Hashes;
                        function utf8Encode(str) {
                            var x, y, output = '', i = -1, l;
                            if (str && str.length) {
                                l = str.length;
                                while ((i += 1) < l) {
                                    x = str.charCodeAt(i);
                                    y = i + 1 < l ? str.charCodeAt(i + 1) : 0;
                                    if (0xD800 <= x && x <= 0xDBFF && 0xDC00 <= y && y <= 0xDFFF) {
                                        x = 0x10000 + ((x & 0x03FF) << 10) + (y & 0x03FF);
                                        i += 1;
                                    }
                                    if (x <= 0x7F) {
                                        output += String.fromCharCode(x);
                                    }
                                    else if (x <= 0x7FF) {
                                        output += String.fromCharCode(0xC0 | ((x >>> 6) & 0x1F), 0x80 | (x & 0x3F));
                                    }
                                    else if (x <= 0xFFFF) {
                                        output += String.fromCharCode(0xE0 | ((x >>> 12) & 0x0F), 0x80 | ((x >>> 6) & 0x3F), 0x80 | (x & 0x3F));
                                    }
                                    else if (x <= 0x1FFFFF) {
                                        output += String.fromCharCode(0xF0 | ((x >>> 18) & 0x07), 0x80 | ((x >>> 12) & 0x3F), 0x80 | ((x >>> 6) & 0x3F), 0x80 | (x & 0x3F));
                                    }
                                }
                            }
                            return output;
                        }
                        function utf8Decode(str) {
                            var i, ac, c1, c2, c3, arr = [], l;
                            i = ac = c1 = c2 = c3 = 0;
                            if (str && str.length) {
                                l = str.length;
                                str += '';
                                while (i < l) {
                                    c1 = str.charCodeAt(i);
                                    ac += 1;
                                    if (c1 < 128) {
                                        arr[ac] = String.fromCharCode(c1);
                                        i += 1;
                                    }
                                    else if (c1 > 191 && c1 < 224) {
                                        c2 = str.charCodeAt(i + 1);
                                        arr[ac] = String.fromCharCode(((c1 & 31) << 6) | (c2 & 63));
                                        i += 2;
                                    }
                                    else {
                                        c2 = str.charCodeAt(i + 1);
                                        c3 = str.charCodeAt(i + 2);
                                        arr[ac] = String.fromCharCode(((c1 & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));
                                        i += 3;
                                    }
                                }
                            }
                            return arr.join('');
                        }
                        function safe_add(x, y) {
                            var lsw = (x & 0xFFFF) + (y & 0xFFFF), msw = (x >> 16) + (y >> 16) + (lsw >> 16);
                            return (msw << 16) | (lsw & 0xFFFF);
                        }
                        function bit_rol(num, cnt) {
                            return (num << cnt) | (num >>> (32 - cnt));
                        }
                        function rstr2hex(input, hexcase) {
                            var hex_tab = hexcase ? '0123456789ABCDEF' : '0123456789abcdef', output = '', x, i = 0, l = input.length;
                            for (; i < l; i += 1) {
                                x = input.charCodeAt(i);
                                output += hex_tab.charAt((x >>> 4) & 0x0F) + hex_tab.charAt(x & 0x0F);
                            }
                            return output;
                        }
                        function str2rstr_utf16le(input) {
                            var i, l = input.length, output = '';
                            for (i = 0; i < l; i += 1) {
                                output += String.fromCharCode(input.charCodeAt(i) & 0xFF, (input.charCodeAt(i) >>> 8) & 0xFF);
                            }
                            return output;
                        }
                        function str2rstr_utf16be(input) {
                            var i, l = input.length, output = '';
                            for (i = 0; i < l; i += 1) {
                                output += String.fromCharCode((input.charCodeAt(i) >>> 8) & 0xFF, input.charCodeAt(i) & 0xFF);
                            }
                            return output;
                        }
                        function binb2rstr(input) {
                            var i, l = input.length * 32, output = '';
                            for (i = 0; i < l; i += 8) {
                                output += String.fromCharCode((input[i >> 5] >>> (24 - i % 32)) & 0xFF);
                            }
                            return output;
                        }
                        function binl2rstr(input) {
                            var i, l = input.length * 32, output = '';
                            for (i = 0; i < l; i += 8) {
                                output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF);
                            }
                            return output;
                        }
                        function rstr2binl(input) {
                            var i, l = input.length * 8, output = Array(input.length >> 2), lo = output.length;
                            for (i = 0; i < lo; i += 1) {
                                output[i] = 0;
                            }
                            for (i = 0; i < l; i += 8) {
                                output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32);
                            }
                            return output;
                        }
                        function rstr2binb(input) {
                            var i, l = input.length * 8, output = Array(input.length >> 2), lo = output.length;
                            for (i = 0; i < lo; i += 1) {
                                output[i] = 0;
                            }
                            for (i = 0; i < l; i += 8) {
                                output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (24 - i % 32);
                            }
                            return output;
                        }
                        function rstr2any(input, encoding) {
                            var divisor = encoding.length, remainders = Array(), i, q, x, ld, quotient, dividend, output, full_length;
                            dividend = Array(Math.ceil(input.length / 2));
                            ld = dividend.length;
                            for (i = 0; i < ld; i += 1) {
                                dividend[i] = (input.charCodeAt(i * 2) << 8) | input.charCodeAt(i * 2 + 1);
                            }
                            while (dividend.length > 0) {
                                quotient = Array();
                                x = 0;
                                for (i = 0; i < dividend.length; i += 1) {
                                    x = (x << 16) + dividend[i];
                                    q = Math.floor(x / divisor);
                                    x -= q * divisor;
                                    if (quotient.length > 0 || q > 0) {
                                        quotient[quotient.length] = q;
                                    }
                                }
                                remainders[remainders.length] = x;
                                dividend = quotient;
                            }
                            output = '';
                            for (i = remainders.length - 1; i >= 0; i--) {
                                output += encoding.charAt(remainders[i]);
                            }
                            full_length = Math.ceil(input.length * 8 / (Math.log(encoding.length) / Math.log(2)));
                            for (i = output.length; i < full_length; i += 1) {
                                output = encoding[0] + output;
                            }
                            return output;
                        }
                        function rstr2b64(input, b64pad) {
                            var tab = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/', output = '', len = input.length, i, j, triplet;
                            b64pad = b64pad || '=';
                            for (i = 0; i < len; i += 3) {
                                triplet = (input.charCodeAt(i) << 16) | (i + 1 < len ? input.charCodeAt(i + 1) << 8 : 0) | (i + 2 < len ? input.charCodeAt(i + 2) : 0);
                                for (j = 0; j < 4; j += 1) {
                                    if (i * 8 + j * 6 > input.length * 8) {
                                        output += b64pad;
                                    }
                                    else {
                                        output += tab.charAt((triplet >>> 6 * (3 - j)) & 0x3F);
                                    }
                                }
                            }
                            return output;
                        }
                        Hashes = {
                            VERSION: '1.0.5',
                            Base64: function () {
                                var tab = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/', pad = '=', url = false, utf8 = true;
                                this.encode = function (input) {
                                    var i, j, triplet, output = '', len = input.length;
                                    pad = pad || '=';
                                    input = (utf8) ? utf8Encode(input) : input;
                                    for (i = 0; i < len; i += 3) {
                                        triplet = (input.charCodeAt(i) << 16) | (i + 1 < len ? input.charCodeAt(i + 1) << 8 : 0) | (i + 2 < len ? input.charCodeAt(i + 2) : 0);
                                        for (j = 0; j < 4; j += 1) {
                                            if (i * 8 + j * 6 > len * 8) {
                                                output += pad;
                                            }
                                            else {
                                                output += tab.charAt((triplet >>> 6 * (3 - j)) & 0x3F);
                                            }
                                        }
                                    }
                                    return output;
                                };
                                this.decode = function (input) {
                                    var i, o1, o2, o3, h1, h2, h3, h4, bits, ac, dec = '', arr = [];
                                    if (!input) {
                                        return input;
                                    }
                                    i = ac = 0;
                                    input = input.replace(new RegExp('\\' + pad, 'gi'), '');
                                    do {
                                        h1 = tab.indexOf(input.charAt(i += 1));
                                        h2 = tab.indexOf(input.charAt(i += 1));
                                        h3 = tab.indexOf(input.charAt(i += 1));
                                        h4 = tab.indexOf(input.charAt(i += 1));
                                        bits = h1 << 18 | h2 << 12 | h3 << 6 | h4;
                                        o1 = bits >> 16 & 0xff;
                                        o2 = bits >> 8 & 0xff;
                                        o3 = bits & 0xff;
                                        ac += 1;
                                        if (h3 === 64) {
                                            arr[ac] = String.fromCharCode(o1);
                                        }
                                        else if (h4 === 64) {
                                            arr[ac] = String.fromCharCode(o1, o2);
                                        }
                                        else {
                                            arr[ac] = String.fromCharCode(o1, o2, o3);
                                        }
                                    } while (i < input.length);
                                    dec = arr.join('');
                                    dec = (utf8) ? utf8Decode(dec) : dec;
                                    return dec;
                                };
                                this.setPad = function (str) {
                                    pad = str || pad;
                                    return this;
                                };
                                this.setTab = function (str) {
                                    tab = str || tab;
                                    return this;
                                };
                                this.setUTF8 = function (bool) {
                                    if (typeof bool === 'boolean') {
                                        utf8 = bool;
                                    }
                                    return this;
                                };
                            },
                            CRC32: function (str) {
                                var crc = 0, x = 0, y = 0, table, i, iTop;
                                str = utf8Encode(str);
                                table = [
                                    '00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 ',
                                    '79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 ',
                                    '84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F ',
                                    '63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD ',
                                    'A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC ',
                                    '51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 ',
                                    'B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 ',
                                    '06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 ',
                                    'E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 ',
                                    '12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 ',
                                    'D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 ',
                                    '33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 ',
                                    'CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 ',
                                    '9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E ',
                                    '7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D ',
                                    '806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 ',
                                    '60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA ',
                                    'AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 ',
                                    '5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 ',
                                    'B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 ',
                                    '05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 ',
                                    'F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA ',
                                    '11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 ',
                                    'D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F ',
                                    '30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E ',
                                    'C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D'
                                ].join('');
                                crc = crc ^ (-1);
                                for (i = 0, iTop = str.length; i < iTop; i += 1) {
                                    y = (crc ^ str.charCodeAt(i)) & 0xFF;
                                    x = '0x' + table.substr(y * 9, 8);
                                    crc = (crc >>> 8) ^ x;
                                }
                                return (crc ^ (-1)) >>> 0;
                            },
                            MD5: function (options) {
                                var hexcase = (options && typeof options.uppercase === 'boolean') ? options.uppercase : false, b64pad = (options && typeof options.pad === 'string') ? options.pda : '=', utf8 = (options && typeof options.utf8 === 'boolean') ? options.utf8 : true;
                                this.hex = function (s) {
                                    return rstr2hex(rstr(s, utf8), hexcase);
                                };
                                this.b64 = function (s) {
                                    return rstr2b64(rstr(s), b64pad);
                                };
                                this.any = function (s, e) {
                                    return rstr2any(rstr(s, utf8), e);
                                };
                                this.raw = function (s) {
                                    return rstr(s, utf8);
                                };
                                this.hex_hmac = function (k, d) {
                                    return rstr2hex(rstr_hmac(k, d), hexcase);
                                };
                                this.b64_hmac = function (k, d) {
                                    return rstr2b64(rstr_hmac(k, d), b64pad);
                                };
                                this.any_hmac = function (k, d, e) {
                                    return rstr2any(rstr_hmac(k, d), e);
                                };
                                this.vm_test = function () {
                                    return hex('abc').toLowerCase() === '900150983cd24fb0d6963f7d28e17f72';
                                };
                                this.setUpperCase = function (a) {
                                    if (typeof a === 'boolean') {
                                        hexcase = a;
                                    }
                                    return this;
                                };
                                this.setPad = function (a) {
                                    b64pad = a || b64pad;
                                    return this;
                                };
                                this.setUTF8 = function (a) {
                                    if (typeof a === 'boolean') {
                                        utf8 = a;
                                    }
                                    return this;
                                };
                                function rstr(s) {
                                    s = (utf8) ? utf8Encode(s) : s;
                                    return binl2rstr(binl(rstr2binl(s), s.length * 8));
                                }
                                function rstr_hmac(key, data) {
                                    var bkey, ipad, opad, hash, i;
                                    key = (utf8) ? utf8Encode(key) : key;
                                    data = (utf8) ? utf8Encode(data) : data;
                                    bkey = rstr2binl(key);
                                    if (bkey.length > 16) {
                                        bkey = binl(bkey, key.length * 8);
                                    }
                                    ipad = Array(16), opad = Array(16);
                                    for (i = 0; i < 16; i += 1) {
                                        ipad[i] = bkey[i] ^ 0x36363636;
                                        opad[i] = bkey[i] ^ 0x5C5C5C5C;
                                    }
                                    hash = binl(ipad.concat(rstr2binl(data)), 512 + data.length * 8);
                                    return binl2rstr(binl(opad.concat(hash), 512 + 128));
                                }
                                function binl(x, len) {
                                    var i, olda, oldb, oldc, oldd, a = 1732584193, b = -271733879, c = -1732584194, d = 271733878;
                                    x[len >> 5] |= 0x80 << ((len) % 32);
                                    x[(((len + 64) >>> 9) << 4) + 14] = len;
                                    for (i = 0; i < x.length; i += 16) {
                                        olda = a;
                                        oldb = b;
                                        oldc = c;
                                        oldd = d;
                                        a = md5_ff(a, b, c, d, x[i + 0], 7, -680876936);
                                        d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);
                                        c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);
                                        b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);
                                        a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);
                                        d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);
                                        c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);
                                        b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);
                                        a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);
                                        d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);
                                        c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);
                                        b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);
                                        a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);
                                        d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);
                                        c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);
                                        b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);
                                        a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);
                                        d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);
                                        c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);
                                        b = md5_gg(b, c, d, a, x[i + 0], 20, -373897302);
                                        a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);
                                        d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);
                                        c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);
                                        b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);
                                        a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);
                                        d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);
                                        c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);
                                        b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);
                                        a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);
                                        d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);
                                        c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);
                                        b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);
                                        a = md5_hh(a, b, c, d, x[i + 5], 4, -378558);
                                        d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);
                                        c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);
                                        b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);
                                        a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);
                                        d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);
                                        c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);
                                        b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);
                                        a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);
                                        d = md5_hh(d, a, b, c, x[i + 0], 11, -358537222);
                                        c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);
                                        b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);
                                        a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);
                                        d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);
                                        c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);
                                        b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);
                                        a = md5_ii(a, b, c, d, x[i + 0], 6, -198630844);
                                        d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);
                                        c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);
                                        b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);
                                        a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);
                                        d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);
                                        c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);
                                        b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);
                                        a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);
                                        d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);
                                        c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);
                                        b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);
                                        a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);
                                        d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);
                                        c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);
                                        b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);
                                        a = safe_add(a, olda);
                                        b = safe_add(b, oldb);
                                        c = safe_add(c, oldc);
                                        d = safe_add(d, oldd);
                                    }
                                    return Array(a, b, c, d);
                                }
                                function md5_cmn(q, a, b, x, s, t) {
                                    return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);
                                }
                                function md5_ff(a, b, c, d, x, s, t) {
                                    return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);
                                }
                                function md5_gg(a, b, c, d, x, s, t) {
                                    return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);
                                }
                                function md5_hh(a, b, c, d, x, s, t) {
                                    return md5_cmn(b ^ c ^ d, a, b, x, s, t);
                                }
                                function md5_ii(a, b, c, d, x, s, t) {
                                    return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);
                                }
                            },
                            SHA1: function (options) {
                                var hexcase = (options && typeof options.uppercase === 'boolean') ? options.uppercase : false, b64pad = (options && typeof options.pad === 'string') ? options.pda : '=', utf8 = (options && typeof options.utf8 === 'boolean') ? options.utf8 : true;
                                this.hex = function (s) {
                                    return rstr2hex(rstr(s, utf8), hexcase);
                                };
                                this.b64 = function (s) {
                                    return rstr2b64(rstr(s, utf8), b64pad);
                                };
                                this.any = function (s, e) {
                                    return rstr2any(rstr(s, utf8), e);
                                };
                                this.raw = function (s) {
                                    return rstr(s, utf8);
                                };
                                this.hex_hmac = function (k, d) {
                                    return rstr2hex(rstr_hmac(k, d));
                                };
                                this.b64_hmac = function (k, d) {
                                    return rstr2b64(rstr_hmac(k, d), b64pad);
                                };
                                this.any_hmac = function (k, d, e) {
                                    return rstr2any(rstr_hmac(k, d), e);
                                };
                                this.vm_test = function () {
                                    return hex('abc').toLowerCase() === '900150983cd24fb0d6963f7d28e17f72';
                                };
                                this.setUpperCase = function (a) {
                                    if (typeof a === 'boolean') {
                                        hexcase = a;
                                    }
                                    return this;
                                };
                                this.setPad = function (a) {
                                    b64pad = a || b64pad;
                                    return this;
                                };
                                this.setUTF8 = function (a) {
                                    if (typeof a === 'boolean') {
                                        utf8 = a;
                                    }
                                    return this;
                                };
                                function rstr(s) {
                                    s = (utf8) ? utf8Encode(s) : s;
                                    return binb2rstr(binb(rstr2binb(s), s.length * 8));
                                }
                                function rstr_hmac(key, data) {
                                    var bkey, ipad, opad, i, hash;
                                    key = (utf8) ? utf8Encode(key) : key;
                                    data = (utf8) ? utf8Encode(data) : data;
                                    bkey = rstr2binb(key);
                                    if (bkey.length > 16) {
                                        bkey = binb(bkey, key.length * 8);
                                    }
                                    ipad = Array(16), opad = Array(16);
                                    for (i = 0; i < 16; i += 1) {
                                        ipad[i] = bkey[i] ^ 0x36363636;
                                        opad[i] = bkey[i] ^ 0x5C5C5C5C;
                                    }
                                    hash = binb(ipad.concat(rstr2binb(data)), 512 + data.length * 8);
                                    return binb2rstr(binb(opad.concat(hash), 512 + 160));
                                }
                                function binb(x, len) {
                                    var i, j, t, olda, oldb, oldc, oldd, olde, w = Array(80), a = 1732584193, b = -271733879, c = -1732584194, d = 271733878, e = -1009589776;
                                    x[len >> 5] |= 0x80 << (24 - len % 32);
                                    x[((len + 64 >> 9) << 4) + 15] = len;
                                    for (i = 0; i < x.length; i += 16) {
                                        olda = a,
                                            oldb = b;
                                        oldc = c;
                                        oldd = d;
                                        olde = e;
                                        for (j = 0; j < 80; j += 1) {
                                            if (j < 16) {
                                                w[j] = x[i + j];
                                            }
                                            else {
                                                w[j] = bit_rol(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1);
                                            }
                                            t = safe_add(safe_add(bit_rol(a, 5), sha1_ft(j, b, c, d)), safe_add(safe_add(e, w[j]), sha1_kt(j)));
                                            e = d;
                                            d = c;
                                            c = bit_rol(b, 30);
                                            b = a;
                                            a = t;
                                        }
                                        a = safe_add(a, olda);
                                        b = safe_add(b, oldb);
                                        c = safe_add(c, oldc);
                                        d = safe_add(d, oldd);
                                        e = safe_add(e, olde);
                                    }
                                    return Array(a, b, c, d, e);
                                }
                                function sha1_ft(t, b, c, d) {
                                    if (t < 20) {
                                        return (b & c) | ((~b) & d);
                                    }
                                    if (t < 40) {
                                        return b ^ c ^ d;
                                    }
                                    if (t < 60) {
                                        return (b & c) | (b & d) | (c & d);
                                    }
                                    return b ^ c ^ d;
                                }
                                function sha1_kt(t) {
                                    return (t < 20) ? 1518500249 : (t < 40) ? 1859775393 :
                                        (t < 60) ? -1894007588 : -899497514;
                                }
                            },
                            SHA256: function (options) {
                                var hexcase = (options && typeof options.uppercase === 'boolean') ? options.uppercase : false, b64pad = (options && typeof options.pad === 'string') ? options.pda : '=', utf8 = (options && typeof options.utf8 === 'boolean') ? options.utf8 : true, sha256_K;
                                this.hex = function (s) {
                                    return rstr2hex(rstr(s, utf8));
                                };
                                this.b64 = function (s) {
                                    return rstr2b64(rstr(s, utf8), b64pad);
                                };
                                this.any = function (s, e) {
                                    return rstr2any(rstr(s, utf8), e);
                                };
                                this.raw = function (s) {
                                    return rstr(s, utf8);
                                };
                                this.hex_hmac = function (k, d) {
                                    return rstr2hex(rstr_hmac(k, d));
                                };
                                this.b64_hmac = function (k, d) {
                                    return rstr2b64(rstr_hmac(k, d), b64pad);
                                };
                                this.any_hmac = function (k, d, e) {
                                    return rstr2any(rstr_hmac(k, d), e);
                                };
                                this.vm_test = function () {
                                    return hex('abc').toLowerCase() === '900150983cd24fb0d6963f7d28e17f72';
                                };
                                this.setUpperCase = function (a) {
                                    if (typeof a === 'boolean') {
                                        hexcase = a;
                                    }
                                    return this;
                                };
                                this.setPad = function (a) {
                                    b64pad = a || b64pad;
                                    return this;
                                };
                                this.setUTF8 = function (a) {
                                    if (typeof a === 'boolean') {
                                        utf8 = a;
                                    }
                                    return this;
                                };
                                function rstr(s, utf8) {
                                    s = (utf8) ? utf8Encode(s) : s;
                                    return binb2rstr(binb(rstr2binb(s), s.length * 8));
                                }
                                function rstr_hmac(key, data) {
                                    key = (utf8) ? utf8Encode(key) : key;
                                    data = (utf8) ? utf8Encode(data) : data;
                                    var hash, i = 0, bkey = rstr2binb(key), ipad = Array(16), opad = Array(16);
                                    if (bkey.length > 16) {
                                        bkey = binb(bkey, key.length * 8);
                                    }
                                    for (; i < 16; i += 1) {
                                        ipad[i] = bkey[i] ^ 0x36363636;
                                        opad[i] = bkey[i] ^ 0x5C5C5C5C;
                                    }
                                    hash = binb(ipad.concat(rstr2binb(data)), 512 + data.length * 8);
                                    return binb2rstr(binb(opad.concat(hash), 512 + 256));
                                }
                                function sha256_S(X, n) {
                                    return (X >>> n) | (X << (32 - n));
                                }
                                function sha256_R(X, n) {
                                    return (X >>> n);
                                }
                                function sha256_Ch(x, y, z) {
                                    return ((x & y) ^ ((~x) & z));
                                }
                                function sha256_Maj(x, y, z) {
                                    return ((x & y) ^ (x & z) ^ (y & z));
                                }
                                function sha256_Sigma0256(x) {
                                    return (sha256_S(x, 2) ^ sha256_S(x, 13) ^ sha256_S(x, 22));
                                }
                                function sha256_Sigma1256(x) {
                                    return (sha256_S(x, 6) ^ sha256_S(x, 11) ^ sha256_S(x, 25));
                                }
                                function sha256_Gamma0256(x) {
                                    return (sha256_S(x, 7) ^ sha256_S(x, 18) ^ sha256_R(x, 3));
                                }
                                function sha256_Gamma1256(x) {
                                    return (sha256_S(x, 17) ^ sha256_S(x, 19) ^ sha256_R(x, 10));
                                }
                                function sha256_Sigma0512(x) {
                                    return (sha256_S(x, 28) ^ sha256_S(x, 34) ^ sha256_S(x, 39));
                                }
                                function sha256_Sigma1512(x) {
                                    return (sha256_S(x, 14) ^ sha256_S(x, 18) ^ sha256_S(x, 41));
                                }
                                function sha256_Gamma0512(x) {
                                    return (sha256_S(x, 1) ^ sha256_S(x, 8) ^ sha256_R(x, 7));
                                }
                                function sha256_Gamma1512(x) {
                                    return (sha256_S(x, 19) ^ sha256_S(x, 61) ^ sha256_R(x, 6));
                                }
                                sha256_K = [
                                    1116352408, 1899447441, -1245643825, -373957723, 961987163, 1508970993, -1841331548, -1424204075, -670586216, 310598401, 607225278, 1426881987,
                                    1925078388, -2132889090, -1680079193, -1046744716, -459576895, -272742522,
                                    264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, -1740746414, -1473132947, -1341970488, -1084653625, -958395405, -710438585,
                                    113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
                                    1695183700, 1986661051, -2117940946, -1838011259, -1564481375, -1474664885, -1035236496, -949202525, -778901479, -694614492, -200395387, 275423344,
                                    430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
                                    1537002063, 1747873779, 1955562222, 2024104815, -2067236844, -1933114872, -1866530822, -1538233109, -1090935817, -965641998
                                ];
                                function binb(m, l) {
                                    var HASH = [1779033703, -1150833019, 1013904242, -1521486534,
                                        1359893119, -1694144372, 528734635, 1541459225
                                    ];
                                    var W = new Array(64);
                                    var a, b, c, d, e, f, g, h;
                                    var i, j, T1, T2;
                                    m[l >> 5] |= 0x80 << (24 - l % 32);
                                    m[((l + 64 >> 9) << 4) + 15] = l;
                                    for (i = 0; i < m.length; i += 16) {
                                        a = HASH[0];
                                        b = HASH[1];
                                        c = HASH[2];
                                        d = HASH[3];
                                        e = HASH[4];
                                        f = HASH[5];
                                        g = HASH[6];
                                        h = HASH[7];
                                        for (j = 0; j < 64; j += 1) {
                                            if (j < 16) {
                                                W[j] = m[j + i];
                                            }
                                            else {
                                                W[j] = safe_add(safe_add(safe_add(sha256_Gamma1256(W[j - 2]), W[j - 7]), sha256_Gamma0256(W[j - 15])), W[j - 16]);
                                            }
                                            T1 = safe_add(safe_add(safe_add(safe_add(h, sha256_Sigma1256(e)), sha256_Ch(e, f, g)), sha256_K[j]), W[j]);
                                            T2 = safe_add(sha256_Sigma0256(a), sha256_Maj(a, b, c));
                                            h = g;
                                            g = f;
                                            f = e;
                                            e = safe_add(d, T1);
                                            d = c;
                                            c = b;
                                            b = a;
                                            a = safe_add(T1, T2);
                                        }
                                        HASH[0] = safe_add(a, HASH[0]);
                                        HASH[1] = safe_add(b, HASH[1]);
                                        HASH[2] = safe_add(c, HASH[2]);
                                        HASH[3] = safe_add(d, HASH[3]);
                                        HASH[4] = safe_add(e, HASH[4]);
                                        HASH[5] = safe_add(f, HASH[5]);
                                        HASH[6] = safe_add(g, HASH[6]);
                                        HASH[7] = safe_add(h, HASH[7]);
                                    }
                                    return HASH;
                                }
                            },
                            SHA512: function (options) {
                                var hexcase = (options && typeof options.uppercase === 'boolean') ? options.uppercase : false, b64pad = (options && typeof options.pad === 'string') ? options.pda : '=', utf8 = (options && typeof options.utf8 === 'boolean') ? options.utf8 : true, sha512_k;
                                this.hex = function (s) {
                                    return rstr2hex(rstr(s));
                                };
                                this.b64 = function (s) {
                                    return rstr2b64(rstr(s), b64pad);
                                };
                                this.any = function (s, e) {
                                    return rstr2any(rstr(s), e);
                                };
                                this.raw = function (s) {
                                    return rstr(s, utf8);
                                };
                                this.hex_hmac = function (k, d) {
                                    return rstr2hex(rstr_hmac(k, d));
                                };
                                this.b64_hmac = function (k, d) {
                                    return rstr2b64(rstr_hmac(k, d), b64pad);
                                };
                                this.any_hmac = function (k, d, e) {
                                    return rstr2any(rstr_hmac(k, d), e);
                                };
                                this.vm_test = function () {
                                    return hex('abc').toLowerCase() === '900150983cd24fb0d6963f7d28e17f72';
                                };
                                this.setUpperCase = function (a) {
                                    if (typeof a === 'boolean') {
                                        hexcase = a;
                                    }
                                    return this;
                                };
                                this.setPad = function (a) {
                                    b64pad = a || b64pad;
                                    return this;
                                };
                                this.setUTF8 = function (a) {
                                    if (typeof a === 'boolean') {
                                        utf8 = a;
                                    }
                                    return this;
                                };
                                function rstr(s) {
                                    s = (utf8) ? utf8Encode(s) : s;
                                    return binb2rstr(binb(rstr2binb(s), s.length * 8));
                                }
                                function rstr_hmac(key, data) {
                                    key = (utf8) ? utf8Encode(key) : key;
                                    data = (utf8) ? utf8Encode(data) : data;
                                    var hash, i = 0, bkey = rstr2binb(key), ipad = Array(32), opad = Array(32);
                                    if (bkey.length > 32) {
                                        bkey = binb(bkey, key.length * 8);
                                    }
                                    for (; i < 32; i += 1) {
                                        ipad[i] = bkey[i] ^ 0x36363636;
                                        opad[i] = bkey[i] ^ 0x5C5C5C5C;
                                    }
                                    hash = binb(ipad.concat(rstr2binb(data)), 1024 + data.length * 8);
                                    return binb2rstr(binb(opad.concat(hash), 1024 + 512));
                                }
                                function binb(x, len) {
                                    var j, i, l, W = new Array(80), hash = new Array(16), H = [
                                        new int64(0x6a09e667, -205731576),
                                        new int64(-1150833019, -2067093701),
                                        new int64(0x3c6ef372, -23791573),
                                        new int64(-1521486534, 0x5f1d36f1),
                                        new int64(0x510e527f, -1377402159),
                                        new int64(-1694144372, 0x2b3e6c1f),
                                        new int64(0x1f83d9ab, -79577749),
                                        new int64(0x5be0cd19, 0x137e2179)
                                    ], T1 = new int64(0, 0), T2 = new int64(0, 0), a = new int64(0, 0), b = new int64(0, 0), c = new int64(0, 0), d = new int64(0, 0), e = new int64(0, 0), f = new int64(0, 0), g = new int64(0, 0), h = new int64(0, 0), s0 = new int64(0, 0), s1 = new int64(0, 0), Ch = new int64(0, 0), Maj = new int64(0, 0), r1 = new int64(0, 0), r2 = new int64(0, 0), r3 = new int64(0, 0);
                                    if (sha512_k === undefined) {
                                        sha512_k = [
                                            new int64(0x428a2f98, -685199838), new int64(0x71374491, 0x23ef65cd),
                                            new int64(-1245643825, -330482897), new int64(-373957723, -2121671748),
                                            new int64(0x3956c25b, -213338824), new int64(0x59f111f1, -1241133031),
                                            new int64(-1841331548, -1357295717), new int64(-1424204075, -630357736),
                                            new int64(-670586216, -1560083902), new int64(0x12835b01, 0x45706fbe),
                                            new int64(0x243185be, 0x4ee4b28c), new int64(0x550c7dc3, -704662302),
                                            new int64(0x72be5d74, -226784913), new int64(-2132889090, 0x3b1696b1),
                                            new int64(-1680079193, 0x25c71235), new int64(-1046744716, -815192428),
                                            new int64(-459576895, -1628353838), new int64(-272742522, 0x384f25e3),
                                            new int64(0xfc19dc6, -1953704523), new int64(0x240ca1cc, 0x77ac9c65),
                                            new int64(0x2de92c6f, 0x592b0275), new int64(0x4a7484aa, 0x6ea6e483),
                                            new int64(0x5cb0a9dc, -1119749164), new int64(0x76f988da, -2096016459),
                                            new int64(-1740746414, -295247957), new int64(-1473132947, 0x2db43210),
                                            new int64(-1341970488, -1728372417), new int64(-1084653625, -1091629340),
                                            new int64(-958395405, 0x3da88fc2), new int64(-710438585, -1828018395),
                                            new int64(0x6ca6351, -536640913), new int64(0x14292967, 0xa0e6e70),
                                            new int64(0x27b70a85, 0x46d22ffc), new int64(0x2e1b2138, 0x5c26c926),
                                            new int64(0x4d2c6dfc, 0x5ac42aed), new int64(0x53380d13, -1651133473),
                                            new int64(0x650a7354, -1951439906), new int64(0x766a0abb, 0x3c77b2a8),
                                            new int64(-2117940946, 0x47edaee6), new int64(-1838011259, 0x1482353b),
                                            new int64(-1564481375, 0x4cf10364), new int64(-1474664885, -1136513023),
                                            new int64(-1035236496, -789014639), new int64(-949202525, 0x654be30),
                                            new int64(-778901479, -688958952), new int64(-694614492, 0x5565a910),
                                            new int64(-200395387, 0x5771202a), new int64(0x106aa070, 0x32bbd1b8),
                                            new int64(0x19a4c116, -1194143544), new int64(0x1e376c08, 0x5141ab53),
                                            new int64(0x2748774c, -544281703), new int64(0x34b0bcb5, -509917016),
                                            new int64(0x391c0cb3, -976659869), new int64(0x4ed8aa4a, -482243893),
                                            new int64(0x5b9cca4f, 0x7763e373), new int64(0x682e6ff3, -692930397),
                                            new int64(0x748f82ee, 0x5defb2fc), new int64(0x78a5636f, 0x43172f60),
                                            new int64(-2067236844, -1578062990), new int64(-1933114872, 0x1a6439ec),
                                            new int64(-1866530822, 0x23631e28), new int64(-1538233109, -561857047),
                                            new int64(-1090935817, -1295615723), new int64(-965641998, -479046869),
                                            new int64(-903397682, -366583396), new int64(-779700025, 0x21c0c207),
                                            new int64(-354779690, -840897762), new int64(-176337025, -294727304),
                                            new int64(0x6f067aa, 0x72176fba), new int64(0xa637dc5, -1563912026),
                                            new int64(0x113f9804, -1090974290), new int64(0x1b710b35, 0x131c471b),
                                            new int64(0x28db77f5, 0x23047d84), new int64(0x32caab7b, 0x40c72493),
                                            new int64(0x3c9ebe0a, 0x15c9bebc), new int64(0x431d67c4, -1676669620),
                                            new int64(0x4cc5d4be, -885112138), new int64(0x597f299c, -60457430),
                                            new int64(0x5fcb6fab, 0x3ad6faec), new int64(0x6c44198c, 0x4a475817)
                                        ];
                                    }
                                    for (i = 0; i < 80; i += 1) {
                                        W[i] = new int64(0, 0);
                                    }
                                    x[len >> 5] |= 0x80 << (24 - (len & 0x1f));
                                    x[((len + 128 >> 10) << 5) + 31] = len;
                                    l = x.length;
                                    for (i = 0; i < l; i += 32) {
                                        int64copy(a, H[0]);
                                        int64copy(b, H[1]);
                                        int64copy(c, H[2]);
                                        int64copy(d, H[3]);
                                        int64copy(e, H[4]);
                                        int64copy(f, H[5]);
                                        int64copy(g, H[6]);
                                        int64copy(h, H[7]);
                                        for (j = 0; j < 16; j += 1) {
                                            W[j].h = x[i + 2 * j];
                                            W[j].l = x[i + 2 * j + 1];
                                        }
                                        for (j = 16; j < 80; j += 1) {
                                            int64rrot(r1, W[j - 2], 19);
                                            int64revrrot(r2, W[j - 2], 29);
                                            int64shr(r3, W[j - 2], 6);
                                            s1.l = r1.l ^ r2.l ^ r3.l;
                                            s1.h = r1.h ^ r2.h ^ r3.h;
                                            int64rrot(r1, W[j - 15], 1);
                                            int64rrot(r2, W[j - 15], 8);
                                            int64shr(r3, W[j - 15], 7);
                                            s0.l = r1.l ^ r2.l ^ r3.l;
                                            s0.h = r1.h ^ r2.h ^ r3.h;
                                            int64add4(W[j], s1, W[j - 7], s0, W[j - 16]);
                                        }
                                        for (j = 0; j < 80; j += 1) {
                                            Ch.l = (e.l & f.l) ^ (~e.l & g.l);
                                            Ch.h = (e.h & f.h) ^ (~e.h & g.h);
                                            int64rrot(r1, e, 14);
                                            int64rrot(r2, e, 18);
                                            int64revrrot(r3, e, 9);
                                            s1.l = r1.l ^ r2.l ^ r3.l;
                                            s1.h = r1.h ^ r2.h ^ r3.h;
                                            int64rrot(r1, a, 28);
                                            int64revrrot(r2, a, 2);
                                            int64revrrot(r3, a, 7);
                                            s0.l = r1.l ^ r2.l ^ r3.l;
                                            s0.h = r1.h ^ r2.h ^ r3.h;
                                            Maj.l = (a.l & b.l) ^ (a.l & c.l) ^ (b.l & c.l);
                                            Maj.h = (a.h & b.h) ^ (a.h & c.h) ^ (b.h & c.h);
                                            int64add5(T1, h, s1, Ch, sha512_k[j], W[j]);
                                            int64add(T2, s0, Maj);
                                            int64copy(h, g);
                                            int64copy(g, f);
                                            int64copy(f, e);
                                            int64add(e, d, T1);
                                            int64copy(d, c);
                                            int64copy(c, b);
                                            int64copy(b, a);
                                            int64add(a, T1, T2);
                                        }
                                        int64add(H[0], H[0], a);
                                        int64add(H[1], H[1], b);
                                        int64add(H[2], H[2], c);
                                        int64add(H[3], H[3], d);
                                        int64add(H[4], H[4], e);
                                        int64add(H[5], H[5], f);
                                        int64add(H[6], H[6], g);
                                        int64add(H[7], H[7], h);
                                    }
                                    for (i = 0; i < 8; i += 1) {
                                        hash[2 * i] = H[i].h;
                                        hash[2 * i + 1] = H[i].l;
                                    }
                                    return hash;
                                }
                                function int64(h, l) {
                                    this.h = h;
                                    this.l = l;
                                }
                                function int64copy(dst, src) {
                                    dst.h = src.h;
                                    dst.l = src.l;
                                }
                                function int64rrot(dst, x, shift) {
                                    dst.l = (x.l >>> shift) | (x.h << (32 - shift));
                                    dst.h = (x.h >>> shift) | (x.l << (32 - shift));
                                }
                                function int64revrrot(dst, x, shift) {
                                    dst.l = (x.h >>> shift) | (x.l << (32 - shift));
                                    dst.h = (x.l >>> shift) | (x.h << (32 - shift));
                                }
                                function int64shr(dst, x, shift) {
                                    dst.l = (x.l >>> shift) | (x.h << (32 - shift));
                                    dst.h = (x.h >>> shift);
                                }
                                function int64add(dst, x, y) {
                                    var w0 = (x.l & 0xffff) + (y.l & 0xffff);
                                    var w1 = (x.l >>> 16) + (y.l >>> 16) + (w0 >>> 16);
                                    var w2 = (x.h & 0xffff) + (y.h & 0xffff) + (w1 >>> 16);
                                    var w3 = (x.h >>> 16) + (y.h >>> 16) + (w2 >>> 16);
                                    dst.l = (w0 & 0xffff) | (w1 << 16);
                                    dst.h = (w2 & 0xffff) | (w3 << 16);
                                }
                                function int64add4(dst, a, b, c, d) {
                                    var w0 = (a.l & 0xffff) + (b.l & 0xffff) + (c.l & 0xffff) + (d.l & 0xffff);
                                    var w1 = (a.l >>> 16) + (b.l >>> 16) + (c.l >>> 16) + (d.l >>> 16) + (w0 >>> 16);
                                    var w2 = (a.h & 0xffff) + (b.h & 0xffff) + (c.h & 0xffff) + (d.h & 0xffff) + (w1 >>> 16);
                                    var w3 = (a.h >>> 16) + (b.h >>> 16) + (c.h >>> 16) + (d.h >>> 16) + (w2 >>> 16);
                                    dst.l = (w0 & 0xffff) | (w1 << 16);
                                    dst.h = (w2 & 0xffff) | (w3 << 16);
                                }
                                function int64add5(dst, a, b, c, d, e) {
                                    var w0 = (a.l & 0xffff) + (b.l & 0xffff) + (c.l & 0xffff) + (d.l & 0xffff) + (e.l & 0xffff), w1 = (a.l >>> 16) + (b.l >>> 16) + (c.l >>> 16) + (d.l >>> 16) + (e.l >>> 16) + (w0 >>> 16), w2 = (a.h & 0xffff) + (b.h & 0xffff) + (c.h & 0xffff) + (d.h & 0xffff) + (e.h & 0xffff) + (w1 >>> 16), w3 = (a.h >>> 16) + (b.h >>> 16) + (c.h >>> 16) + (d.h >>> 16) + (e.h >>> 16) + (w2 >>> 16);
                                    dst.l = (w0 & 0xffff) | (w1 << 16);
                                    dst.h = (w2 & 0xffff) | (w3 << 16);
                                }
                            },
                            RMD160: function (options) {
                                var hexcase = (options && typeof options.uppercase === 'boolean') ? options.uppercase : false, b64pad = (options && typeof options.pad === 'string') ? options.pda : '=', utf8 = (options && typeof options.utf8 === 'boolean') ? options.utf8 : true, rmd160_r1 = [
                                    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,
                                    7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8,
                                    3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12,
                                    1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2,
                                    4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13
                                ], rmd160_r2 = [
                                    5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12,
                                    6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2,
                                    15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13,
                                    8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14,
                                    12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11
                                ], rmd160_s1 = [
                                    11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8,
                                    7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12,
                                    11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5,
                                    11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12,
                                    9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6
                                ], rmd160_s2 = [
                                    8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6,
                                    9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11,
                                    9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5,
                                    15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8,
                                    8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11
                                ];
                                this.hex = function (s) {
                                    return rstr2hex(rstr(s, utf8));
                                };
                                this.b64 = function (s) {
                                    return rstr2b64(rstr(s, utf8), b64pad);
                                };
                                this.any = function (s, e) {
                                    return rstr2any(rstr(s, utf8), e);
                                };
                                this.raw = function (s) {
                                    return rstr(s, utf8);
                                };
                                this.hex_hmac = function (k, d) {
                                    return rstr2hex(rstr_hmac(k, d));
                                };
                                this.b64_hmac = function (k, d) {
                                    return rstr2b64(rstr_hmac(k, d), b64pad);
                                };
                                this.any_hmac = function (k, d, e) {
                                    return rstr2any(rstr_hmac(k, d), e);
                                };
                                this.vm_test = function () {
                                    return hex('abc').toLowerCase() === '900150983cd24fb0d6963f7d28e17f72';
                                };
                                this.setUpperCase = function (a) {
                                    if (typeof a === 'boolean') {
                                        hexcase = a;
                                    }
                                    return this;
                                };
                                this.setPad = function (a) {
                                    if (typeof a !== 'undefined') {
                                        b64pad = a;
                                    }
                                    return this;
                                };
                                this.setUTF8 = function (a) {
                                    if (typeof a === 'boolean') {
                                        utf8 = a;
                                    }
                                    return this;
                                };
                                function rstr(s) {
                                    s = (utf8) ? utf8Encode(s) : s;
                                    return binl2rstr(binl(rstr2binl(s), s.length * 8));
                                }
                                function rstr_hmac(key, data) {
                                    key = (utf8) ? utf8Encode(key) : key;
                                    data = (utf8) ? utf8Encode(data) : data;
                                    var i, hash, bkey = rstr2binl(key), ipad = Array(16), opad = Array(16);
                                    if (bkey.length > 16) {
                                        bkey = binl(bkey, key.length * 8);
                                    }
                                    for (i = 0; i < 16; i += 1) {
                                        ipad[i] = bkey[i] ^ 0x36363636;
                                        opad[i] = bkey[i] ^ 0x5C5C5C5C;
                                    }
                                    hash = binl(ipad.concat(rstr2binl(data)), 512 + data.length * 8);
                                    return binl2rstr(binl(opad.concat(hash), 512 + 160));
                                }
                                function binl2rstr(input) {
                                    var i, output = '', l = input.length * 32;
                                    for (i = 0; i < l; i += 8) {
                                        output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF);
                                    }
                                    return output;
                                }
                                function binl(x, len) {
                                    var T, j, i, l, h0 = 0x67452301, h1 = 0xefcdab89, h2 = 0x98badcfe, h3 = 0x10325476, h4 = 0xc3d2e1f0, A1, B1, C1, D1, E1, A2, B2, C2, D2, E2;
                                    x[len >> 5] |= 0x80 << (len % 32);
                                    x[(((len + 64) >>> 9) << 4) + 14] = len;
                                    l = x.length;
                                    for (i = 0; i < l; i += 16) {
                                        A1 = A2 = h0;
                                        B1 = B2 = h1;
                                        C1 = C2 = h2;
                                        D1 = D2 = h3;
                                        E1 = E2 = h4;
                                        for (j = 0; j <= 79; j += 1) {
                                            T = safe_add(A1, rmd160_f(j, B1, C1, D1));
                                            T = safe_add(T, x[i + rmd160_r1[j]]);
                                            T = safe_add(T, rmd160_K1(j));
                                            T = safe_add(bit_rol(T, rmd160_s1[j]), E1);
                                            A1 = E1;
                                            E1 = D1;
                                            D1 = bit_rol(C1, 10);
                                            C1 = B1;
                                            B1 = T;
                                            T = safe_add(A2, rmd160_f(79 - j, B2, C2, D2));
                                            T = safe_add(T, x[i + rmd160_r2[j]]);
                                            T = safe_add(T, rmd160_K2(j));
                                            T = safe_add(bit_rol(T, rmd160_s2[j]), E2);
                                            A2 = E2;
                                            E2 = D2;
                                            D2 = bit_rol(C2, 10);
                                            C2 = B2;
                                            B2 = T;
                                        }
                                        T = safe_add(h1, safe_add(C1, D2));
                                        h1 = safe_add(h2, safe_add(D1, E2));
                                        h2 = safe_add(h3, safe_add(E1, A2));
                                        h3 = safe_add(h4, safe_add(A1, B2));
                                        h4 = safe_add(h0, safe_add(B1, C2));
                                        h0 = T;
                                    }
                                    return [h0, h1, h2, h3, h4];
                                }
                                function rmd160_f(j, x, y, z) {
                                    return (0 <= j && j <= 15) ? (x ^ y ^ z) :
                                        (16 <= j && j <= 31) ? (x & y) | (~x & z) :
                                            (32 <= j && j <= 47) ? (x | ~y) ^ z :
                                                (48 <= j && j <= 63) ? (x & z) | (y & ~z) :
                                                    (64 <= j && j <= 79) ? x ^ (y | ~z) :
                                                        'rmd160_f: j out of range';
                                }
                                function rmd160_K1(j) {
                                    return (0 <= j && j <= 15) ? 0x00000000 :
                                        (16 <= j && j <= 31) ? 0x5a827999 :
                                            (32 <= j && j <= 47) ? 0x6ed9eba1 :
                                                (48 <= j && j <= 63) ? 0x8f1bbcdc :
                                                    (64 <= j && j <= 79) ? 0xa953fd4e :
                                                        'rmd160_K1: j out of range';
                                }
                                function rmd160_K2(j) {
                                    return (0 <= j && j <= 15) ? 0x50a28be6 :
                                        (16 <= j && j <= 31) ? 0x5c4dd124 :
                                            (32 <= j && j <= 47) ? 0x6d703ef3 :
                                                (48 <= j && j <= 63) ? 0x7a6d76e9 :
                                                    (64 <= j && j <= 79) ? 0x00000000 :
                                                        'rmd160_K2: j out of range';
                                }
                            }
                        };
                        (function (window, undefined) {
                            var freeExports = false;
                            if (typeof exports === 'object') {
                                freeExports = exports;
                                if (exports && typeof global === 'object' && global && global === global.global) {
                                    window = global;
                                }
                            }
                            if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {
                                define(function () {
                                    return Hashes;
                                });
                            }
                            else if (freeExports) {
                                if (typeof module === 'object' && module && module.exports === freeExports) {
                                    module.exports = Hashes;
                                }
                                else {
                                    freeExports.Hashes = Hashes;
                                }
                            }
                            else {
                                window.Hashes = Hashes;
                            }
                        }(this));
                    }());
                }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
            }, {}], 3: [function (require, module, exports) {
                'use strict';
                var hashes = require('jshashes'), xtend = require('xtend'), sha1 = new hashes.SHA1();
                var ohauth = {};
                ohauth.qsString = function (obj) {
                    return Object.keys(obj).sort().map(function (key) {
                        return ohauth.percentEncode(key) + '=' +
                            ohauth.percentEncode(obj[key]);
                    }).join('&');
                };
                ohauth.stringQs = function (str) {
                    return str.split('&').filter(function (pair) {
                        return pair !== '';
                    }).reduce(function (obj, pair) {
                        var parts = pair.split('=');
                        obj[decodeURIComponent(parts[0])] = (null === parts[1]) ?
                            '' : decodeURIComponent(parts[1]);
                        return obj;
                    }, {});
                };
                ohauth.rawxhr = function (method, url, data, headers, callback) {
                    var xhr = new XMLHttpRequest(), twoHundred = /^20\d$/;
                    xhr.onreadystatechange = function () {
                        if (4 == xhr.readyState && 0 !== xhr.status) {
                            if (twoHundred.test(xhr.status))
                                callback(null, xhr);
                            else
                                return callback(xhr, null);
                        }
                    };
                    xhr.onerror = function (e) {
                        return callback(e, null);
                    };
                    xhr.open(method, url, true);
                    for (var h in headers)
                        xhr.setRequestHeader(h, headers[h]);
                    xhr.send(data);
                };
                ohauth.xhr = function (method, url, auth, data, options, callback) {
                    var headers = (options && options.header) || {
                        'Content-Type': 'application/x-www-form-urlencoded'
                    };
                    headers.Authorization = 'OAuth ' + ohauth.authHeader(auth);
                    ohauth.rawxhr(method, url, data, headers, callback);
                };
                ohauth.nonce = function () {
                    for (var o = ''; o.length < 6;) {
                        o += '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz'[Math.floor(Math.random() * 61)];
                    }
                    return o;
                };
                ohauth.authHeader = function (obj) {
                    return Object.keys(obj).sort().map(function (key) {
                        return encodeURIComponent(key) + '="' + encodeURIComponent(obj[key]) + '"';
                    }).join(', ');
                };
                ohauth.timestamp = function () {
                    return ~~((+new Date()) / 1000);
                };
                ohauth.percentEncode = function (s) {
                    return encodeURIComponent(s)
                        .replace(/\!/g, '%21').replace(/\'/g, '%27')
                        .replace(/\*/g, '%2A').replace(/\(/g, '%28').replace(/\)/g, '%29');
                };
                ohauth.baseString = function (method, url, params) {
                    if (params.oauth_signature)
                        delete params.oauth_signature;
                    return [
                        method,
                        ohauth.percentEncode(url),
                        ohauth.percentEncode(ohauth.qsString(params))
                    ].join('&');
                };
                ohauth.signature = function (oauth_secret, token_secret, baseString) {
                    return sha1.b64_hmac(ohauth.percentEncode(oauth_secret) + '&' +
                        ohauth.percentEncode(token_secret), baseString);
                };
                ohauth.headerGenerator = function (options) {
                    options = options || {};
                    var consumer_key = options.consumer_key || '', consumer_secret = options.consumer_secret || '', signature_method = options.signature_method || 'HMAC-SHA1', version = options.version || '1.0', token = options.token || '', token_secret = options.token_secret || '';
                    return function (method, uri, extra_params) {
                        method = method.toUpperCase();
                        if (typeof extra_params === 'string' && extra_params.length > 0) {
                            extra_params = ohauth.stringQs(extra_params);
                        }
                        var uri_parts = uri.split('?', 2), base_uri = uri_parts[0];
                        var query_params = uri_parts.length === 2 ?
                            ohauth.stringQs(uri_parts[1]) : {};
                        var oauth_params = {
                            oauth_consumer_key: consumer_key,
                            oauth_signature_method: signature_method,
                            oauth_version: version,
                            oauth_timestamp: ohauth.timestamp(),
                            oauth_nonce: ohauth.nonce()
                        };
                        if (token)
                            oauth_params.oauth_token = token;
                        var all_params = xtend({}, oauth_params, query_params, extra_params), base_str = ohauth.baseString(method, base_uri, all_params);
                        oauth_params.oauth_signature = ohauth.signature(consumer_secret, token_secret, base_str);
                        return 'OAuth ' + ohauth.authHeader(oauth_params);
                    };
                };
                module.exports = ohauth;
            }, { "jshashes": 2, "xtend": 5 }], 4: [function (require, module, exports) {
                (function (global) {
                    "use strict";
                    (function (root, factory) {
                        if (typeof define === 'function' && define.amd) {
                            define([], factory);
                        }
                        else if (typeof exports === 'object') {
                            module.exports = factory();
                        }
                        else {
                            root.store = factory();
                        }
                    }(this, function () {
                        var store = {}, win = (typeof window != 'undefined' ? window : global), doc = win.document, localStorageName = 'localStorage', scriptTag = 'script', storage;
                        store.disabled = false;
                        store.version = '1.3.20';
                        store.set = function (key, value) {
                        };
                        store.get = function (key, defaultVal) {
                        };
                        store.has = function (key) {
                            return store.get(key) !== undefined;
                        };
                        store.remove = function (key) {
                        };
                        store.clear = function () {
                        };
                        store.transact = function (key, defaultVal, transactionFn) {
                            if (transactionFn == null) {
                                transactionFn = defaultVal;
                                defaultVal = null;
                            }
                            if (defaultVal == null) {
                                defaultVal = {};
                            }
                            var val = store.get(key, defaultVal);
                            transactionFn(val);
                            store.set(key, val);
                        };
                        store.getAll = function () {
                        };
                        store.forEach = function () {
                        };
                        store.serialize = function (value) {
                            return JSON.stringify(value);
                        };
                        store.deserialize = function (value) {
                            if (typeof value != 'string') {
                                return undefined;
                            }
                            try {
                                return JSON.parse(value);
                            }
                            catch (e) {
                                return value || undefined;
                            }
                        };
                        function isLocalStorageNameSupported() {
                            try {
                                return (localStorageName in win && win[localStorageName]);
                            }
                            catch (err) {
                                return false;
                            }
                        }
                        if (isLocalStorageNameSupported()) {
                            storage = win[localStorageName];
                            store.set = function (key, val) {
                                if (val === undefined) {
                                    return store.remove(key);
                                }
                                storage.setItem(key, store.serialize(val));
                                return val;
                            };
                            store.get = function (key, defaultVal) {
                                var val = store.deserialize(storage.getItem(key));
                                return (val === undefined ? defaultVal : val);
                            };
                            store.remove = function (key) {
                                storage.removeItem(key);
                            };
                            store.clear = function () {
                                storage.clear();
                            };
                            store.getAll = function () {
                                var ret = {};
                                store.forEach(function (key, val) {
                                    ret[key] = val;
                                });
                                return ret;
                            };
                            store.forEach = function (callback) {
                                for (var i = 0; i < storage.length; i++) {
                                    var key = storage.key(i);
                                    callback(key, store.get(key));
                                }
                            };
                        }
                        else if (doc && doc.documentElement.addBehavior) {
                            var storageOwner, storageContainer;
                            try {
                                storageContainer = new ActiveXObject('htmlfile');
                                storageContainer.open();
                                storageContainer.write('<' + scriptTag + '>document.w=window</' + scriptTag + '><iframe src="/favicon.ico"></iframe>');
                                storageContainer.close();
                                storageOwner = storageContainer.w.frames[0].document;
                                storage = storageOwner.createElement('div');
                            }
                            catch (e) {
                                storage = doc.createElement('div');
                                storageOwner = doc.body;
                            }
                            var withIEStorage = function (storeFunction) {
                                return function () {
                                    var args = Array.prototype.slice.call(arguments, 0);
                                    args.unshift(storage);
                                    storageOwner.appendChild(storage);
                                    storage.addBehavior('#default#userData');
                                    storage.load(localStorageName);
                                    var result = storeFunction.apply(store, args);
                                    storageOwner.removeChild(storage);
                                    return result;
                                };
                            };
                            var forbiddenCharsRegex = new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]", "g");
                            var ieKeyFix = function (key) {
                                return key.replace(/^d/, '___$&').replace(forbiddenCharsRegex, '___');
                            };
                            store.set = withIEStorage(function (storage, key, val) {
                                key = ieKeyFix(key);
                                if (val === undefined) {
                                    return store.remove(key);
                                }
                                storage.setAttribute(key, store.serialize(val));
                                storage.save(localStorageName);
                                return val;
                            });
                            store.get = withIEStorage(function (storage, key, defaultVal) {
                                key = ieKeyFix(key);
                                var val = store.deserialize(storage.getAttribute(key));
                                return (val === undefined ? defaultVal : val);
                            });
                            store.remove = withIEStorage(function (storage, key) {
                                key = ieKeyFix(key);
                                storage.removeAttribute(key);
                                storage.save(localStorageName);
                            });
                            store.clear = withIEStorage(function (storage) {
                                var attributes = storage.XMLDocument.documentElement.attributes;
                                storage.load(localStorageName);
                                for (var i = attributes.length - 1; i >= 0; i--) {
                                    storage.removeAttribute(attributes[i].name);
                                }
                                storage.save(localStorageName);
                            });
                            store.getAll = function (storage) {
                                var ret = {};
                                store.forEach(function (key, val) {
                                    ret[key] = val;
                                });
                                return ret;
                            };
                            store.forEach = withIEStorage(function (storage, callback) {
                                var attributes = storage.XMLDocument.documentElement.attributes;
                                for (var i = 0, attr; attr = attributes[i]; ++i) {
                                    callback(attr.name, store.deserialize(storage.getAttribute(attr.name)));
                                }
                            });
                        }
                        try {
                            var testKey = '__storejs__';
                            store.set(testKey, testKey);
                            if (store.get(testKey) != testKey) {
                                store.disabled = true;
                            }
                            store.remove(testKey);
                        }
                        catch (e) {
                            store.disabled = true;
                        }
                        store.enabled = !store.disabled;
                        return store;
                    }));
                }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {});
            }, {}], 5: [function (require, module, exports) {
                module.exports = extend;
                var hasOwnProperty = Object.prototype.hasOwnProperty;
                function extend() {
                    var target = {};
                    for (var i = 0; i < arguments.length; i++) {
                        var source = arguments[i];
                        for (var key in source) {
                            if (hasOwnProperty.call(source, key)) {
                                target[key] = source[key];
                            }
                        }
                    }
                    return target;
                }
            }, {}]
    }, {}, [1])(1);
});
define("main2", ["require", "exports", "libs/jquery/jquery", "osmauth", "bootstrap"], function (require, exports, $, osmAuth) {
    "use strict";
    window.jQuery = $;
    var auth = osmAuth({
        oauth_consumer_key: 'hvBxA6pLC16IPwWZHSZjimbxSFh5Y5LKFMCENcgq',
        oauth_secret: 'PULRxpiJ8xhLNZgqxkHaFqLtFk3O1bzfXAxETOiq',
        auto: true,
        landing: 'land.html'
    });
    var map;
    document.getElementById('osmLogin').onclick = function () {
        auth.authenticate(function () {
            update();
        });
    };
    var downloadOptions;
    var options = document.getElementsByClassName("option");
    for (var i = 0; i < options.length; i++) {
        options[i].onclick = function () {
            if (this.classList.contains('btn-default')) {
                downloadOptions.push(this.id.replace("option-", ""));
            }
            else {
                downloadOptions.splice(downloadOptions.indexOf(this.id.replace("option-", "")), 1);
            }
            if (downloadOptions.length === 0) {
                document.getElementById("download").classList.add("hidden");
            }
            else {
                document.getElementById("download").classList.remove("hidden");
            }
            this.classList.toggle('btn-default');
            this.classList.toggle('btn-primary');
        };
    }
    document.getElementById("download").onclick = function () {
        document.getElementById("stateOne").classList.add("hidden");
        for (var key in downloadOptions) {
            $.getScript("js/" + downloadOptions[key] + ".js");
        }
        document.getElementById("stateTwo").classList.remove("hidden");
    };
    function update() {
        if (auth.authenticated()) {
            document.getElementById('osmLogin').className = 'green';
            document.getElementById("stateOne").classList.remove("hidden");
            document.getElementById("stateZero").classList.add("hidden");
            document.getElementById("stateTwo").classList.add("hidden");
        }
        else {
            document.getElementById("stateZero").classList.add("hidden");
            document.getElementById("stateOne").classList.remove("hidden");
            document.getElementById('osmLogin').className = '';
        }
    }
    (function () {
        if (auth.authenticated()) {
            document.getElementById("stateZero").classList.add("hidden");
            document.getElementById("stateOne").classList.remove("hidden");
        }
        map = L.map('map', {
            center: [50.6841, 10.9171],
            zoom: 15,
            minZoom: 14,
            layers: [
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors' })
            ]
        });
        $("#save").click(correctionTool.save);
    })();
});
var coTel = new correctionObjectClass();
coTel.id = "tel";
coTel.downloadTags = ["contact:phone", "phone", "contact:fax", "fax"];
coTel.correctingSyntax = function (element) {
    var answer = [];
    if (typeof element.tags !== "undefined") {
        var regex = /^\+(?:[0-9][ -]?){6,14}[0-9]$/;
        for (var key in this.downloadTags) {
            if (typeof element.tags[this.downloadTags[key]] !== "undefined") {
                if (!regex.test(element.tags[this.downloadTags[key]])) {
                    answer.push(this.downloadTags[key]);
                }
            }
        }
    }
    return answer;
};
coTel.syntaxEditor = function (tag, element) {
    $('#syntax').html("");
    $('#syntax').append(coTel.editorForm(tag, element.tags[tag]));
    $('#syntax form').validator();
    $('#syntax form input').focus();
};
coTel.done();
//# sourceMappingURL=main2.js.map