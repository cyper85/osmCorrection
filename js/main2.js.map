{"version":3,"file":"main2.js","sourceRoot":"","sources":["correctionTool.ts","correctionObject.ts","osmObjectInterface.ts","tel.ts","main2.ts"],"names":[],"mappings":"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","sourcesContent":["/// <reference path=\"../typings/globals/osmauth/index.d.ts\" />\n/* \n * The MIT License\n *\n * Copyright 2017 Andreas Neumann <andr.neumann@googlemail.com>.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport {correctionObjectClass} from \"./correctionObject\";\nimport {osmObject, overpassObject, syntaxErrorObject} from \"./osmObjectInterface\";\nimport * as L from 'leaflet';\n\nexport class correctionToolClass {\n    /**\n     * correctionObjects\n     * @type Array\n     */\n    callbacks: correctionObjectClass[];\n    auth: OSMAuth.OSMAuthInstance;\n    map: L.Map;\n\n    nodes: {[key: number]: osmObject};\n    ways: {[key: number]: osmObject};\n    relations: {[key: number]: osmObject};\n    syntaxErrors: syntaxErrorObject[];\n    syntaxFlag: boolean;\n\n    modifiedElements: osmObject[];\n    syntaxError: syntaxErrorObject;\n\n    shownElement: L.FeatureGroup;\n    shownElementBounds: L.LatLngBounds;\n\n    constructor(auth: OSMAuth.OSMAuthInstance, map: L.Map) {\n        this.callbacks = [];\n        this.auth = auth;\n        this.map = map;\n        \n        this.nodes = {};\n        this.ways = {};\n        this.relations = {};\n        this.syntaxErrors = [];\n        this.syntaxFlag = true;\n\n        this.modifiedElements = [];\n        \n        this.shownElementBounds = null;\n        this.shownElement = L.featureGroup();\n    }\n    registerObject(obj: correctionObjectClass): void {\n        this.callbacks.push(obj);\n        for (var tag in obj.downloadTags) {\n            this.overpassQuery(obj.downloadTags[tag]);\n        }\n    };\n\n    overpassQuery(option: string): void {\n        var self = this;\n        let bounds = this.map.getBounds().getSouth() + ',' + this.map.getBounds().getWest() + ',' + this.map.getBounds().getNorth() + ',' + this.map.getBounds().getEast();\n\n        $.getJSON(\"https://overpass-api.de/api/interpreter\",\n            {\"data\": '[out:json][timeout:25];(node[\"' + option + '\"](' + bounds + ');way[\"' + option + '\"](' + bounds + ');relation[\"' + option + '\"](' + bounds + '););out meta;>;out skel qt;'},\n            function(data) { self.correctData(data)}\n        );\n    };\n\n    correctData(data: overpassObject): void {\n        for (let i = 0; i < data.elements.length; i++) {\n            if (data.elements[i].type === \"node\") {\n                if (typeof this.nodes === \"undefined\") {\n                    this.nodes = {};\n                } else if(typeof this.nodes[data.elements[i].id] !== \"undefined\") {\n                    continue;\n                }\n                this.nodes[data.elements[i].id] = data.elements[i];\n            } else if (data.elements[i].type === \"way\") {\n                if (typeof this.ways === \"undefined\") {\n                    this.ways = {};\n                } else if(typeof this.ways[data.elements[i].id] !== \"undefined\") {\n                    continue;\n                }\n                this.ways[data.elements[i].id] = data.elements[i];\n            } else if (data.elements[i].type === \"relation\") {\n                if (typeof this.relations === \"undefined\") {\n                    this.relations = {}\n                } else if (typeof this.relations[data.elements[i].id] !== \"undefined\") {\n                    continue;\n                }\n                this.relations[data.elements[i].id] = data.elements[i];\n            }\n            if (typeof data.elements[i].tags !== \"undefined\") {\n                let correct: string[] = [];\n                for (let key in this.callbacks) {\n                    correct = this.callbacks[key].correctingSyntax(data.elements[i]);\n                    if (correct.length > 0) {\n                        for (var cKey in correct) {\n                            this.syntaxErrors.push({\n                                element: data.elements[i],\n                                tag: correct[cKey],\n                                plugin: this.callbacks[key]\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        if (this.syntaxFlag && (this.syntaxErrors.length > 0)) {\n            this.syntaxFlag = false;\n            this.syntaxEditor();\n        }\n    }\n\n    syntaxEditor(): void {\n        this.syntaxError = this.syntaxErrors.shift();\n        this.showElement(this.syntaxError.element);\n        this.syntaxError.plugin.syntaxEditor(this.syntaxError.tag, this.syntaxError.element);\n    };\n\n    showNode(element: osmObject): void {\n        this.shownElement.addLayer(L.circle(L.latLng(element.lat, element.lon), 3));\n        if (this.shownElementBounds === null) {\n            this.shownElementBounds = new L.LatLngBounds(L.latLng(element.lat, element.lon), L.latLng(element.lat, element.lon));\n        } else {\n            this.shownElementBounds = this.shownElementBounds.extend(L.latLng(element.lat, element.lon));\n        }\n    };\n\n    showWay(element: osmObject): void {\n        let way = [];\n        let shownElement;\n        for (let i in element.nodes) {\n            way.push(L.latLng(this.nodes[element.nodes[i]].lat, this.nodes[element.nodes[i]].lon));\n        }\n        if (element.nodes[0] === element.nodes[element.nodes.length - 1]) {\n            shownElement = L.polygon(way);\n        } else {\n            shownElement = L.polyline(way);\n        }\n\n        this.shownElement.addLayer(shownElement);\n\n        if (this.shownElementBounds === null) {\n            this.shownElementBounds = shownElement.getBounds();\n        } else {\n            this.shownElementBounds.extend(shownElement.getBounds());\n        }\n    }\n\n    showRelation(element: osmObject): void {\n        console.log(\"bah\");\n    }\n\n    showElement(element: osmObject): void {\n        this.shownElementBounds = null;\n        this.map.removeLayer(this.shownElement);\n        this.shownElement.clearLayers();\n\n        if (element.type === \"node\") {\n            this.showNode(element);\n        } else if (element.type === \"way\") {\n            this.showWay(element);\n        } else if (element.type === \"relation\") {\n            this.showRelation(element);\n        }\n        this.map.addLayer(this.shownElement);\n\n        this.map.fitBounds(this.shownElementBounds);\n    };\n\n    syntaxCorrectionSkip():void {\n        // irgendwas speichern\n        if (this.syntaxErrors.length > 0) {\n            this.syntaxEditor();\n        } else {\n            $('#syntax').html(\"\");\n            document.getElementById(\"stateTwo\").classList.add(\"hidden\");\n            document.getElementById(\"stateThree\").classList.remove(\"hidden\");\n        }\n    };\n    \n    syntaxCorrection(): void {\n\n        var input = $('input#input').val();\n        if ( typeof this.modifiedElements === \"undefined\" ) {\n            this.modifiedElements = [];\n        }\n        if (input !== this.syntaxError.element.tags[this.syntaxError.tag]) {\n            this.syntaxError.element.tags[this.syntaxError.tag] = input;\n            if (this.modifiedElements.indexOf(this.syntaxError.element) != -1) {\n                this.modifiedElements.splice(this.modifiedElements.indexOf(this.syntaxError.element), 1);\n            }\n            this.modifiedElements.push(this.syntaxError.element);\n        }\n        this.syntaxCorrectionSkip();\n    }\n\n    /**\n     * Erzeugt XML-Modifycode für Node\n     * @param {OSMElement} element\n     * @param int changesetID\n     * @returns {Element|correctionToolClass.saveNode.node}\n     */\n    saveNode(element: osmObject): Element {\n        var node = document.createElement('node');\n\n        // ID\n        var id = document.createAttribute('id');\n        id.value = String(element.id);\n        node.setAttributeNode(id);\n\n        // Changeset\n        var changeset = document.createAttribute('changeset');\n        changeset.value = this.changesetID;\n        node.setAttributeNode(changeset);\n\n        // Version\n        var version = document.createAttribute('version');\n        console.log(element);\n        console.log(element.version + 1);\n        console.log(String(element.version + 1));\n        \n        version.value = String(element.version);\n        node.setAttributeNode(version);\n\n        // Lat\n        var lat = document.createAttribute('lat');\n        lat.value = String(element.lat);\n        node.setAttributeNode(lat);\n\n        // Lon\n        var lon = document.createAttribute('lon');\n        lon.value = String(element.lon);\n        node.setAttributeNode(lon);\n\n        // Tags\n        for (var key in element.tags) {\n            var tag = document.createElement('tag');\n\n            var k = document.createAttribute('k');\n            k.value = key;\n            tag.setAttributeNode(k);\n\n            var v = document.createAttribute('v');\n            v.value = element.tags[key];\n            tag.setAttributeNode(v);\n\n            node.appendChild(tag);\n        }\n\n        return node;\n    }\n\n    /**\n     * Erzeugt XML-Modifycode für Way\n     * @param {OSMElement} element\n     * @param int changesetID\n     * @returns {Element|correctionToolClass.saveNode.node}\n     */\n    saveWay(element: osmObject): Element {\n        var way = document.createElement('way');\n\n        // ID\n        var id = document.createAttribute('id');\n        id.value = String(element.id);\n        way.setAttributeNode(id);\n\n        // Changeset\n        var changeset = document.createAttribute('changeset');\n        changeset.value = this.changesetID;\n        way.setAttributeNode(changeset);\n\n        // Version\n        var version = document.createAttribute('version');\n        version.value = String(element.version);\n        way.setAttributeNode(version);\n\n        // Tags\n        for (var key in element.tags) {\n            var tag = document.createElement('tag');\n\n            var k = document.createAttribute('k');\n            k.value = key;\n            tag.setAttributeNode(k);\n\n            var v = document.createAttribute('v');\n            v.value = element.tags[key];\n            tag.setAttributeNode(v);\n\n            way.appendChild(tag);\n        }\n\n        // Nodes\n        for (var key in element.nodes) {\n            var nd = document.createElement('nd');\n\n            var ref = document.createAttribute('ref');\n            ref.value = String(element.nodes[key]);\n            nd.setAttributeNode(ref);\n\n            way.appendChild(nd);\n        }\n\n        return way;\n    };\n\n    /**\n     * Erzeugt XML-Modifycode für Relation\n     * @param {OSMElement} element\n     * @param int changesetID\n     * @returns {Element|correctionToolClass.saveNode.node}\n     */\n    saveRelation(element: osmObject): Element {\n        var relation = document.createElement('relation');\n\n        // ID\n        var id = document.createAttribute('id');\n        id.value = String(element.id);\n        relation.setAttributeNode(id);\n\n        // Changeset\n        var changeset = document.createAttribute('changeset');\n        changeset.value = this.changesetID;\n        relation.setAttributeNode(changeset);\n\n        // Version\n        var version = document.createAttribute('version');\n        version.value = String(element.version);\n        relation.setAttributeNode(version);\n\n        // Tags\n        for (var key in element.tags) {\n            var tag = document.createElement('tag');\n\n            var k = document.createAttribute('k');\n            k.value = key;\n            tag.setAttributeNode(k);\n\n            var v = document.createAttribute('v');\n            v.value = element.tags[key];\n            tag.setAttributeNode(v);\n\n            relation.appendChild(tag);\n        }\n\n        // Members\n        for (var key in element.members) {\n            var member = document.createElement('member');\n\n            var type = document.createAttribute('type');\n            type.value = element.members[key].type;\n            member.setAttributeNode(type);\n\n            var role = document.createAttribute('role');\n            role.value = element.members[key].role;\n            member.setAttributeNode(role);\n\n            var ref = document.createAttribute('ref');\n            ref.value = String(element.members[key].ref);\n            member.setAttributeNode(ref);\n\n            relation.appendChild(member);\n        }\n\n        return relation;\n    };\n\n\n    /**\n     * Öffne Changeset\n     */\n    openChangeset(): void {\n        var self = this;\n        this.auth.xhr({\n            method: 'PUT',\n            path: '/api/0.6/changeset/create',\n            options: {header: {\"Content-Type\": \"text/xml\"}},\n            content: '<?xml version=\"1.0\" encoding=\"UTF-8\"?>' +\n            '<osm version=\"0.6\" generator=\"JOSM\">' +\n            '<changeset>' +\n            '<tag k=\"created_by\" v=\"osmCorrection v0.0.1\"/>' +\n            '<tag k=\"comment\" v=\"Syntax correction and validation\"/>' +\n            '</changeset>' +\n            '</osm>'\n        }, function(err: any, data: string){ self.modifyChangeset(err, data); });\n    };\n\n    private changesetID: string;\n    modifyChangeset(err: any, data: string): void {\n        console.log(err);\n        console.log(data);\n        if ((!err) && data.length > 0) {\n            this.changesetID = data;\n        }\n        \n        var modify = document.createElement('modify');\n\n        for (var i in this.modifiedElements) {\n            if (this.modifiedElements[i].type === \"node\") {\n                modify.appendChild(this.saveNode(this.modifiedElements[i]));\n            } else if (this.modifiedElements[i].type === \"way\") {\n                modify.appendChild(this.saveWay(this.modifiedElements[i]));\n            } else if (this.modifiedElements[i].type === \"relation\") {\n                modify.appendChild(this.saveRelation(this.modifiedElements[i]));\n            }\n        }\n\n        var self = this;\n        this.auth.xhr({\n            method: 'POST',\n            path: '/api/0.6/changeset/' + this.changesetID + '/upload',\n            options: {header: {\"Content-Type\": \"text/xml\"}},\n            content: '<?xml version=\"1.0\" encoding=\"UTF-8\"?>' +\n                        '<osmChange version=\"0.6\" generator=\"osmCorrectionTool\">'+\n                            modify.outerHTML+\n                        '</osmChange>'\n        }, function(){ self.closeChangeset()});\n\n\n    };\n\n    /**\n     * Schließe Changeset\n     */\n    closeChangeset(): void {\n        this.auth.xhr({\n            method: 'PUT',\n            path: '/api/0.6/changeset/' + this.changesetID + '/close'\n        }, function () {});\n    };\n\n    /**\n     * Speichere Änderungen in OSM\n     * @returns {Boolean}\n     */\n    save(): boolean {\n        console.log(this.modifiedElements);\n        if (this.modifiedElements.length > 0) {\n            this.openChangeset();\n        } else {\n            console.log(this.modifiedElements);\n        }\n        return false;\n    };\n};\n","/* \n * The MIT License\n *\n * Copyright 2017 Andreas Neumann <andr.neumann@googlemail.com>.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport { correctionToolClass } from \"./correctionTool\";\nimport { osmObject } from \"./osmObjectInterface\";\n\n//import * as ov from \"./libs/osmValidation/osmValidation.js\";\n// @ts-ignore\nimport ov = require(\"libs/osmValidation/osmValidation.js\");\n\ndeclare var correctionTool: correctionToolClass;\n\nexport abstract class correctionObjectClass {\n    id = \"\";\n    \n    syntaxValidationHint: string;\n    syntaxValidator: Function;\n    \n    downloadTags: string[];\n    correctionTool: correctionToolClass;\n    osmValidation: any;\n\n    getTags() {\n        return this.downloadTags;\n    }\n    \n    constructor(correctionTool: correctionToolClass) {\n        this.correctionTool = correctionTool;\n        this.osmValidation = ov;\n    }\n    \n    abstract correctingSyntax(element: osmObject):string[];\n    \n    editorForm(label: string, value: string, type: string = \"error\"):JQuery {\n        var self = this;\n        let div = $('<div />')\n            .addClass(\"syntaxElement\")\n            .addClass(\"form-group\")\n            .addClass(\"panel\")\n            .addClass(\"panel-\"+type)\n            .append(\n                $(\"<label />\")\n                    .attr(\"for\",\"input\")\n                    .addClass(\"control-label\")\n                    .addClass(\"panel-heading\")\n                    .html(label))\n            .append(\n                $(\"<input />\")\n                    .attr(\"id\",\"input\")\n                    .addClass(\"form-control\")\n                    .addClass(\"panel-body\")\n                    .attr(\"type\",\"text\")\n                    .val(value)\n                    .keyup(function(){\n                        if (self.syntaxValidator($(this).val())) {\n                            $(this).removeClass('invalid');\n                            $(this).parent().parent().children(\"input[type=submit]\").prop('disabled', false);\n                        } else {\n                            $(this).addClass('invalid');\n                            $(this).parent(\"form\").children(\"input[type=submit]\").prop('disabled', true);\n                        }\n                    }));\n        let form = $('<form />')\n            .attr(\"role\",\"form\")\n            .append(div)\n            .append(\n                $(\"<input />\")\n                    .attr(\"type\",\"submit\")\n                    .addClass(\"btn\")\n                    .prop('disabled', true)\n                    .addClass(\"btn-success\")\n                    .html(\"weiter\")\n                    .click(function(){\n                        self.correctionTool.syntaxCorrection();\n                    }))\n            .append(\n                $(\"<button />\")\n                    .addClass(\"btn\")\n                    .addClass(\"btn-danger\")\n                    .html(\"überspringen\")\n                    .click(function(){\n                        self.correctionTool.syntaxCorrectionSkip();\n            }));\n        \n        return form;\n    }\n    syntaxEditor(tag: string, element: osmObject) {\n        $('#syntax').html(\"\");\n        $('#syntax').append(this.editorForm(tag, element.tags[tag]));\n        $('#syntax form input').focus();\n    }\n    \n}\n","/* \n * The MIT License\n *\n * Copyright 2017 Andreas Neumann <andr.neumann@googlemail.com>.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { correctionObjectClass } from \"./correctionObject\";\n\nexport interface osmObject {\n    type:   string;\n    id:     number;\n    tags:   {[key: string]: string};\n    \n    // MetaDaten\n    timestamp: string;\n    version: number;\n    changeset: number;\n    \n    // Nodes:\n    lat:    number;\n    lon:    number;\n    \n    // Ways:\n    nodes: number[];\n    \n    // Relations:\n    members: {\n        type: string;\n        ref: number;\n        role: string;\n    }[];\n}\n\n\nexport interface overpassObject {\n    version:   string;\n    generator:     string;\n    osm3s:   {\n        timestamp_osm_base: string;\n        copyright: string\n    };\n    elements: osmObject[];\n}\n\n\nexport interface syntaxErrorObject {\n    element:    osmObject;\n    tag:    string;\n    plugin: correctionObjectClass;\n}","/* \n * The MIT License\n *\n * Copyright 2017 andreas.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport { correctionObjectClass } from \"./correctionObject\";\nimport { osmObject } from \"./osmObjectInterface\";\n\nexport class correctTelephone extends correctionObjectClass {\n    id = \"tel\";\n\n    downloadTags = [\"contact:phone\", \"phone\", \"contact:fax\", \"fax\"];\n\n    correctingSyntax(element: osmObject) {\n        var answer = [];\n        if (typeof element.tags !== \"undefined\") {\n            var regex = /^\\+(?:[0-9][ -]?){6,14}[0-9]$/;\n            for (var key in this.downloadTags) {\n                if (typeof element.tags[this.downloadTags[key]] !== \"undefined\") {\n                    if (!this.osmValidation.phone(element.tags[this.downloadTags[key]])) {\n                        answer.push(this.downloadTags[key]);\n                    }\n                }\n            }\n        }\n        return answer;\n    };\n    \n    syntaxValidator = this.osmValidation.phone;\n    syntaxValidationHint = \"\";\n}","/// <reference path=\"../typings/globals/osmauth/index.d.ts\" />\n/* \n * The MIT License\n *\n * Copyright 2016 Andreas.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n//import * as $ from \"./libs/jquery/jquery\";\n//(<any>window).jQuery = $;\n//import * as o from \"./osmauth.js\";\nimport { correctionToolClass } from \"./correctionTool\";\nimport { correctTelephone } from \"./tel\";\nimport * as L from 'leaflet';\n\ndeclare var map: L.Map;\n\nvar auth = new osmAuth({\n    oauth_consumer_key: 'hvBxA6pLC16IPwWZHSZjimbxSFh5Y5LKFMCENcgq',\n    oauth_secret: 'PULRxpiJ8xhLNZgqxkHaFqLtFk3O1bzfXAxETOiq',\n    auto: true,\n    url:    'https://www.openstreetmap.org',\n    landing: 'land.html'\n});\n\nlet correctionTool: correctionToolClass;\n\ndocument.getElementById('osmLogin').onclick = function () {\n    auth.authenticate(function () {\n        update();\n    });\n};\n\nlet downloadOptions: string[] = [];\n\n$('.option').click(function() {\n        if (this.classList.contains('btn-default')) {\n            downloadOptions.push(this.id.replace(\"option-\", \"\"));\n        } else {\n            downloadOptions.splice(downloadOptions.indexOf(this.id.replace(\"option-\", \"\")), 1);\n        }\n        if (downloadOptions.length === 0) {\n            document.getElementById(\"download\").classList.add(\"hidden\");\n        } else {\n            document.getElementById(\"download\").classList.remove(\"hidden\");\n        }\n        this.classList.toggle('btn-default');\n        this.classList.toggle('btn-primary');\n    \n});\n$('#download').click(function () {\n    document.getElementById(\"stateOne\").classList.add(\"hidden\");\n    // Abzufragende Daten sammeln\n    for (let key in downloadOptions) {\n        switch(downloadOptions[key]) {\n            case \"tel\":\n                correctionTool.registerObject(new correctTelephone(correctionTool));\n                break;\n        };\n    }\n    // Abfrage absenden\n    // Validator anschmeissen\n    // Fehler anzeigen\n    document.getElementById(\"stateTwo\").classList.remove(\"hidden\");\n});\n\nfunction update() {\n    if (auth.authenticated()) {\n        document.getElementById('osmLogin').className = 'green';\n        document.getElementById(\"stateOne\").classList.remove(\"hidden\");\n\n        document.getElementById(\"stateZero\").classList.add(\"hidden\");\n        document.getElementById(\"stateTwo\").classList.add(\"hidden\");\n    } else {\n        document.getElementById(\"stateZero\").classList.add(\"hidden\");\n        document.getElementById(\"stateOne\").classList.remove(\"hidden\");\n\n        document.getElementById('osmLogin').className = '';\n    }\n}\n\nif (auth.authenticated()) {\n        document.getElementById(\"stateZero\").classList.add(\"hidden\");\n        document.getElementById(\"stateOne\").classList.remove(\"hidden\");\n    }\n    \n    map = L.map('map', {\n        center: [50.6841, 10.9171],\n        zoom: 15,\n        minZoom: 14,\n        layers: [\n            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {attribution: 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors'})\n        ]\n    });\n    \n    correctionTool = new correctionToolClass(auth,map);\n    $(\"#save\").click(function(){correctionTool.save(); return false;});\n"]}