{"version":3,"file":"main2.js","sourceRoot":"","sources":["correctionTool.ts","libs/osmValidation/osmValidation.js","correctionObject.ts","osmObjectInterface.ts","tel.ts","main2.ts"],"names":[],"mappings":"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","sourcesContent":["/// <reference path=\"../typings/globals/osmauth/index.d.ts\" />\n/* \n * The MIT License\n *\n * Copyright 2017 Andreas Neumann <andr.neumann@googlemail.com>.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport {correctionObjectClass} from \"./correctionObject\";\nimport {osmObject, overpassObject, syntaxErrorObject} from \"./osmObjectInterface\";\n\nexport class correctionToolClass {\n    /**\n     * correctionObjects\n     * @type Array\n     */\n    callbacks: correctionObjectClass[];\n    auth: OSMAuth.OSMAuthInstance;\n    map: L.Map;\n\n    nodes: {[key: number]: osmObject};\n    ways: {[key: number]: osmObject};\n    relations: {[key: number]: osmObject};\n    syntaxErrors: syntaxErrorObject[];\n    syntaxFlag: boolean;\n\n    modifiedElements: osmObject[];\n    syntaxError: syntaxErrorObject;\n\n    shownElement: L.FeatureGroup;\n    shownElementBounds: L.LatLngBounds;\n\n    constructor(auth: OSMAuth.OSMAuthInstance, map: L.Map) {\n        this.callbacks = [];\n        this.auth = auth;\n        this.map = map;\n        \n        this.nodes = {};\n        this.ways = {};\n        this.relations = {};\n        this.syntaxErrors = [];\n        this.syntaxFlag = true;\n\n        this.modifiedElements = [];\n        \n        this.shownElementBounds = null;\n        this.shownElement = L.featureGroup();\n    }\n    registerObject(obj: correctionObjectClass): void {\n        this.callbacks.push(obj);\n        for (var tag in obj.downloadTags) {\n            this.overpassQuery(obj.downloadTags[tag]);\n        }\n    };\n\n    overpassQuery(option: string): void {\n        var self = this;\n        let bounds = this.map.getBounds().getSouth() + ',' + this.map.getBounds().getWest() + ',' + this.map.getBounds().getNorth() + ',' + this.map.getBounds().getEast();\n\n        $.getJSON(\"https://overpass-api.de/api/interpreter\",\n            {\"data\": '[out:json][timeout:25];(node[\"' + option + '\"](' + bounds + ');way[\"' + option + '\"](' + bounds + ');relation[\"' + option + '\"](' + bounds + '););out meta;>;out skel qt;'},\n            function(data) { self.correctData(data)}\n        );\n    };\n\n    correctData(data: overpassObject): void {\n        for (let i = 0; i < data.elements.length; i++) {\n            if (data.elements[i].type === \"node\") {\n                if (typeof this.nodes === \"undefined\") {\n                    this.nodes = {};\n                } else if(typeof this.nodes[data.elements[i].id] !== \"undefined\") {\n                    continue;\n                }\n                this.nodes[data.elements[i].id] = data.elements[i];\n            } else if (data.elements[i].type === \"way\") {\n                if (typeof this.ways === \"undefined\") {\n                    this.ways = {};\n                } else if(typeof this.ways[data.elements[i].id] !== \"undefined\") {\n                    continue;\n                }\n                this.ways[data.elements[i].id] = data.elements[i];\n            } else if (data.elements[i].type === \"relation\") {\n                if (typeof this.relations === \"undefined\") {\n                    this.relations = {}\n                } else if (typeof this.relations[data.elements[i].id] !== \"undefined\") {\n                    continue;\n                }\n                this.relations[data.elements[i].id] = data.elements[i];\n            }\n            if (typeof data.elements[i].tags !== \"undefined\") {\n                let correct: string[] = [];\n                for (let key in this.callbacks) {\n                    correct = this.callbacks[key].correctingSyntax(data.elements[i]);\n                    if (correct.length > 0) {\n                        for (var cKey in correct) {\n                            this.syntaxErrors.push({\n                                element: data.elements[i],\n                                tag: correct[cKey],\n                                plugin: this.callbacks[key]\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        if (this.syntaxFlag && (this.syntaxErrors.length > 0)) {\n            this.syntaxFlag = false;\n            this.syntaxEditor();\n        }\n    }\n\n    syntaxEditor(): void {\n        this.syntaxError = this.syntaxErrors.shift();\n        this.showElement(this.syntaxError.element);\n        this.syntaxError.plugin.syntaxEditor(this.syntaxError.tag, this.syntaxError.element);\n    };\n\n    showNode(element: osmObject): void {\n        this.shownElement.addLayer(L.circle(L.latLng(element.lat, element.lon), 3));\n        if (this.shownElementBounds === null) {\n            this.shownElementBounds = new L.LatLngBounds(L.latLng(element.lat, element.lon), L.latLng(element.lat, element.lon));\n        } else {\n            this.shownElementBounds = this.shownElementBounds.extend(L.latLng(element.lat, element.lon));\n        }\n    };\n\n    showWay(element: osmObject): void {\n        let way = [];\n        let shownElement;\n        for (let i in element.nodes) {\n            way.push(L.latLng(this.nodes[element.nodes[i]].lat, this.nodes[element.nodes[i]].lon));\n        }\n        if (element.nodes[0] === element.nodes[element.nodes.length - 1]) {\n            shownElement = L.polygon(way);\n        } else {\n            shownElement = L.polyline(way);\n        }\n\n        this.shownElement.addLayer(shownElement);\n\n        if (this.shownElementBounds === null) {\n            this.shownElementBounds = shownElement.getBounds();\n        } else {\n            this.shownElementBounds.extend(shownElement.getBounds());\n        }\n    }\n\n    showRelation(element: osmObject): void {\n        console.log(\"bah\");\n    }\n\n    showElement(element: osmObject): void {\n        this.shownElementBounds = null;\n        this.map.removeLayer(this.shownElement);\n        this.shownElement.clearLayers();\n\n        if (element.type === \"node\") {\n            this.showNode(element);\n        } else if (element.type === \"way\") {\n            this.showWay(element);\n        } else if (element.type === \"relation\") {\n            this.showRelation(element);\n        }\n        this.map.addLayer(this.shownElement);\n\n        this.map.fitBounds(this.shownElementBounds);\n    };\n\n    syntaxCorrectionSkip():void {\n        // irgendwas speichern\n        if (this.syntaxErrors.length > 0) {\n            this.syntaxEditor();\n        } else {\n            $('#syntax').html(\"\");\n            document.getElementById(\"stateTwo\").classList.add(\"hidden\");\n            document.getElementById(\"stateThree\").classList.remove(\"hidden\");\n        }\n    };\n    \n    syntaxCorrection(): void {\n\n        var input = $('input#input').val();\n        if ( typeof this.modifiedElements === \"undefined\" ) {\n            this.modifiedElements = [];\n        }\n        if (input !== this.syntaxError.element.tags[this.syntaxError.tag]) {\n            this.syntaxError.element.tags[this.syntaxError.tag] = input;\n            if (this.modifiedElements.indexOf(this.syntaxError.element) != -1) {\n                this.modifiedElements.splice(this.modifiedElements.indexOf(this.syntaxError.element), 1);\n            }\n            this.modifiedElements.push(this.syntaxError.element);\n        }\n        this.syntaxCorrectionSkip();\n    }\n\n    /**\n     * Erzeugt XML-Modifycode für Node\n     * @param {OSMElement} element\n     * @param int changesetID\n     * @returns {Element|correctionToolClass.saveNode.node}\n     */\n    saveNode(element: osmObject): Element {\n        var node = document.createElement('node');\n\n        // ID\n        var id = document.createAttribute('id');\n        id.value = String(element.id);\n        node.setAttributeNode(id);\n\n        // Changeset\n        var changeset = document.createAttribute('changeset');\n        changeset.value = this.changesetID;\n        node.setAttributeNode(changeset);\n\n        // Version\n        var version = document.createAttribute('version');\n        console.log(element);\n        console.log(element.version + 1);\n        console.log(String(element.version + 1));\n        \n        version.value = String(element.version);\n        node.setAttributeNode(version);\n\n        // Lat\n        var lat = document.createAttribute('lat');\n        lat.value = String(element.lat);\n        node.setAttributeNode(lat);\n\n        // Lon\n        var lon = document.createAttribute('lon');\n        lon.value = String(element.lon);\n        node.setAttributeNode(lon);\n\n        // Tags\n        for (var key in element.tags) {\n            var tag = document.createElement('tag');\n\n            var k = document.createAttribute('k');\n            k.value = key;\n            tag.setAttributeNode(k);\n\n            var v = document.createAttribute('v');\n            v.value = element.tags[key];\n            tag.setAttributeNode(v);\n\n            node.appendChild(tag);\n        }\n\n        return node;\n    }\n\n    /**\n     * Erzeugt XML-Modifycode für Way\n     * @param {OSMElement} element\n     * @param int changesetID\n     * @returns {Element|correctionToolClass.saveNode.node}\n     */\n    saveWay(element: osmObject): Element {\n        var way = document.createElement('way');\n\n        // ID\n        var id = document.createAttribute('id');\n        id.value = String(element.id);\n        way.setAttributeNode(id);\n\n        // Changeset\n        var changeset = document.createAttribute('changeset');\n        changeset.value = this.changesetID;\n        way.setAttributeNode(changeset);\n\n        // Version\n        var version = document.createAttribute('version');\n        version.value = String(element.version);\n        way.setAttributeNode(version);\n\n        // Tags\n        for (var key in element.tags) {\n            var tag = document.createElement('tag');\n\n            var k = document.createAttribute('k');\n            k.value = key;\n            tag.setAttributeNode(k);\n\n            var v = document.createAttribute('v');\n            v.value = element.tags[key];\n            tag.setAttributeNode(v);\n\n            way.appendChild(tag);\n        }\n\n        // Nodes\n        for (var key in element.nodes) {\n            var nd = document.createElement('nd');\n\n            var ref = document.createAttribute('ref');\n            ref.value = String(element.nodes[key]);\n            nd.setAttributeNode(ref);\n\n            way.appendChild(nd);\n        }\n\n        return way;\n    };\n\n    /**\n     * Erzeugt XML-Modifycode für Relation\n     * @param {OSMElement} element\n     * @param int changesetID\n     * @returns {Element|correctionToolClass.saveNode.node}\n     */\n    saveRelation(element: osmObject): Element {\n        var relation = document.createElement('relation');\n\n        // ID\n        var id = document.createAttribute('id');\n        id.value = String(element.id);\n        relation.setAttributeNode(id);\n\n        // Changeset\n        var changeset = document.createAttribute('changeset');\n        changeset.value = this.changesetID;\n        relation.setAttributeNode(changeset);\n\n        // Version\n        var version = document.createAttribute('version');\n        version.value = String(element.version);\n        relation.setAttributeNode(version);\n\n        // Tags\n        for (var key in element.tags) {\n            var tag = document.createElement('tag');\n\n            var k = document.createAttribute('k');\n            k.value = key;\n            tag.setAttributeNode(k);\n\n            var v = document.createAttribute('v');\n            v.value = element.tags[key];\n            tag.setAttributeNode(v);\n\n            relation.appendChild(tag);\n        }\n\n        // Members\n        for (var key in element.members) {\n            var member = document.createElement('member');\n\n            var type = document.createAttribute('type');\n            type.value = element.members[key].type;\n            member.setAttributeNode(type);\n\n            var role = document.createAttribute('role');\n            role.value = element.members[key].role;\n            member.setAttributeNode(role);\n\n            var ref = document.createAttribute('ref');\n            ref.value = String(element.members[key].ref);\n            member.setAttributeNode(ref);\n\n            relation.appendChild(member);\n        }\n\n        return relation;\n    };\n\n\n    /**\n     * Öffne Changeset\n     */\n    openChangeset(): void {\n        var self = this;\n        this.auth.xhr({\n            method: 'PUT',\n            path: '/api/0.6/changeset/create',\n            options: {header: {\"Content-Type\": \"text/xml\"}},\n            content: '<?xml version=\"1.0\" encoding=\"UTF-8\"?>' +\n            '<osm version=\"0.6\" generator=\"JOSM\">' +\n            '<changeset>' +\n            '<tag k=\"created_by\" v=\"osmCorrection v0.0.1\"/>' +\n            '<tag k=\"comment\" v=\"Syntax correction and validation\"/>' +\n            '</changeset>' +\n            '</osm>'\n        }, function(err: any, data: string){ self.modifyChangeset(err, data); });\n    };\n\n    private changesetID: string;\n    modifyChangeset(err: any, data: string): void {\n        console.log(err);\n        console.log(data);\n        if ((!err) && data.length > 0) {\n            this.changesetID = data;\n        }\n        \n        var modify = document.createElement('modify');\n\n        for (var i in this.modifiedElements) {\n            if (this.modifiedElements[i].type === \"node\") {\n                modify.appendChild(this.saveNode(this.modifiedElements[i]));\n            } else if (this.modifiedElements[i].type === \"way\") {\n                modify.appendChild(this.saveWay(this.modifiedElements[i]));\n            } else if (this.modifiedElements[i].type === \"relation\") {\n                modify.appendChild(this.saveRelation(this.modifiedElements[i]));\n            }\n        }\n\n        var self = this;\n        this.auth.xhr({\n            method: 'POST',\n            path: '/api/0.6/changeset/' + this.changesetID + '/upload',\n            options: {header: {\"Content-Type\": \"text/xml\"}},\n            content: '<?xml version=\"1.0\" encoding=\"UTF-8\"?>' +\n                        '<osmChange version=\"0.6\" generator=\"osmCorrectionTool\">'+\n                            modify.outerHTML+\n                        '</osmChange>'\n        }, function(){ self.closeChangeset()});\n\n\n    };\n\n    /**\n     * Schließe Changeset\n     */\n    closeChangeset(): void {\n        this.auth.xhr({\n            method: 'PUT',\n            path: '/api/0.6/changeset/' + this.changesetID + '/close'\n        }, function () {});\n    };\n\n    /**\n     * Speichere Änderungen in OSM\n     * @returns {Boolean}\n     */\n    save(): boolean {\n        console.log(this.modifiedElements);\n        if (this.modifiedElements.length > 0) {\n            this.openChangeset();\n        } else {\n            console.log(this.modifiedElements);\n        }\n        return false;\n    };\n};","/*\n * The MIT License\n *\n * Copyright 2017 Andreas Neumann <andr.neumann@googlemail.com>.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nif (typeof osmValidation === \"undefined\") {\n    var osmValidation;\n}\n\n(function () {\n\n    // Create a reference to this\n    osmValidation = new Object();\n\n    // Flag-System\n    osmValidation.PLAIN_FLAG = \"\";\n    osmValidation.msg = osmValidation.PLAIN_FLAG;\n\n    /** Regular expressions */\n\n    const regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n    const regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\n    const regexPunycode = /^xn--/;\n    /** Highest positive signed 32-bit float value */\n    const maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n    /** Bootstring parameters */\n    const base = 36;\n    const tMin = 1;\n    const tMax = 26;\n    const skew = 38;\n    const damp = 700;\n    const initialBias = 72;\n    const initialN = 128; // 0x80\n    const delimiter = '-'; // '\\x2D\n\n\n\n    /** Convenience shortcuts */\n    const baseMinusTMin = base - tMin;\n    const floor = Math.floor;\n    const stringFromCharCode = String.fromCharCode;\n\n\n    /**\n     * A generic `Array#map` utility function.\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} callback The function that gets called for every array\n     * item.\n     * @returns {Array} A new array of values returned by the callback function.\n     */\n    var map = function (array, fn) {\n        const result = [];\n        var length = array.length;\n        while (length--) {\n            result[length] = fn(array[length]);\n        }\n        return result;\n    }\n\n    /**\n     * A simple `Array#map`-like wrapper to work with domain name strings or email\n     * addresses.\n     * @private\n     * @param {String} domain The domain name or email address.\n     * @param {Function} callback The function that gets called for every\n     * character.\n     * @returns {Array} A new string of characters returned by the callback\n     * function.\n     */\n    var mapDomain = function (string, fn) {\n        const parts = string.split('@');\n        var result = '';\n        if (parts.length > 1) {\n            // In email addresses, only the domain name should be punycoded. Leave\n            // the local part (i.e. everything up to `@`) intact.\n            result = parts[0] + '@';\n            string = parts[1];\n        }\n        // Avoid `split(regex)` for IE8 compatibility. See #17.\n        string = string.replace(regexSeparators, '\\x2E');\n        const labels = string.split('.');\n        const encoded = map(labels, fn).join('.');\n        return result + encoded;\n    }\n\n    /**\n     * Creates an array containing the numeric code points of each Unicode\n     * character in the string. While JavaScript uses UCS-2 internally,\n     * this function will convert a pair of surrogate halves (each of which\n     * UCS-2 exposes as separate characters) into a single code point,\n     * matching UTF-16.\n     * @see `punycode.ucs2.encode`\n     * @see <https://mathiasbynens.be/notes/javascript-encoding>\n     * @memberOf punycode.ucs2\n     * @name decode\n     * @param {String} string The Unicode input string (UCS-2).\n     * @returns {Array} The new array of code points.\n     */\n    function ucs2decode(string) {\n        const output = [];\n        var counter = 0;\n        const length = string.length;\n        while (counter < length) {\n            const value = string.charCodeAt(counter++);\n            if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n                // It's a high surrogate, and there is a next character.\n                const extra = string.charCodeAt(counter++);\n                if ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n                    output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n                } else {\n                    // It's an unmatched surrogate; only append this code unit, in case the\n                    // next code unit is the high surrogate of a surrogate pair.\n                    output.push(value);\n                    counter--;\n                }\n            } else {\n                output.push(value);\n            }\n        }\n        return output;\n    }\n\n    /**\n     * Converts a string of Unicode symbols (e.g. a domain name label) to a\n     * Punycode string of ASCII-only symbols.\n     * @memberOf punycode\n     * @param {String} input The string of Unicode symbols.\n     * @returns {String} The resulting Punycode string of ASCII-only symbols.\n     */\n    const encode = function (input) {\n        const output = [];\n\n        // Convert the input in UCS-2 to an array of Unicode code points.\n        input = ucs2decode(input);\n\n        // Cache the length.\n        var inputLength = input.length;\n\n        // Initialize the state.\n        var n = 128;\n        var delta = 0;\n        var bias = 72;\n\n        // Handle the basic code points.\n        for (var currentValue of input) {\n            if (currentValue < 0x80) {\n                output.push(stringFromCharCode(currentValue));\n            }\n        }\n\n        var basicLength = output.length;\n        var handledCPCount = basicLength;\n\n        // `handledCPCount` is the number of code points that have been handled;\n        // `basicLength` is the number of basic code points.\n\n        // Finish the basic string with a delimiter unless it's empty.\n        if (basicLength) {\n            output.push('-');\n        }\n\n        // Main encoding loop:\n        while (handledCPCount < inputLength) {\n\n            // All non-basic code points < n have been handled already. Find the next\n            // larger one:\n            var m = maxInt;\n            for (var currentValue of input) {\n                if (currentValue >= n && currentValue < m) {\n                    m = currentValue;\n                }\n            }\n\n            // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n            // but guard against overflow.\n            const handledCPCountPlusOne = handledCPCount + 1;\n            if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n                error('overflow');\n            }\n\n            delta += (m - n) * handledCPCountPlusOne;\n            n = m;\n\n            for (var currentValue of input) {\n                if (currentValue < n && ++delta > maxInt) {\n                    error('overflow');\n                }\n                if (currentValue == n) {\n                    // Represent delta as a generalized variable-length integer.\n                    var q = delta;\n                    for (var k = base; /* no condition */; k += base) {\n                        const t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n                        if (q < t) {\n                            break;\n                        }\n                        const qMinusT = q - t;\n                        const baseMinusT = base - t;\n                        output.push(\n                                stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n                                );\n                        q = floor(qMinusT / baseMinusT);\n                    }\n\n                    output.push(stringFromCharCode(digitToBasic(q, 0)));\n                    bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n                    delta = 0;\n                    ++handledCPCount;\n                }\n            }\n\n            ++delta;\n            ++n;\n\n        }\n        return output.join('');\n    };\n\n    /**\n     * Converts a Unicode string representing a domain name or an email address to\n     * Punycode. Only the non-ASCII parts of the domain name will be converted,\n     * i.e. it doesn't matter if you call it with a domain that's already in\n     * ASCII.\n     * @memberOf punycode\n     * @param {String} input The domain name or email address to convert, as a\n     * Unicode string.\n     * @returns {String} The Punycode representation of the given domain name or\n     * email address.\n     */\n\n    var idn2ascii = function (urlpart) {\n        return mapDomain(urlpart, function (string) {\n            return regexNonASCII.test(string)\n                    ? 'xn--' + encode(string)\n                    : string;\n        });\n    };\n\n    osmValidation.PHONE_EMERGENCY = \"phonenumber is a valid emergency number\";\n    osmValidation.PHONE_VALID = \"phonenumber is a valid international number\";\n    osmValidation.PHONE_INVALID = \"number is not a emergency number or an international phonenumber (\\+\\d{1,4} \\d+( \\d+(-\\d+)))\";\n\n    /**\n     * Tests Phonenumbers\n     *\n     * @param {String} phonenumber\n     * @returns {Boolean}\n     */\n    osmValidation.phone = function (number) {\n        switch (number) {\n            /*\n             * emergency-numbers\n             */\n            case \"000\":\n            case \"15\":\n            case \"17\":\n            case \"18\":\n            case \"061\":\n            case \"062\":\n            case \"080\":\n            case \"081\":\n            case \"085\":\n            case \"088\":\n            case \"091\":\n            case \"092\":\n            case \"100\":\n            case \"101\":\n            case \"102\":\n            case \"103\":\n            case \"108\":\n            case \"110\":\n            case \"112\":\n            case \"113\":\n            case \"117\":\n            case \"118\":\n            case \"119\":\n            case \"122\":\n            case \"123\":\n            case \"133\":\n            case \"143\":\n            case \"144\":\n            case \"145\":\n            case \"147\":\n            case \"150\":\n            case \"153\":\n            case \"154\":\n            case \"155\":\n            case \"158\":\n            case \"160\":\n            case \"165\":\n            case \"166\":\n            case \"190\":\n            case \"191\":\n            case \"192\":\n            case \"193\":\n            case \"194\":\n            case \"199\":\n            case \"911\":\n            case \"995\":\n            case \"996\":\n            case \"997\":\n            case \"998\":\n            case \"999\":\n            case \"0123\":\n            case \"1006\":\n            case \"1414\":\n            case \"1415\":\n            case \"1515\":\n            case \"1530\":\n            case \"1669\":\n            case \"02800\":\n                osmValidation.msg = osmValidation.PHONE_EMERGENCY;\n                return true;\n                /*\n                 * international-number\n                 */\n            default:\n                var regex = /^\\+(?:[0-9][ -]?){6,14}[0-9]$/;\n                if (regex.test(number)) {\n                    osmValidation.msg = osmValidation.PHONE_VALID;\n                    return true;\n                } else {\n                    osmValidation.msg = osmValidation.PHONE_INVALID;\n                    return false;\n                }\n        }\n    };\n\n    osmValidation.MAIL_VALID = \"email is valid\";\n    osmValidation.MAIL_INVALID = \"email is invalid\";\n\n    /**\n     * Tests emailaddresses\n     *\n     * @param {String} mailaddress\n     * @returns {Boolean}\n     */\n    osmValidation.mail = function (email) {\n        var regex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        if (regex.test(email)) {\n            osmValidation.msg = osmValidation.MAIL_VALID;\n            return true;\n        } else {\n            osmValidation.msg = osmValidation.MAIL_INVALID;\n            return false;\n        }\n    };\n\n    osmValidation.URL_PROTOCOLL_INVALID = \"URL has no or wrong protocoll. At this time, I allow only http or https\";\n    osmValidation.URL_LOCAL_ADDRESS = \"URL to a local service is not useful\";\n    osmValidation.URL_HOST_INVALID = \"Host is not a ipv4- or ipv6-address and it has no fqdn\";\n    osmValidation.URL_INVALID = \"URL seems broken\";\n    osmValidation.URL_VALID = \"URL is valid\";\n    /**\n     * Tests URL\n     * @param {String} Url\n     * @returns {Boolean}\n     */\n    osmValidation.url = function (url) {\n\n        /*\n         * Protocoll\n         */\n        var protocoll = /^https?:\\/\\//i;\n\n        if (!protocoll.test(url)) {\n            osmValidation.msg = osmValidation.URL_PROTOCOLL_INVALID;\n            return false;\n        } else {\n            url = url.replace(protocoll, \"\");\n        }\n\n        /*\n         * Remove Username & Password\n         */\n        var userpass = /^((\\w|\\d)(?:\\:(\\w|\\d)+?)\\@)/;\n        url = url.replace(userpass, \"\");\n\n        /*\n         * Host-Adress\n         */\n        var host_ipv4 = /^(1?\\d{1,2}|2[0-4][0-9]|25[0-5])\\.(1?\\d{1,2}|2[0-4][0-9]|25[0-5])\\.(1?\\d{1,2}|2[0-4][0-9]|25[0-5])\\.(1?\\d{1,2}|2[0-4][0-9]|25[0-5])/;\n        var host_ipv6 = /^\\[(([0-9A-Fa-f]{1,4}:){1,7}|:)(:|([0-9A-Fa-f]{1,4}:){1,7})[0-9A-Fa-f]{0,4}\\]/;\n        var host_domain = /^[0-9a-zA-Z-_.~]+\\.\\w+/;\n\n        if (host_ipv4.test(url)) {\n            // Check for local network addresses (not allowed)\n            var local_ipv4 = /^((0?10\\.)|(127\\.)|(192\\.168\\.)|(169\\.254\\.)|(172\\.0?((1[6-9])|(2[0-9])|(3[0-1]))\\.))/;\n            if (local_ipv4.test(url)) {\n                osmValidation.msg = osmValidation.URL_LOCAL_ADDRESS;\n                return false;\n            }\n            url = url.replace(host_ipv4, \"\");\n        } else if (host_ipv6.test(url)) {\n            // Check for local network addresses (not allowed)\n            var local_ipv6 = /^\\[(([fF]([cCdD]|[eE]80))|(::\\d+\\]))/;\n            if (local_ipv6.test(url)) {\n                osmValidation.msg = osmValidation.URL_LOCAL_ADDRESS;\n                return false;\n            }\n            url = url.replace(host_ipv6, \"\");\n\n        } else if (!host_domain.test(url)) {\n            // Test IDN\n            var idn_name_regex = /^.+([?#/].*)$/;\n            var idn = idn2ascii(url.replace(idn_name_regex, \"\"));\n            var idn_decoded = idn2ascii(idn);\n            if (!host_domain.test(idn_decoded)) {\n                osmValidation.msg = osmValidation.URL_HOST_INVALID;\n                return false;\n            } else {\n                url = url.replace(/^(.+)(?:[?#/].*?)?$/, \"\");\n            }\n        } else {\n            url = url.replace(host_domain, \"\");\n        }\n        /*\n         * Port\n         */\n        var port = /^\\:\\d+/;\n        url = url.replace(port, \"\");\n\n        /*\n         * End?\n         */\n        if (url.length === 0) {\n            osmValidation.msg = osmValidation.URL_VALID;\n            return true;\n        }\n\n        /*\n         * delimiter\n         */\n        var delimiter = /^([?#/].*)?$/;\n        if (delimiter.test(url)) {\n            osmValidation.msg = osmValidation.URL_VALID;\n            return true;\n        } else {\n            osmValidation.msg = osmValidation.URL_INVALID;\n            return false;\n        }\n    };\n\n    osmValidation.FACEBOOK_ID_ONLY = \"correct facebook ID\";\n    osmValidation.FACEBOOK_URL_VALID = \"correct facebook-page URL\";\n    osmValidation.FACEBOOK_URL_INVALID = \"Neither a valid facebook ID nor a plain link (without parameter) to a page\";\n    osmValidation.facebook = function (facebookID) {\n        // Teste auf ID\n        var facebookChars = /^[a-z0-9.]{5,}$/i;\n        if (facebookChars.test(facebookID)) {\n            osmValidation.msg = osmValidation.FACEBOOK_ID_ONLY;\n            return true;\n        }\n\n        // Teste auf URL\n        var facebookURL = /^(?:https?:\\/\\/?)?(?:www\\.?)?(?:facebook|fb?)\\.com\\/(?:(?:[a-z0-9.]{5,}?)|pages\\/(?:[^/?#\\s]{5,}?)\\/(?:[0-9]{5,}?)?)[\\/]?$/i;\n        if (facebookURL.test(facebookID)) {\n            osmValidation.msg = osmValidation.FACEBOOK_URL_VALID;\n            return true;\n        }\n\n        osmValidation.msg = osmValidation.FACEBOOK_URL_INVALID;\n        return false;\n    };\n\n    osmValidation.TWITTER_ID_ONLY = \"correct twitter ID\";\n    osmValidation.TWITTER_URL_VALID = \"correct twitter-page URL\";\n    osmValidation.TWITTER_URL_INVALID = \"Neither a valid twitter ID nor a plain link (without parameter) to a page\";\n    osmValidation.twitter = function (twitterID) {\n        // Nur Nutzername\n        if (/^[@]?[a-z0-9_]{1,15}$/i.test(twitterID)) {\n            osmValidation.msg = osmValidation.TWITTER_ID_ONLY;\n            return true;\n        } else if (/^(?:https?:\\/\\/)?(?:www\\.)?twitter\\.(?:(?:com)|(?:de))\\/[@]?[a-z0-9_]{1,15}$/i.test(twitterID)) {\n            osmValidation.msg = osmValidation.TWITTER_URL_VALID;\n            return true;\n        } else {\n            osmValidation.msg = osmValidation.TWITTER_URL_INVALID;\n            return false;\n        }\n    };\n\n    osmValidation.GOOGLE_ID_ONLY = \"correct google ID\";\n    osmValidation.GOOGLE_NAME_ONLY = \"correct google plus name\";\n    osmValidation.GOOGLE_URL_VALID = \"correct google-page URL\";\n    osmValidation.GOOGLE_URL_INVALID = \"Neither a valid google ID, name nor a plain link (without parameter) to a page\";\n    osmValidation.google = function (googleID) {\n        if (/^\\d{+}21}$/.test(googleID)) {\n            osmValidation.msg = osmValidation.GOOGLE_ID_ONLY;\n            return true;\n        } else if (/^(?:\\+?)?[a-z][a-z0-9-_]+$/i.test(googleID)) {\n            osmValidation.msg = osmValidation.GOOGLE_NAME_ONLY;\n            return true;\n        } else if (/^(?:https?:\\/\\/)?plus.google.com\\/(?:(?:\\w\\/\\d\\/)|(?:communities\\/))?((\\d{21})|((?:\\+)?[a-z][a-z0-9-_]+))[/]?$/i.test(googleID)) {\n            osmValidation.msg = osmValidation.GOOGLE_URL_VALID;\n            return true;\n        }\n        osmValidation.msg = osmValidation.GOOGLE_URL_INVALID;\n        return false;\n    };\n\n\n    // Export the Underscore object for **CommonJS**, with backwards-compatibility\n    // for the old `require()` API. If we're not in CommonJS, add `_` to the\n    // global object.\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = osmValidation;\n    }\n})();\n","/* \n * The MIT License\n *\n * Copyright 2017 Andreas Neumann <andr.neumann@googlemail.com>.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport { correctionToolClass } from \"./correctionTool\";\nimport { osmObject } from \"./osmObjectInterface\";\n\n//import * as ov from \"./libs/osmValidation/osmValidation.js\";\nimport ov = require(\"./libs/osmValidation/osmValidation.js\");\n\ndeclare var correctionTool: correctionToolClass;\n\nexport abstract class correctionObjectClass {\n    id = \"\";\n    \n    syntaxValidationHint: string;\n    syntaxValidator: Function;\n    \n    downloadTags: string[];\n    correctionTool: correctionToolClass;\n    osmValidation: any;\n\n    getTags() {\n        return this.downloadTags;\n    }\n    \n    constructor(correctionTool: correctionToolClass) {\n        this.correctionTool = correctionTool;\n        this.osmValidation = ov;\n    }\n    \n    abstract correctingSyntax(element: osmObject):string[];\n    \n    editorForm(label: string, value: string, type: string = \"error\"):JQuery {\n        var self = this;\n        let div = $('<div />')\n            .addClass(\"syntaxElement\")\n            .addClass(\"form-group\")\n            .addClass(\"panel\")\n            .addClass(\"panel-\"+type)\n            .append(\n                $(\"<label />\")\n                    .attr(\"for\",\"input\")\n                    .addClass(\"control-label\")\n                    .addClass(\"panel-heading\")\n                    .html(label))\n            .append(\n                $(\"<input />\")\n                    .attr(\"id\",\"input\")\n                    .addClass(\"form-control\")\n                    .addClass(\"panel-body\")\n                    .attr(\"type\",\"text\")\n                    .val(value)\n                    .keyup(function(){\n                        if (self.syntaxValidator($(this).val())) {\n                            $(this).removeClass('invalid');\n                            $(this).parent().parent().children(\"input[type=submit]\").prop('disabled', false);\n                        } else {\n                            $(this).addClass('invalid');\n                            $(this).parent(\"form\").children(\"input[type=submit]\").prop('disabled', true);\n                        }\n                    }));\n        let form = $('<form />')\n            .attr(\"role\",\"form\")\n            .append(div)\n            .append(\n                $(\"<input />\")\n                    .attr(\"type\",\"submit\")\n                    .addClass(\"btn\")\n                    .prop('disabled', true)\n                    .addClass(\"btn-success\")\n                    .html(\"weiter\")\n                    .click(function(){\n                        self.correctionTool.syntaxCorrection();\n                    }))\n            .append(\n                $(\"<button />\")\n                    .addClass(\"btn\")\n                    .addClass(\"btn-danger\")\n                    .html(\"überspringen\")\n                    .click(function(){\n                        self.correctionTool.syntaxCorrectionSkip();\n            }));\n        \n        return form;\n    }\n    syntaxEditor(tag: string, element: osmObject) {\n        $('#syntax').html(\"\");\n        $('#syntax').append(this.editorForm(tag, element.tags[tag]));\n        $('#syntax form input').change(function(){\n            if(this.osmValidation.phone($(this).val())) {\n                \n            }\n        });\n        $('#syntax form input').focus();\n    }\n    \n}","/* \n * The MIT License\n *\n * Copyright 2017 Andreas Neumann <andr.neumann@googlemail.com>.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { correctionObjectClass } from \"./correctionObject\";\n\nexport interface osmObject {\n    type:   string;\n    id:     number;\n    tags:   {[key: string]: string};\n    \n    // MetaDaten\n    timestamp: string;\n    version: number;\n    changeset: number;\n    \n    // Nodes:\n    lat:    number;\n    lon:    number;\n    \n    // Ways:\n    nodes: number[];\n    \n    // Relations:\n    members: {\n        type: string;\n        ref: number;\n        role: string;\n    }[];\n}\n\n\nexport interface overpassObject {\n    version:   string;\n    generator:     string;\n    osm3s:   {\n        timestamp_osm_base: string;\n        copyright: string\n    };\n    elements: osmObject[];\n}\n\n\nexport interface syntaxErrorObject {\n    element:    osmObject;\n    tag:    string;\n    plugin: correctionObjectClass;\n}","/* \n * The MIT License\n *\n * Copyright 2017 andreas.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport { correctionObjectClass } from \"./correctionObject\";\nimport { osmObject } from \"./osmObjectInterface\";\n\nexport class correctTelephone extends correctionObjectClass {\n    id = \"tel\";\n\n    downloadTags = [\"contact:phone\", \"phone\", \"contact:fax\", \"fax\"];\n\n    correctingSyntax(element: osmObject) {\n        var answer = [];\n        if (typeof element.tags !== \"undefined\") {\n            var regex = /^\\+(?:[0-9][ -]?){6,14}[0-9]$/;\n            for (var key in this.downloadTags) {\n                if (typeof element.tags[this.downloadTags[key]] !== \"undefined\") {\n                    if (!this.osmValidation.phone(element.tags[this.downloadTags[key]])) {\n                        answer.push(this.downloadTags[key]);\n                    }\n                }\n            }\n        }\n        return answer;\n    };\n    \n    syntaxValidator = this.osmValidation.phone;\n    syntaxValidationHint = \"\";\n}","/// <reference path=\"../typings/globals/osmauth/index.d.ts\" />\n/* \n * The MIT License\n *\n * Copyright 2016 Andreas.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n//import * as $ from \"./libs/jquery/jquery\";\n//(<any>window).jQuery = $;\n//import * as o from \"./osmauth.js\";\nimport { correctionToolClass } from \"./correctionTool\";\nimport { correctTelephone } from \"./tel\";\n\ndeclare var map: L.Map;\n\nvar auth = new osmAuth({\n    oauth_consumer_key: 'hvBxA6pLC16IPwWZHSZjimbxSFh5Y5LKFMCENcgq',\n    oauth_secret: 'PULRxpiJ8xhLNZgqxkHaFqLtFk3O1bzfXAxETOiq',\n    auto: true,\n    url:    'https://www.openstreetmap.org',\n    landing: 'land.html'\n});\n\nlet correctionTool: correctionToolClass;\n\ndocument.getElementById('osmLogin').onclick = function () {\n    auth.authenticate(function () {\n        update();\n    });\n};\n\nlet downloadOptions: string[] = [];\n\n$('.option').click(function() {\n        if (this.classList.contains('btn-default')) {\n            downloadOptions.push(this.id.replace(\"option-\", \"\"));\n        } else {\n            downloadOptions.splice(downloadOptions.indexOf(this.id.replace(\"option-\", \"\")), 1);\n        }\n        if (downloadOptions.length === 0) {\n            document.getElementById(\"download\").classList.add(\"hidden\");\n        } else {\n            document.getElementById(\"download\").classList.remove(\"hidden\");\n        }\n        this.classList.toggle('btn-default');\n        this.classList.toggle('btn-primary');\n    \n});\n$('#download').click(function () {\n    document.getElementById(\"stateOne\").classList.add(\"hidden\");\n    // Abzufragende Daten sammeln\n    for (let key in downloadOptions) {\n        switch(downloadOptions[key]) {\n            case \"tel\":\n                correctionTool.registerObject(new correctTelephone(correctionTool));\n                break;\n        };\n    }\n    // Abfrage absenden\n    // Validator anschmeissen\n    // Fehler anzeigen\n    document.getElementById(\"stateTwo\").classList.remove(\"hidden\");\n});\n\nfunction update() {\n    if (auth.authenticated()) {\n        document.getElementById('osmLogin').className = 'green';\n        document.getElementById(\"stateOne\").classList.remove(\"hidden\");\n\n        document.getElementById(\"stateZero\").classList.add(\"hidden\");\n        document.getElementById(\"stateTwo\").classList.add(\"hidden\");\n    } else {\n        document.getElementById(\"stateZero\").classList.add(\"hidden\");\n        document.getElementById(\"stateOne\").classList.remove(\"hidden\");\n\n        document.getElementById('osmLogin').className = '';\n    }\n}\n\nif (auth.authenticated()) {\n        document.getElementById(\"stateZero\").classList.add(\"hidden\");\n        document.getElementById(\"stateOne\").classList.remove(\"hidden\");\n    }\n    \n    map = L.map('map', {\n        center: [50.6841, 10.9171],\n        zoom: 15,\n        minZoom: 14,\n        layers: [\n            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {attribution: 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors'})\n        ]\n    });\n    \n    correctionTool = new correctionToolClass(auth,map);\n    $(\"#save\").click(function(){correctionTool.save(); return false;});"]}